{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///bindings.min.js","webpack:///webpack/bootstrap ae40bda90d6b53ed55a7","webpack:///./src/Binding.ts","webpack:///./src/utils.ts","webpack:///./src/Scope.ts","webpack:///./src/Value.ts","webpack:///./src/EventEmiter.ts","webpack:///external \"Object.observe\"","webpack:///./src/Modal.ts","webpack:///./src/Expression.ts","webpack:///./src/bindingTypes.ts","webpack:///./src/bindings/attr.ts","webpack:///./src/bindings/class.ts","webpack:///./src/bindings/click.ts","webpack:///./src/bindings/disabled.ts","webpack:///./src/bindings/enabled.ts","webpack:///./src/bindings/event.ts","webpack:///./src/bindings/foreach.ts","webpack:///./src/bindings/hidden.ts","webpack:///./src/bindings/href.ts","webpack:///./src/bindings/html.ts","webpack:///./src/bindings/if.ts","webpack:///./src/bindings/ifnot.ts","webpack:///./src/bindings/input.ts","webpack:///./src/bindings/repeat.ts","webpack:///./src/bindings/src.ts","webpack:///./src/bindings/style.ts","webpack:///./src/bindings/submit.ts","webpack:///./src/bindings/text.ts","webpack:///./src/bindings/value.ts","webpack:///./src/bindings/visible.ts","webpack:///./src/bindings/with.ts","webpack:///./src/index.ts"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_5__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","Binding","node","__scope__","run","unbind","id","priority","default","OneWayBinding","_super","expression","_this","dependencies","updateDependenciesOnChange","Expression_1","scope","updateDependencies","dependencyChange","length","success","push","bindDependencies","unbindDependencies","getDependencies","refresh","undefined","requires","on","bind","off","TwoWayBinding","domEvents","dontUpdate","bindEvents","change","event","unbindEvents","updateEvents","addEventListener","removeEventListener","EventBinding","Function","InlineBinding","nodeValue","setAttr","el","attr","setAttribute","removeAttribute","loadJSON","url","cb","defaultObject","func","callbacks","cache","loading","getJSON","json","err","mode","resolve","reject","xhttp","XMLHttpRequest","onloadend","JSON","parse","responseText","e","open","toUpperCase","send","extend","obj","obj2","noop","clone","stringify","extendNew","o1","o2","o3","o4","arguments","duplicateObject","count","k","getBinding","type","binding","bindingTypes","createBinding","splice","data","join","EventEmiter_1","Scope","key","modal","parent","values","setKeys","observer","objectChange","observe","dispose","unobserve","getKey","setKey","dontFire","Value_1","setValue","update","keys","removeKey","emit","updateKey","updateKeys","direction","Value","updateValue","EventEmiter","events","fn","ctx","indexOf","once","Modal","options","document","body","bindings","prefix","inlineDelimiters","excludedElements","script","link","meta","style","Scope_1","MutationObserver","ElementChange","applyBindings","disconnect","buildBindings","childList","bindingsCreated","nodeName","toLowerCase","__bindings__","parentNode","__addedScope__","utils_1","concat","createBindings","childNodes","childNode","nodeType","ELEMENT_NODE","createAttrBindings","TEXT_NODE","createInlineBindings","attrs","attributes","types","item","_types","split","console","error","sort","a","t","tokens","parseInlineBindings","token","textNode","createTextNode","insertBefore","Binding_1","removeChild","template","delimiters","lastToken","substring","index","lastIndex","slice","trim","stopPropagation","target","Expression","variables","$node","funcString","args","context","buildContext","eval","apply","runOnScope","_data","gets","sets","hidden","window","navigator","localStorage","location","alert","dontSet","set","val","__defineGetter__","__defineSetter__","$parent","$modal","attr_1","class_1","class","click_1","click","disabled_1","disabled","enabled_1","enabled","event_1","foreach_1","foreach","hidden_1","href_1","href","html_1","html","if_1","if","ifnot_1","ifnot","input_1","input","repeat_1","repeat","src_1","src","style_1","submit_1","submit","text_1","text","value_1","visible_1","visible","with_1","with","AttrBinding","ClassBinding","bindClass","hasClass","addClass","removeClass","className","replace","RegExp","ClickBinding","DisabledBinding","EnabledBinding","bindEvent","ForEachBinding","children","removeAllChildren","restoreChildren","appendChild","Error","cloneNode","$index","$isFirst","$isLast","HiddenBinding","display","HrefBinding","HTMLBinding","oldText","textContent","innerHTML","IfBinding","removeChildren","IfNotBinding","InputBinding","RepeatBinding","times","SrcBinding","StyleBinding","SubmitBinding","preventDefault","TextBinding","innerText","ValueBinding","VisibleBinding","WithBinding","__export","createModal","modalObject","Modal_1","_bindings","utils"],"mappings":"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","file":"bindings.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Object.observe\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Object.observe\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bindings\"] = factory(require(\"Object.observe\"));\n\telse\n\t\troot[\"bindings\"] = factory(root[\"Object.observe\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Object.observe\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Object.observe\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bindings\"] = factory(require(\"Object.observe\"));\n\telse\n\t\troot[\"bindings\"] = factory(root[\"Object.observe\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_5__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 30);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding = (function () {\r\n    function Binding() {\r\n    }\r\n    Object.defineProperty(Binding.prototype, \"scope\", {\r\n        get: function () {\r\n            return this.node.__scope__;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Binding.prototype.run = function () { };\r\n    Binding.prototype.unbind = function () { };\r\n    return Binding;\r\n}());\r\nBinding.id = '';\r\nBinding.priority = 0;\r\nexports.Binding = Binding;\r\nexports.default = Binding;\r\nvar OneWayBinding = (function (_super) {\r\n    __extends(OneWayBinding, _super);\r\n    function OneWayBinding(node, expression) {\r\n        var _this = _super.call(this) || this;\r\n        _this.node = node;\r\n        /** a list of scopes or values this binding is listening to */\r\n        _this.dependencies = [];\r\n        _this.updateDependenciesOnChange = false;\r\n        _this.expression = new Expression_1.default(node, expression, _this.scope);\r\n        _this.updateDependencies();\r\n        return _this;\r\n    }\r\n    /** this is called when one of the dependencies change */\r\n    OneWayBinding.prototype.dependencyChange = function () {\r\n        if (this.updateDependenciesOnChange) {\r\n            this.updateDependencies();\r\n        }\r\n        this.run();\r\n    };\r\n    /** this is called when the expresion changes */\r\n    OneWayBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.expression.run();\r\n        if (this.dependencies.length == 0 && !this.expression.success) {\r\n            this.dependencies.push(this.scope);\r\n            this.bindDependencies();\r\n            this.updateDependenciesOnChange = true; //when dependecies change update them\r\n        }\r\n    };\r\n    /** unbinds the binding from the html node */\r\n    OneWayBinding.prototype.unbind = function () {\r\n        this.unbindDependencies();\r\n    };\r\n    OneWayBinding.prototype.getDependencies = function (refresh) {\r\n        if (refresh === void 0) { refresh = false; }\r\n        if (refresh || this.dependencies == undefined) {\r\n            //get dependencies\r\n            this.dependencies = this.expression.getDependencies().requires;\r\n        }\r\n        return this.dependencies;\r\n    };\r\n    OneWayBinding.prototype.updateDependencies = function () {\r\n        this.unbindDependencies();\r\n        this.getDependencies(true);\r\n        this.bindDependencies();\r\n    };\r\n    OneWayBinding.prototype.bindDependencies = function () {\r\n        for (var i = 0; i < this.dependencies.length; i++) {\r\n            this.dependencies[i].on('change', this.dependencyChange.bind(this));\r\n        }\r\n    };\r\n    OneWayBinding.prototype.unbindDependencies = function () {\r\n        for (var i = 0; i < this.dependencies.length; i++) {\r\n            this.dependencies[i].off('change', this.dependencyChange.bind(this));\r\n        }\r\n    };\r\n    return OneWayBinding;\r\n}(Binding));\r\nexports.OneWayBinding = OneWayBinding;\r\nvar TwoWayBinding = (function (_super) {\r\n    __extends(TwoWayBinding, _super);\r\n    function TwoWayBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.domEvents = []; //add events to this list to bind to them\r\n        _this.dontUpdate = false;\r\n        //update the node\r\n        _this.run();\r\n        _this.bindEvents();\r\n        return _this;\r\n    }\r\n    /** this is called when the dom changes */\r\n    TwoWayBinding.prototype.change = function (event) {\r\n        this.dontUpdate = true; //dont update (call this.run) the node\r\n    };\r\n    TwoWayBinding.prototype.dependencyChange = function () {\r\n        if (!this.dontUpdate) {\r\n            _super.prototype.dependencyChange.call(this);\r\n        }\r\n        this.dontUpdate = false;\r\n    };\r\n    TwoWayBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.unbindEvents();\r\n    };\r\n    TwoWayBinding.prototype.updateEvents = function () {\r\n        this.unbindEvents();\r\n        this.bindEvents();\r\n    };\r\n    TwoWayBinding.prototype.bindEvents = function () {\r\n        for (var i = 0; i < this.domEvents.length; i++) {\r\n            this.node.addEventListener(this.domEvents[i], this.change.bind(this));\r\n        }\r\n    };\r\n    TwoWayBinding.prototype.unbindEvents = function () {\r\n        for (var i = 0; i < this.domEvents.length; i++) {\r\n            this.node.removeEventListener(this.domEvents[i], this.change.bind(this));\r\n        }\r\n    };\r\n    return TwoWayBinding;\r\n}(OneWayBinding));\r\nexports.TwoWayBinding = TwoWayBinding;\r\nvar EventBinding = (function (_super) {\r\n    __extends(EventBinding, _super);\r\n    function EventBinding(node, expression) {\r\n        var _this = _super.call(this) || this;\r\n        _this.node = node;\r\n        _this.domEvents = [];\r\n        _this.expression = new Expression_1.default(node, expression, _this.scope);\r\n        _this.bindEvents();\r\n        return _this;\r\n    }\r\n    EventBinding.prototype.change = function (event) {\r\n        this.expression.run();\r\n        if (this.expression.value instanceof Function && this.scope) {\r\n            //run it on the scope\r\n            this.expression.value.call(this.scope.object, event);\r\n        }\r\n    };\r\n    EventBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.unbindEvents();\r\n    };\r\n    EventBinding.prototype.updateEvents = function () {\r\n        this.unbindEvents();\r\n        this.bindEvents();\r\n    };\r\n    EventBinding.prototype.bindEvents = function () {\r\n        for (var i = 0; i < this.domEvents.length; i++) {\r\n            this.node.addEventListener(this.domEvents[i], this.change.bind(this));\r\n        }\r\n    };\r\n    EventBinding.prototype.unbindEvents = function () {\r\n        for (var i = 0; i < this.domEvents.length; i++) {\r\n            this.node.removeEventListener(this.domEvents[i], this.change.bind(this));\r\n        }\r\n    };\r\n    return EventBinding;\r\n}(Binding));\r\nexports.EventBinding = EventBinding;\r\nvar InlineBinding = (function (_super) {\r\n    __extends(InlineBinding, _super);\r\n    function InlineBinding(node) {\r\n        var _this = _super.call(this) || this;\r\n        _this.node = node;\r\n        _this.dependencies = []; //a list of scopes and values this bindings uses\r\n        _this.updateDependenciesOnChange = false;\r\n        _this.expression = new Expression_1.default(node, node.nodeValue, _this.scope);\r\n        _this.updateDependencies();\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(InlineBinding.prototype, \"scope\", {\r\n        get: function () {\r\n            return this.node.__scope__;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InlineBinding.prototype.dependencyChange = function () {\r\n        if (this.updateDependenciesOnChange) {\r\n            this.updateDependencies();\r\n        }\r\n        this.run();\r\n    };\r\n    InlineBinding.prototype.run = function () {\r\n        this.expression.run();\r\n        this.node.nodeValue = this.expression.value;\r\n        if (this.dependencies.length == 0 && !this.expression.success) {\r\n            this.dependencies.push(this.scope);\r\n            this.bindDependencies();\r\n            this.updateDependenciesOnChange = true; //when dependecies change update them\r\n        }\r\n    };\r\n    InlineBinding.prototype.unbind = function () {\r\n        this.unbindDependencies();\r\n    };\r\n    InlineBinding.prototype.getDependencies = function (refresh) {\r\n        if (refresh === void 0) { refresh = false; }\r\n        if (refresh || this.dependencies == undefined) {\r\n            //get dependencies\r\n            this.dependencies = this.expression.getDependencies().requires;\r\n        }\r\n        return this.dependencies;\r\n    };\r\n    InlineBinding.prototype.updateDependencies = function () {\r\n        this.unbindDependencies();\r\n        this.getDependencies(true);\r\n        this.bindDependencies();\r\n    };\r\n    InlineBinding.prototype.bindDependencies = function () {\r\n        for (var i = 0; i < this.dependencies.length; i++) {\r\n            this.dependencies[i].on('change', this.dependencyChange.bind(this));\r\n        }\r\n    };\r\n    InlineBinding.prototype.unbindDependencies = function () {\r\n        for (var i = 0; i < this.dependencies.length; i++) {\r\n            this.dependencies[i].off('change', this.dependencyChange.bind(this));\r\n        }\r\n    };\r\n    return InlineBinding;\r\n}(Binding));\r\nexports.InlineBinding = InlineBinding;\r\nvar Expression_1 = __webpack_require__(7);\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction setAttr(el, attr, value) {\r\n    if (value != null)\r\n        el.setAttribute(attr, value);\r\n    else\r\n        el.removeAttribute(attr);\r\n}\r\nexports.setAttr = setAttr;\r\nfunction loadJSON(url, cb, defaultObject) {\r\n    var func = loadJSON;\r\n    func.callbacks = func.callbacks || {};\r\n    func.cache = func.cache || {};\r\n    func.loading = func.loading || {};\r\n    if (!func.cache[url]) {\r\n        func.cache[url] = defaultObject || {};\r\n        this.getJSON(url, 'GET', function (json) {\r\n            func.cache[url].__proto__ = json.__proto__;\r\n            if (json instanceof Array) {\r\n                for (var i = 0; i < json.length; i++) {\r\n                    func.cache[url].push(json[i]);\r\n                }\r\n                ;\r\n            }\r\n            else {\r\n                for (var i in json) {\r\n                    if (json[i] != null)\r\n                        func.cache[url][i] = json[i];\r\n                }\r\n            }\r\n            if (cb)\r\n                cb(json);\r\n            if (func.callbacks[url]) {\r\n                for (var i = 0; i < func.callbacks[url].length; i++) {\r\n                    func.callbacks[url][i](json);\r\n                }\r\n                ;\r\n            }\r\n        }, function (err) {\r\n            if (cb)\r\n                cb(false);\r\n            if (func.callbacks[url]) {\r\n                for (var i = 0; i < func.callbacks[url].length; i++) {\r\n                    func.callbacks[url][i](false);\r\n                }\r\n                ;\r\n            }\r\n        });\r\n    }\r\n    else if (func.loading[url]) {\r\n        func.callbacks[url] = func.callbacks[url] || [];\r\n        func.callbacks[url].push(cb);\r\n    }\r\n    else {\r\n        if (cb)\r\n            cb(func.cache[url]);\r\n    }\r\n    return func.cache[url];\r\n}\r\nexports.loadJSON = loadJSON;\r\nfunction getJSON(url, mode, resolve, reject) {\r\n    if (mode === void 0) { mode = 'GET'; }\r\n    var xhttp = new XMLHttpRequest();\r\n    xhttp.onloadend = function () {\r\n        var json;\r\n        try {\r\n            json = JSON.parse(xhttp.responseText);\r\n            resolve && resolve(json);\r\n        }\r\n        catch (e) {\r\n            reject && reject(e);\r\n        }\r\n    };\r\n    xhttp.open(mode.toUpperCase(), url, true);\r\n    xhttp.send();\r\n}\r\nexports.getJSON = getJSON;\r\nfunction extend(obj, obj2) {\r\n    obj = obj || {};\r\n    obj2 = obj2 || {};\r\n    for (var i in obj2) {\r\n        obj[i] = obj2[i];\r\n    }\r\n    return obj;\r\n}\r\nexports.extend = extend;\r\nfunction noop() { }\r\nexports.noop = noop;\r\nfunction clone(obj) {\r\n    if (typeof obj == 'object') {\r\n        return JSON.parse(JSON.stringify(obj));\r\n    }\r\n}\r\nexports.clone = clone;\r\nfunction extendNew(o1, o2, o3, o4) {\r\n    if (o1 === void 0) { o1 = {}; }\r\n    if (o2 === void 0) { o2 = {}; }\r\n    if (o3 === void 0) { o3 = {}; }\r\n    if (o4 === void 0) { o4 = {}; }\r\n    var o = {};\r\n    for (var i in arguments) {\r\n        this.extend(o, arguments[i]);\r\n    }\r\n    return o;\r\n}\r\nexports.extendNew = extendNew;\r\nfunction duplicateObject(obj2, count) {\r\n    if (count === void 0) { count = 20; }\r\n    if (obj2 instanceof Object && obj2 !== null) {\r\n        // count = (count !== undefined)? count : 20;\r\n        var obj = {};\r\n        if (count > 0) {\r\n            // see if its an array\r\n            if (obj2.hasOwnProperty('length')) {\r\n                obj = new Array(0);\r\n                for (var i = 0; i < obj2.length; i++) {\r\n                    if (typeof obj2[i] !== 'object') {\r\n                        obj[i] = obj2[i];\r\n                    }\r\n                    else {\r\n                        obj[i] = this.duplicateObject(obj2[i], count - 1);\r\n                    }\r\n                }\r\n                ;\r\n            }\r\n            else {\r\n                for (var k in obj2) {\r\n                    if (!(obj2[k] instanceof Object)) {\r\n                        obj[k] = obj2[k];\r\n                    }\r\n                    else {\r\n                        obj[k] = this.duplicateObject(obj2[k], count - 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n    else {\r\n        return obj2;\r\n    }\r\n}\r\nexports.duplicateObject = duplicateObject;\r\nfunction getBinding(type) {\r\n    var binding;\r\n    for (var i in bindingTypes) {\r\n        if (bindingTypes[i].id == type) {\r\n            return bindingTypes[i];\r\n        }\r\n    }\r\n    return binding;\r\n}\r\nexports.getBinding = getBinding;\r\nfunction createBinding(type, node, expression) {\r\n    if (!(type instanceof Array)) {\r\n        type = [type];\r\n    }\r\n    var binding;\r\n    var id = type[0];\r\n    type.splice(0, 1); //remove first entry\r\n    var data = type.join('-');\r\n    for (var i in bindingTypes) {\r\n        if (bindingTypes[i].id == id) {\r\n            binding = new bindingTypes[i](node, expression, data);\r\n            break;\r\n        }\r\n    }\r\n    return binding;\r\n}\r\nexports.createBinding = createBinding;\r\nvar bindingTypes = __webpack_require__(8);\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventEmiter_1 = __webpack_require__(4);\r\n__webpack_require__(5);\r\nvar Scope = (function (_super) {\r\n    __extends(Scope, _super);\r\n    function Scope(key, object, modal, parent) {\r\n        if (parent === void 0) { parent = undefined; }\r\n        var _this = _super.call(this) || this;\r\n        _this.key = key;\r\n        _this.object = object;\r\n        _this.modal = modal;\r\n        _this.parent = parent;\r\n        _this.values = (object instanceof Array) ? [] : {};\r\n        _this.setKeys(_this.object);\r\n        //watch for changes\r\n        _this.observer = _this.objectChange.bind(_this);\r\n        Object.observe(_this.object, _this.observer);\r\n        return _this;\r\n    }\r\n    Scope.prototype.dispose = function () {\r\n        Object.unobserve(this.object, this.observer);\r\n    };\r\n    Scope.prototype.getKey = function (value) {\r\n        for (var i in this.values) {\r\n            if (this.values[i].value == value) {\r\n                return i;\r\n            }\r\n        }\r\n        ;\r\n    };\r\n    Scope.prototype.setKey = function (key, value, dontFire) {\r\n        if (dontFire === void 0) { dontFire = false; }\r\n        if (this.values[key] == undefined) {\r\n            //add it\r\n            if (typeof value == 'object') {\r\n                this.values[key] = new Scope(key, value, this.modal, this);\r\n            }\r\n            else {\r\n                this.values[key] = new Value_1.default(key, value, this);\r\n            }\r\n        }\r\n        if (this.values[key] instanceof Value_1.default) {\r\n            this.values[key].setValue(value);\r\n        }\r\n        else if (this.values[key] instanceof Scope) {\r\n            this.values[key].setKeys(value);\r\n        }\r\n        if (!dontFire)\r\n            this.update();\r\n    };\r\n    Scope.prototype.setKeys = function (keys, dontFire) {\r\n        if (dontFire === void 0) { dontFire = false; }\r\n        for (var i in keys) {\r\n            this.setKey(i, keys[i], true);\r\n        }\r\n        ;\r\n        if (!dontFire)\r\n            this.update();\r\n    };\r\n    Scope.prototype.removeKey = function (key, dontFire) {\r\n        if (dontFire === void 0) { dontFire = false; }\r\n        this.values[key].dispose();\r\n        delete this.values[key];\r\n        if (!dontFire)\r\n            this.emit('change', this);\r\n    };\r\n    Scope.prototype.updateKey = function (key, value) {\r\n        this.object[key] = value;\r\n    };\r\n    Scope.prototype.updateKeys = function (keys) {\r\n        for (var i in keys) {\r\n            this.updateKey(i, keys[i]);\r\n        }\r\n    };\r\n    Scope.prototype.update = function () {\r\n        this.emit('change', this.object);\r\n    };\r\n    Scope.prototype.objectChange = function (data) {\r\n        for (var i = 0; i < data.length; i++) {\r\n            if (data[i].name == '_bindings')\r\n                continue;\r\n            switch (data[i].type) {\r\n                case 'add':\r\n                    this.setKey(data[i].name, data[i].object[data[i].name], true);\r\n                    this.update();\r\n                    break;\r\n                case 'update':\r\n                    this.setKey(data[i].name, data[i].object[data[i].name], true);\r\n                    break;\r\n                case 'delete':\r\n                    this.removeKey(data[i].name, true);\r\n                    this.update();\r\n                    break;\r\n            }\r\n        }\r\n        // this.update(); dont update at end, only update if a key is delete/added\r\n    };\r\n    Scope.prototype.emit = function (event, data, direction) {\r\n        if (data === void 0) { data = undefined; }\r\n        if (direction === void 0) { direction = ''; }\r\n        _super.prototype.emit.call(this, event, data);\r\n        switch (direction) {\r\n            case 'down':\r\n                for (var i in this.values) {\r\n                    if (this.values[i] instanceof Scope) {\r\n                        this.values[i].emit(event, data, direction);\r\n                    }\r\n                    else {\r\n                        this.values[i].emit(event, data);\r\n                    }\r\n                }\r\n                break;\r\n            case 'up':\r\n                if (this.parent) {\r\n                    this.parent.emit(event, data, direction);\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    return Scope;\r\n}(EventEmiter_1.default));\r\nexports.default = Scope;\r\nvar Value_1 = __webpack_require__(3);\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventEmiter_1 = __webpack_require__(4);\r\nvar Value = (function (_super) {\r\n    __extends(Value, _super);\r\n    function Value(key, value, parent) {\r\n        if (key === void 0) { key = ''; }\r\n        var _this = _super.call(this) || this;\r\n        _this.key = key;\r\n        _this.value = value;\r\n        _this.parent = parent;\r\n        return _this;\r\n    }\r\n    Value.prototype.dispose = function () {\r\n    };\r\n    Value.prototype.setValue = function (value) {\r\n        this.value = value;\r\n        this.update();\r\n        return this.value;\r\n    };\r\n    Value.prototype.updateValue = function (value) {\r\n        this.parent.updateKey(this.key, value);\r\n    };\r\n    /**\r\n     * fires the change evnet\r\n     */\r\n    Value.prototype.update = function () {\r\n        this.emit('change', this.value);\r\n    };\r\n    return Value;\r\n}(EventEmiter_1.default));\r\nexports.default = Value;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventEmiter = (function () {\r\n    /**\r\n        @constructs EventEmiter\r\n    */\r\n    function EventEmiter() {\r\n        /**\r\n            an array of event listeners\\\r\n            @member\r\n            @private\r\n            @type {Object[]}\r\n        */\r\n        this.events = {};\r\n    }\r\n    /**\r\n        binds a listener to an event\r\n        @public\r\n        @param {string} event\r\n        @param {function} listener\r\n        @param {Object} [ctx] - the object to run the call back on\r\n    */\r\n    EventEmiter.prototype.on = function (event, fn, ctx) {\r\n        if (ctx === void 0) { ctx = undefined; }\r\n        if (!this.events[event]) {\r\n            this.events[event] = [];\r\n        }\r\n        if (ctx)\r\n            fn = fn.bind(ctx);\r\n        this.events[event].push(fn);\r\n    };\r\n    /**\r\n        unbinds a listener from an event\r\n        @public\r\n        @param {string} event\r\n        @param {function} listener\r\n    */\r\n    EventEmiter.prototype.off = function (event, fn) {\r\n        if (!this.events[event]) {\r\n            this.events[event] = [];\r\n        }\r\n        if (this.events[event].indexOf(fn) !== -1) {\r\n            this.events[event].splice(this.events[event].indexOf(fn), 1);\r\n        }\r\n    };\r\n    /**\r\n        binds a listener that is only called once to an event\r\n        @public\r\n        @param {string} event\r\n        @param {function} listener\r\n        @param {Object} [ctx] - the object to run the call back on\r\n    */\r\n    EventEmiter.prototype.once = function (event, fn, ctx) {\r\n        if (ctx === void 0) { ctx = undefined; }\r\n        this.on(event, function (event, _this) {\r\n            if (fn)\r\n                fn();\r\n            this.off(event, _this);\r\n        }.bind(this), ctx);\r\n    };\r\n    /**\r\n        fires an event\r\n        @public\r\n        @param {string} event\r\n        @param {*} [data]\r\n    */\r\n    EventEmiter.prototype.emit = function (event, data) {\r\n        if (data === void 0) { data = undefined; }\r\n        if (!this.events[event]) {\r\n            this.events[event] = [];\r\n        }\r\n        for (var i = 0; i < this.events[event].length; i++) {\r\n            this.events[event][i](data);\r\n        }\r\n        ;\r\n    };\r\n    return EventEmiter;\r\n}());\r\nexports.default = EventEmiter;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(5);\r\nvar Modal = (function () {\r\n    function Modal(object, options, node) {\r\n        if (options === void 0) { options = {}; }\r\n        if (node === void 0) { node = document.body; }\r\n        this.object = object;\r\n        /** an array of bindings for this modal */\r\n        this.bindings = [];\r\n        this.options = {\r\n            prefix: 'bind',\r\n            inlineDelimiters: ['{', '}'],\r\n            excludedElements: {\r\n                script: true,\r\n                link: true,\r\n                meta: true,\r\n                style: true\r\n            }\r\n        };\r\n        this.scope = new Scope_1.default('', object, this);\r\n        this.node = node;\r\n        for (var i in options) {\r\n            this.options[i] = options[i];\r\n        }\r\n        this.observer = new MutationObserver(this.ElementChange.bind(this));\r\n    }\r\n    Modal.prototype.applyBindings = function (node) {\r\n        if (node === void 0) { node = undefined; }\r\n        //remove old event\r\n        this.observer.disconnect();\r\n        if (node)\r\n            this.node = node;\r\n        this.bindings = this.buildBindings();\r\n        // watch the new node\r\n        this.observer.observe(this.node, {\r\n            childList: true\r\n        });\r\n    };\r\n    /** loop through this.nodes children and create the bindings */\r\n    Modal.prototype.buildBindings = function (node, scope) {\r\n        if (node === void 0) { node = this.node; }\r\n        if (scope === void 0) { scope = node.__scope__ || this.scope; }\r\n        var bindingsCreated = [];\r\n        if (node.nodeName.toLowerCase() in this.options.excludedElements)\r\n            return;\r\n        //remove old bindings\r\n        if (node.__bindings__) {\r\n            for (var i = 0; i < node.__bindings__.length; i++) {\r\n                node.__bindings__[i].unbind();\r\n            }\r\n            ;\r\n            node.__bindings__ = [];\r\n        }\r\n        //set scope\r\n        node.__scope__ = node.__scope__ || scope;\r\n        if (node.parentNode) {\r\n            node.__addedScope__ = utils_1.extendNew(node.parentNode.__addedScope__ || {}, node.__addedScope__ || {});\r\n        }\r\n        bindingsCreated = bindingsCreated.concat(this.createBindings(node)); //createBindings handles setting __bindings__\r\n        //if node was a text node then it will not have any children even though createInlineBindings splits it into mutiple textNodes\r\n        //loop through and bind children\r\n        for (var i = 0; i < node.childNodes.length; i++) {\r\n            var childNode = node.childNodes[i];\r\n            if (childNode.nodeName.toLowerCase() in this.options.excludedElements)\r\n                continue;\r\n            bindingsCreated = bindingsCreated.concat(this.buildBindings(childNode, childNode.__scope__ || scope));\r\n        }\r\n        ;\r\n        return bindingsCreated;\r\n    };\r\n    Modal.prototype.createBindings = function (node) {\r\n        var bindingsCreated = [];\r\n        switch (node.nodeType) {\r\n            case node.ELEMENT_NODE:\r\n                bindingsCreated = this.createAttrBindings(node);\r\n                break;\r\n            case node.TEXT_NODE:\r\n                bindingsCreated = this.createInlineBindings(node);\r\n                break;\r\n        }\r\n        return bindingsCreated;\r\n    };\r\n    Modal.prototype.createAttrBindings = function (node) {\r\n        var bindingsCreated = [];\r\n        var attrs = node.attributes;\r\n        var types = [];\r\n        //find the bindings\r\n        for (var i = 0; i < attrs.length; i++) {\r\n            var attr = attrs.item(i);\r\n            var _types = attr.name.split('-');\r\n            if (_types[0] == this.options.prefix) {\r\n                _types.splice(0, 1); //remove the prefix\r\n                var fn = utils_1.getBinding(_types[0]);\r\n                if (fn) {\r\n                    types.push({\r\n                        types: _types,\r\n                        attr: attr,\r\n                        constructor: fn\r\n                    });\r\n                }\r\n                else {\r\n                    console.error('cant find binding: ' + attr.name);\r\n                }\r\n            }\r\n        }\r\n        ;\r\n        //sort by priority\r\n        types.sort(function (a, b) {\r\n            if (a.constructor.priority < b.constructor.priority) {\r\n                return 1;\r\n            }\r\n            else if (a.constructor.priority > b.constructor.priority) {\r\n                return -1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        });\r\n        //create the bindings\r\n        for (var i = 0; i < types.length; i++) {\r\n            var t = types[i];\r\n            try {\r\n                bindingsCreated.push(utils_1.createBinding(t.types, node, t.attr.value));\r\n            }\r\n            catch (e) {\r\n                console.error('failed to create binding: ' + t.attr.name);\r\n                console.error(e);\r\n            }\r\n        }\r\n        node.__bindings__ = bindingsCreated;\r\n        return bindingsCreated;\r\n    };\r\n    Modal.prototype.createInlineBindings = function (node) {\r\n        var bindingsCreated = [];\r\n        var tokens = this.parseInlineBindings(node.nodeValue, this.options.inlineDelimiters);\r\n        if (!(tokens.length === 1 && tokens[0].type === 'text')) {\r\n            for (var i = 0; i < tokens.length; i++) {\r\n                var token = tokens[i];\r\n                var textNode = document.createTextNode(token.value);\r\n                //copy scopes\r\n                // textNode.__bindings__ = clone(node.__bindings__); dont clone the bindings array because no two nodes should have the same bindigns\r\n                textNode.__bindings__ = [];\r\n                textNode.__scope__ = node.__scope__;\r\n                textNode.__addedScope__ = utils_1.clone(node.__addedScope__);\r\n                node.parentNode.insertBefore(textNode, node);\r\n                if (token.type === 'binding') {\r\n                    var b = new Binding_1.InlineBinding(textNode);\r\n                    textNode.__bindings__ = [b];\r\n                    bindingsCreated.push(b);\r\n                }\r\n            }\r\n            node.parentNode.removeChild(node);\r\n        }\r\n        return bindingsCreated;\r\n    };\r\n    Modal.prototype.parseInlineBindings = function (template, delimiters) {\r\n        var index = 0, lastIndex = 0, lastToken, length = template.length, substring, tokens = [], value;\r\n        while (lastIndex < length) {\r\n            index = template.indexOf(delimiters[0], lastIndex);\r\n            if (index < 0) {\r\n                tokens.push({\r\n                    type: 'text',\r\n                    value: template.slice(lastIndex)\r\n                });\r\n                break;\r\n            }\r\n            else {\r\n                if (index > 0 && lastIndex < index) {\r\n                    tokens.push({\r\n                        type: 'text',\r\n                        value: template.slice(lastIndex, index)\r\n                    });\r\n                }\r\n                lastIndex = index + delimiters[0].length;\r\n                index = template.indexOf(delimiters[1], lastIndex);\r\n                if (index < 0) {\r\n                    substring = template.slice(lastIndex - delimiters[1].length);\r\n                    lastToken = tokens[tokens.length - 1];\r\n                    if ((lastToken != null ? lastToken.type : void 0) === 'text') {\r\n                        lastToken.value += substring;\r\n                    }\r\n                    else {\r\n                        tokens.push({\r\n                            type: 'text',\r\n                            value: substring\r\n                        });\r\n                    }\r\n                    break;\r\n                }\r\n                value = template.slice(lastIndex, index).trim();\r\n                tokens.push({\r\n                    type: 'binding',\r\n                    value: value\r\n                });\r\n                lastIndex = index + delimiters[1].length;\r\n            }\r\n        }\r\n        return tokens;\r\n    };\r\n    Modal.prototype.ElementChange = function (event) {\r\n        event.stopPropagation();\r\n        var el = event.target;\r\n        if (el.nodeType !== 3) {\r\n            this.buildBindings(el);\r\n        }\r\n    };\r\n    return Modal;\r\n}());\r\nexports.default = Modal;\r\nvar Scope_1 = __webpack_require__(2);\r\nvar Binding_1 = __webpack_require__(0);\r\nvar utils_1 = __webpack_require__(1);\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Expression = (function () {\r\n    /**\r\n        @constructs Expression\r\n        @param {node} node - the node to use for this expression\r\n        @param {string} expression\r\n        @param {Scope} scope\r\n    */\r\n    function Expression(node, expression, scope) {\r\n        this.node = node;\r\n        this.expression = expression;\r\n        this.scope = scope;\r\n        this.success = true;\r\n        this.value = undefined;\r\n        this.dependencies = [];\r\n    }\r\n    /**\r\n        @public\r\n    */\r\n    Expression.prototype.run = function () {\r\n        var data = {\r\n            value: undefined,\r\n            success: true,\r\n            error: undefined\r\n        };\r\n        var variables = {\r\n            $node: this.node\r\n        };\r\n        var funcString = 'new Function(\"variables\",\"addedScope\",\"', args = [];\r\n        var context = this.buildContext(this.scope).context;\r\n        args.push(variables);\r\n        args.push(this.node.__addedScope__ || {});\r\n        funcString += 'with(this){';\r\n        funcString += 'with(variables){';\r\n        funcString += 'with(addedScope){';\r\n        funcString += 'return ';\r\n        funcString += this.expression;\r\n        funcString += '}';\r\n        funcString += '}';\r\n        funcString += '}';\r\n        funcString += '\")';\r\n        var func = eval(funcString);\r\n        try {\r\n            data.value = func.apply(context, args);\r\n        }\r\n        catch (e) {\r\n            data.success = false;\r\n            data.error = e;\r\n        }\r\n        this.value = data.value;\r\n        this.success = data.success;\r\n        return data;\r\n    };\r\n    Expression.prototype.runOnScope = function () {\r\n        var data = {\r\n            value: undefined,\r\n            success: false\r\n        };\r\n        var _data = this.getDependencies();\r\n        data.value = _data.gets[_data.gets.length - 1];\r\n        data.success = !!data.value;\r\n        return data;\r\n    };\r\n    Expression.prototype.getDependencies = function () {\r\n        var data = {\r\n            success: true,\r\n            error: undefined,\r\n            requires: [],\r\n            gets: [],\r\n            sets: []\r\n        };\r\n        var hidden = {\r\n            console: {},\r\n            window: {},\r\n            navigator: {},\r\n            localStorage: {},\r\n            location: {},\r\n            alert: utils_1.noop,\r\n            eval: utils_1.noop\r\n        };\r\n        var variables = {\r\n            $node: this.node\r\n        };\r\n        var funcString = 'new Function(\"hidden\",\"variables\",\"addedScope\",', args = [];\r\n        args.push(hidden);\r\n        args.push(variables);\r\n        args.push(this.node.__addedScope__ || {});\r\n        //build context\r\n        var context = this.buildContext(this.scope, data, true);\r\n        funcString += '\"';\r\n        funcString += 'with(this){';\r\n        funcString += 'with(hidden){';\r\n        funcString += 'with(variables){';\r\n        funcString += 'with(addedScope){';\r\n        funcString += 'return ';\r\n        funcString += this.expression;\r\n        funcString += '}';\r\n        funcString += '}';\r\n        funcString += '}';\r\n        funcString += '}';\r\n        funcString += '\")';\r\n        var func = eval(funcString);\r\n        try {\r\n            func.apply(context.context, args);\r\n        }\r\n        catch (e) {\r\n            data.success = false;\r\n            data.error = e;\r\n        }\r\n        this.dependencies = data.requires;\r\n        return data;\r\n    };\r\n    Expression.prototype.buildContext = function (scope, requires, dontSet) {\r\n        if (requires === void 0) { requires = { requires: [], gets: [], sets: [] }; }\r\n        if (dontSet === void 0) { dontSet = false; }\r\n        var object = (scope.object instanceof Array) ? [] : {};\r\n        var get = function (scope, object, index, requires) {\r\n            if (requires.gets.indexOf(scope.values[index]) == -1) {\r\n                requires.requires.push(scope.values[index]);\r\n                requires.gets.push(scope.values[index]);\r\n            }\r\n            if (scope.values[index] instanceof Scope_1.default) {\r\n                return this.buildContext(scope.values[index], requires, dontSet).context;\r\n            }\r\n            else if (scope.values[index] instanceof Value_1.default) {\r\n                if (!(scope.values[index].value instanceof Function) || !dontSet) {\r\n                    return scope.values[index].value;\r\n                }\r\n            }\r\n        };\r\n        var set = function (scope, object, index, requires, val) {\r\n            requires.requires.push(scope.values[index]);\r\n            requires.sets.push(scope.values[index]);\r\n            if (!dontSet) {\r\n                scope.object[index] = val;\r\n            }\r\n        };\r\n        for (var i in scope.values) {\r\n            object.__defineGetter__(i, get.bind(this, scope, object, i, requires));\r\n            object.__defineSetter__(i, set.bind(this, scope, object, i, requires));\r\n        }\r\n        ;\r\n        //$parent\r\n        if (scope.parent) {\r\n            object.__defineGetter__('$parent', function (scope, object, requires, dontSet) {\r\n                if (!scope.parent)\r\n                    return;\r\n                if (requires.gets.indexOf(scope.parent) == -1) {\r\n                    requires.requires.push(scope.parent);\r\n                    requires.gets.push(scope.parent);\r\n                }\r\n                return this.buildContext(scope.parent, requires, dontSet).context;\r\n            }.bind(this, scope, object, requires, dontSet));\r\n        }\r\n        else {\r\n            object.$parent = undefined;\r\n        }\r\n        // $Modal\r\n        if (scope.modal) {\r\n            object.__defineGetter__('$modal', function (scope, object, requires, dontSet) {\r\n                if (!scope.modal)\r\n                    return;\r\n                if (requires.gets.indexOf(scope.modal.scope) == -1) {\r\n                    requires.requires.push(scope.modal.scope);\r\n                    requires.gets.push(scope.modal.scope);\r\n                }\r\n                return this.buildContext(scope.modal.scope, requires, dontSet).context;\r\n            }.bind(this, scope, object, requires, dontSet));\r\n        }\r\n        else {\r\n            object.$modal = undefined;\r\n        }\r\n        return {\r\n            context: object,\r\n            requires: requires\r\n        };\r\n    };\r\n    return Expression;\r\n}());\r\nexports.default = Expression;\r\nvar Scope_1 = __webpack_require__(2);\r\nvar Value_1 = __webpack_require__(3);\r\nvar utils_1 = __webpack_require__(1);\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attr_1 = __webpack_require__(9);\r\nexports.attr = attr_1.default;\r\nvar class_1 = __webpack_require__(10);\r\nexports.class = class_1.default;\r\nvar click_1 = __webpack_require__(11);\r\nexports.click = click_1.default;\r\nvar disabled_1 = __webpack_require__(12);\r\nexports.disabled = disabled_1.default;\r\nvar enabled_1 = __webpack_require__(13);\r\nexports.enabled = enabled_1.default;\r\nvar event_1 = __webpack_require__(14);\r\nexports.event = event_1.default;\r\nvar foreach_1 = __webpack_require__(15);\r\nexports.foreach = foreach_1.default;\r\nvar hidden_1 = __webpack_require__(16);\r\nexports.hidden = hidden_1.default;\r\nvar href_1 = __webpack_require__(17);\r\nexports.href = href_1.default;\r\nvar html_1 = __webpack_require__(18);\r\nexports.html = html_1.default;\r\nvar if_1 = __webpack_require__(19);\r\nexports.if = if_1.default;\r\nvar ifnot_1 = __webpack_require__(20);\r\nexports.ifnot = ifnot_1.default;\r\nvar input_1 = __webpack_require__(21);\r\nexports.input = input_1.default;\r\nvar repeat_1 = __webpack_require__(22);\r\nexports.repeat = repeat_1.default;\r\nvar src_1 = __webpack_require__(23);\r\nexports.src = src_1.default;\r\nvar style_1 = __webpack_require__(24);\r\nexports.style = style_1.default;\r\nvar submit_1 = __webpack_require__(25);\r\nexports.submit = submit_1.default;\r\nvar text_1 = __webpack_require__(26);\r\nexports.text = text_1.default;\r\nvar value_1 = __webpack_require__(27);\r\nexports.value = value_1.default;\r\nvar visible_1 = __webpack_require__(28);\r\nexports.visible = visible_1.default;\r\nvar with_1 = __webpack_require__(29);\r\nexports.with = with_1.default;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar utils_1 = __webpack_require__(1);\r\nvar AttrBinding = (function (_super) {\r\n    __extends(AttrBinding, _super);\r\n    function AttrBinding(node, expression, attr) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.attr = attr;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    AttrBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        utils_1.setAttr(this.node, this.attr, this.expression.value);\r\n    };\r\n    return AttrBinding;\r\n}(Binding_1.OneWayBinding));\r\nAttrBinding.id = 'attr';\r\nexports.default = AttrBinding;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar ClassBinding = (function (_super) {\r\n    __extends(ClassBinding, _super);\r\n    function ClassBinding(node, expression, bindClass) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.bindClass = bindClass;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    ClassBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (this.expression.value && !this.hasClass()) {\r\n            this.addClass();\r\n        }\r\n        else if (this.hasClass()) {\r\n            this.removeClass();\r\n        }\r\n    };\r\n    ClassBinding.prototype.addClass = function () {\r\n        this.node.className += ' ' + this.bindClass;\r\n        this.node.className = this.node.className.trim();\r\n    };\r\n    ClassBinding.prototype.removeClass = function () {\r\n        this.node.className = this.node.className.replace(new RegExp('(?:^|\\s)' + this.bindClass + '(?!\\S)', 'g'), '');\r\n        this.node.className = this.node.className.trim();\r\n    };\r\n    ClassBinding.prototype.hasClass = function () {\r\n        return this.node.className.indexOf(this.bindClass) !== -1;\r\n    };\r\n    return ClassBinding;\r\n}(Binding_1.OneWayBinding));\r\nClassBinding.id = 'class';\r\nexports.default = ClassBinding;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar ClickBinding = (function (_super) {\r\n    __extends(ClickBinding, _super);\r\n    function ClickBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.domEvents = ['click'];\r\n        _this.updateEvents();\r\n        return _this;\r\n    }\r\n    return ClickBinding;\r\n}(Binding_1.EventBinding));\r\nClickBinding.id = 'event';\r\nexports.default = ClickBinding;\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar DisabledBinding = (function (_super) {\r\n    __extends(DisabledBinding, _super);\r\n    function DisabledBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    DisabledBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (!this.expression.value) {\r\n            this.node.removeAttribute('disabled');\r\n        }\r\n        else {\r\n            this.node.setAttribute('disabled', 'disabled');\r\n        }\r\n    };\r\n    return DisabledBinding;\r\n}(Binding_1.OneWayBinding));\r\nDisabledBinding.id = 'disabled';\r\nexports.default = DisabledBinding;\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar EnabledBinding = (function (_super) {\r\n    __extends(EnabledBinding, _super);\r\n    function EnabledBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    EnabledBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (this.expression.value) {\r\n            this.node.removeAttribute('disabled');\r\n        }\r\n        else {\r\n            this.node.setAttribute('disabled', 'disabled');\r\n        }\r\n    };\r\n    return EnabledBinding;\r\n}(Binding_1.OneWayBinding));\r\nEnabledBinding.id = 'enabled';\r\nexports.default = EnabledBinding;\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar EventBinding = (function (_super) {\r\n    __extends(EventBinding, _super);\r\n    function EventBinding(node, expression, bindEvent) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.domEvents = [bindEvent];\r\n        _this.updateEvents();\r\n        return _this;\r\n    }\r\n    return EventBinding;\r\n}(Binding_1.EventBinding));\r\nEventBinding.id = 'event';\r\nexports.default = EventBinding;\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar ForEachBinding = (function (_super) {\r\n    __extends(ForEachBinding, _super);\r\n    function ForEachBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.children = [];\r\n        for (var i = 0; i < _this.node.childNodes.length; i++) {\r\n            _this.children.push(_this.node.childNodes[i]);\r\n        }\r\n        _this.removeAllChildren();\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    ForEachBinding.prototype.restoreChildren = function () {\r\n        for (var i in this.children) {\r\n            this.node.appendChild(this.children[i]);\r\n        }\r\n    };\r\n    ForEachBinding.prototype.removeAllChildren = function () {\r\n        while (this.node.childNodes.length !== 0) {\r\n            this.node.removeChild(this.node.childNodes[0]);\r\n        }\r\n    };\r\n    ForEachBinding.prototype.run = function () {\r\n        // super.run(); dont run because we arnt going to use .run on are expression\r\n        var scope = this.expression.runOnScope().value;\r\n        this.removeAllChildren();\r\n        if (scope instanceof Scope_1.default) {\r\n            for (var i = 0; i < scope.values.length; i++) {\r\n                for (var k = 0; k < this.children.length; k++) {\r\n                    var el = this.children[k].cloneNode(true);\r\n                    el.__scope__ = scope.values[i];\r\n                    el.__addedScope__ = utils_1.extend(el.__addedScope__, {\r\n                        $index: i,\r\n                        $isFirst: i == 0,\r\n                        $isLast: i == scope.values.length - 1\r\n                    });\r\n                    this.node.appendChild(el);\r\n                }\r\n                ;\r\n            }\r\n            ;\r\n        }\r\n        else {\r\n            throw new Error('bind-foreach requires a Object or Array');\r\n        }\r\n    };\r\n    ForEachBinding.prototype.unbind = function () {\r\n        this.removeAllChildren();\r\n        _super.prototype.unbind.call(this);\r\n        this.restoreChildren();\r\n    };\r\n    return ForEachBinding;\r\n}(Binding_1.OneWayBinding));\r\nForEachBinding.id = 'foreach';\r\nForEachBinding.priority = 3;\r\nexports.default = ForEachBinding;\r\nvar utils_1 = __webpack_require__(1);\r\nvar Scope_1 = __webpack_require__(2);\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar HiddenBinding = (function (_super) {\r\n    __extends(HiddenBinding, _super);\r\n    function HiddenBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    HiddenBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (this.expression.value) {\r\n            this.node.style.display = 'none';\r\n        }\r\n        else {\r\n            this.node.style.display = '';\r\n        }\r\n    };\r\n    return HiddenBinding;\r\n}(Binding_1.OneWayBinding));\r\nHiddenBinding.id = 'hidden';\r\nexports.default = HiddenBinding;\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar utils_1 = __webpack_require__(1);\r\nvar HrefBinding = (function (_super) {\r\n    __extends(HrefBinding, _super);\r\n    function HrefBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    HrefBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        utils_1.setAttr(this.node, 'href', this.expression.value);\r\n    };\r\n    return HrefBinding;\r\n}(Binding_1.OneWayBinding));\r\nHrefBinding.id = 'href';\r\nexports.default = HrefBinding;\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar HTMLBinding = (function (_super) {\r\n    __extends(HTMLBinding, _super);\r\n    function HTMLBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.oldText = _this.node.textContent;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    HTMLBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.node.innerHTML = this.expression.value;\r\n    };\r\n    HTMLBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.node.textContent = this.oldText;\r\n    };\r\n    return HTMLBinding;\r\n}(Binding_1.OneWayBinding));\r\nHTMLBinding.id = 'html';\r\nexports.default = HTMLBinding;\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar IfBinding = (function (_super) {\r\n    __extends(IfBinding, _super);\r\n    function IfBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.children = [];\r\n        for (var i = 0; i < _this.node.children.length; i++) {\r\n            _this.children.push(_this.node.children[i]);\r\n        }\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    IfBinding.prototype.restoreChildren = function () {\r\n        for (var i in this.children) {\r\n            this.node.appendChild(this.children[i]);\r\n        }\r\n    };\r\n    IfBinding.prototype.removeChildren = function () {\r\n        while (this.node.children.length !== 0) {\r\n            this.node.removeChild(this.node.children[0]);\r\n        }\r\n    };\r\n    IfBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (this.expression.value) {\r\n            this.restoreChildren();\r\n        }\r\n        else {\r\n            this.removeChildren();\r\n        }\r\n    };\r\n    IfBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.removeChildren();\r\n        this.restoreChildren();\r\n    };\r\n    return IfBinding;\r\n}(Binding_1.OneWayBinding));\r\nIfBinding.id = 'if';\r\nexports.default = IfBinding;\r\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar IfNotBinding = (function (_super) {\r\n    __extends(IfNotBinding, _super);\r\n    function IfNotBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.children = [];\r\n        for (var i = 0; i < _this.node.children.length; i++) {\r\n            _this.children.push(_this.node.children[i]);\r\n        }\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    IfNotBinding.prototype.restoreChildren = function () {\r\n        for (var i in this.children) {\r\n            this.node.appendChild(this.children[i]);\r\n        }\r\n    };\r\n    IfNotBinding.prototype.removeChildren = function () {\r\n        while (this.node.children.length !== 0) {\r\n            this.node.removeChild(this.node.children[0]);\r\n        }\r\n    };\r\n    IfNotBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (!this.expression.value) {\r\n            this.restoreChildren();\r\n        }\r\n        else {\r\n            this.removeChildren();\r\n        }\r\n    };\r\n    IfNotBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.removeChildren();\r\n        this.restoreChildren();\r\n    };\r\n    return IfNotBinding;\r\n}(Binding_1.OneWayBinding));\r\nIfNotBinding.id = 'ifnot';\r\nexports.default = IfNotBinding;\r\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar InputBinding = (function (_super) {\r\n    __extends(InputBinding, _super);\r\n    function InputBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.node = node;\r\n        _this.domEvents = ['input'];\r\n        _this.updateEvents();\r\n        return _this;\r\n    }\r\n    InputBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.node.value = this.expression.value;\r\n    };\r\n    InputBinding.prototype.change = function (event) {\r\n        _super.prototype.change.call(this, event);\r\n        var value = this.expression.runOnScope().value;\r\n        if (value instanceof Value_1.default)\r\n            value.updateValue(this.node.value);\r\n    };\r\n    return InputBinding;\r\n}(Binding_1.TwoWayBinding));\r\nInputBinding.id = 'input';\r\nexports.default = InputBinding;\r\nvar Value_1 = __webpack_require__(3);\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar RepeatBinding = (function (_super) {\r\n    __extends(RepeatBinding, _super);\r\n    function RepeatBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.children = [];\r\n        for (var i = 0; i < _this.node.childNodes.length; i++) {\r\n            _this.children.push(_this.node.childNodes[i]);\r\n        }\r\n        _this.removeChildren();\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    RepeatBinding.prototype.restoreChildren = function () {\r\n        for (var i in this.children) {\r\n            this.node.appendChild(this.children[i]);\r\n        }\r\n    };\r\n    RepeatBinding.prototype.removeChildren = function () {\r\n        while (this.node.childNodes.length !== 0) {\r\n            this.node.removeChild(this.node.childNodes[0]);\r\n        }\r\n    };\r\n    RepeatBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.removeChildren();\r\n        var times = this.expression.value;\r\n        for (var i = 0; i < times; i++) {\r\n            for (var k = 0; k < this.children.length; k++) {\r\n                var el = this.children[k].cloneNode(true);\r\n                el.__addedScope__ = utils_1.extend(el.__addedScope__, {\r\n                    $index: i,\r\n                    $isFirst: i == 0,\r\n                    $isLast: i == times - 1\r\n                });\r\n                this.node.appendChild(el);\r\n            }\r\n            ;\r\n        }\r\n        ;\r\n    };\r\n    RepeatBinding.prototype.unbind = function () {\r\n        this.removeChildren();\r\n        _super.prototype.unbind.call(this);\r\n        this.restoreChildren();\r\n    };\r\n    return RepeatBinding;\r\n}(Binding_1.OneWayBinding));\r\nRepeatBinding.id = 'repeat';\r\nRepeatBinding.priority = 1;\r\nexports.default = RepeatBinding;\r\nvar utils_1 = __webpack_require__(1);\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar utils_1 = __webpack_require__(1);\r\nvar SrcBinding = (function (_super) {\r\n    __extends(SrcBinding, _super);\r\n    function SrcBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    SrcBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        utils_1.setAttr(this.node, 'src', this.expression.value);\r\n    };\r\n    return SrcBinding;\r\n}(Binding_1.OneWayBinding));\r\nSrcBinding.id = 'src';\r\nexports.default = SrcBinding;\r\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar StyleBinding = (function (_super) {\r\n    __extends(StyleBinding, _super);\r\n    function StyleBinding(node, expression, style) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.style = style;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    StyleBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.node.style[this.style] = this.expression.value;\r\n    };\r\n    return StyleBinding;\r\n}(Binding_1.OneWayBinding));\r\nStyleBinding.id = 'style';\r\nexports.default = StyleBinding;\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar SubmitBinding = (function (_super) {\r\n    __extends(SubmitBinding, _super);\r\n    function SubmitBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.domEvents = ['submit'];\r\n        _this.updateEvents();\r\n        return _this;\r\n    }\r\n    SubmitBinding.prototype.change = function (event) {\r\n        _super.prototype.change.call(this, event);\r\n        event.preventDefault();\r\n    };\r\n    return SubmitBinding;\r\n}(Binding_1.EventBinding));\r\nSubmitBinding.id = 'submit';\r\nexports.default = SubmitBinding;\r\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar TextBinding = (function (_super) {\r\n    __extends(TextBinding, _super);\r\n    function TextBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.oldText = _this.node.textContent;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    TextBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.node.innerText = this.expression.value;\r\n    };\r\n    TextBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.node.textContent = this.oldText;\r\n    };\r\n    return TextBinding;\r\n}(Binding_1.OneWayBinding));\r\nTextBinding.id = 'text';\r\nexports.default = TextBinding;\r\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar ValueBinding = (function (_super) {\r\n    __extends(ValueBinding, _super);\r\n    function ValueBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.node = node;\r\n        _this.domEvents = ['change'];\r\n        _this.updateEvents();\r\n        return _this;\r\n    }\r\n    ValueBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.node.value = this.expression.value;\r\n    };\r\n    ValueBinding.prototype.change = function (event) {\r\n        _super.prototype.change.call(this, event);\r\n        var value = this.expression.runOnScope().value;\r\n        if (value instanceof Value_1.default) {\r\n            value.updateValue(this.node.value);\r\n        }\r\n    };\r\n    return ValueBinding;\r\n}(Binding_1.TwoWayBinding));\r\nValueBinding.id = 'value';\r\nexports.default = ValueBinding;\r\nvar Value_1 = __webpack_require__(3);\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar VisibleBinding = (function (_super) {\r\n    __extends(VisibleBinding, _super);\r\n    function VisibleBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    VisibleBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (this.expression.value)\r\n            this.node.style.display = '';\r\n        else\r\n            this.node.style.display = 'none';\r\n    };\r\n    return VisibleBinding;\r\n}(Binding_1.OneWayBinding));\r\nVisibleBinding.id = 'visible';\r\nexports.default = VisibleBinding;\r\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar WithBinding = (function (_super) {\r\n    __extends(WithBinding, _super);\r\n    function WithBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    WithBinding.prototype.run = function () {\r\n        // super.run(); dont run because we arnt going to use .run on are expression\r\n        var scope = this.expression.runOnScope().value;\r\n        if (scope instanceof Scope_1.default) {\r\n            for (var i = 0; i < this.node.childNodes.length; i++) {\r\n                var el = this.node.childNodes[i];\r\n                el.__scope__ = scope;\r\n            }\r\n        }\r\n        else {\r\n            throw new Error('bind-with requires a Object or Array');\r\n        }\r\n    };\r\n    return WithBinding;\r\n}(Binding_1.OneWayBinding));\r\nWithBinding.id = 'with';\r\nWithBinding.priority = 1;\r\nexports.default = WithBinding;\r\nvar Scope_1 = __webpack_require__(2);\r\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Modal_1 = __webpack_require__(6);\r\n__webpack_require__(5);\r\n/**\r\n * creates a {@link Modal} from a Object\r\n * @func createModal\r\n * @memberof bindings\r\n * @param {Object} modal - the object that this modal will use\r\n * @param {Object} options - a object that contains some options\r\n * @see {@link Modal}\r\n * @returns {@link Bindings.Modal}\r\n */\r\nfunction createModal(modalObject, options) {\r\n    if (modalObject === void 0) { modalObject = {}; }\r\n    if (options === void 0) { options = {}; }\r\n    var modal = new Modal_1.default(modalObject, options);\r\n    modalObject._bindings = modal;\r\n    return modal;\r\n}\r\nexports.createModal = createModal;\r\n/**\r\n * @func createModal\r\n * @memberof bindings\r\n * @param {Modal} modal - the modal to use when applying bindings to the html\r\n * @param {Node} node - the html element\r\n */\r\nfunction applyBindings(modal, node) {\r\n    if (modal === void 0) { modal = {}; }\r\n    if (node === void 0) { node = document; }\r\n    if (modal instanceof Modal_1.default) {\r\n        modal.applyBindings(node);\r\n    }\r\n    else if (modal._bindings instanceof Modal_1.default) {\r\n        modal._bindings.applyBindings(node);\r\n    }\r\n}\r\nexports.applyBindings = applyBindings;\r\n__export(__webpack_require__(4));\r\n__export(__webpack_require__(7));\r\n__export(__webpack_require__(0));\r\n__export(__webpack_require__(6));\r\n__export(__webpack_require__(2));\r\n__export(__webpack_require__(3));\r\nvar bindingTypes = __webpack_require__(8);\r\nexports.bindingTypes = bindingTypes;\r\nvar utils = __webpack_require__(1);\r\nexports.utils = utils;\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// bindings.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ae40bda90d6b53ed55a7","export class Binding {\r\n\tpublic static id: string = '';\r\n\tpublic expression: Expression;\r\n\tpublic node: Node;\r\n\tpublic static priority: number = 0;\r\n\r\n\tpublic get scope(): Scope{\r\n\t\treturn this.node.__scope__;\r\n\t}\r\n\r\n\tpublic run(){}\r\n\tpublic unbind(){}\r\n}\r\n\r\nexport class OneWayBinding extends Binding{\r\n\t/** a list of scopes or values this binding is listening to */\r\n\tprivate dependencies: any[] = [];\r\n\tprivate updateDependenciesOnChange: boolean = false;\r\n\r\n\tconstructor(public node: HTMLElement, expression: string){\r\n\t\tsuper();\r\n\t\tthis.expression = new Expression(node, expression, this.scope);\r\n\r\n\t\tthis.updateDependencies();\r\n\t}\r\n\r\n\t/** this is called when one of the dependencies change */\r\n\tpublic dependencyChange() {\r\n\t\tif(this.updateDependenciesOnChange){\r\n\t\t\tthis.updateDependencies();\r\n\t\t}\r\n\t\tthis.run();\r\n\t}\r\n\r\n\t/** this is called when the expresion changes */\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.expression.run();\r\n\r\n\t\tif(this.dependencies.length == 0 && !this.expression.success){ //if there are no depenencies and are expression failed then bind to are scope\r\n\t\t\tthis.dependencies.push(this.scope);\r\n\t\t\tthis.bindDependencies();\r\n\t\t\tthis.updateDependenciesOnChange = true; //when dependecies change update them\r\n\t\t}\r\n\t}\r\n\r\n\t/** unbinds the binding from the html node */\r\n\tpublic unbind(){\r\n\t\tthis.unbindDependencies();\r\n\t}\r\n\r\n\tpublic getDependencies(refresh: boolean = false): any[]{\r\n\t\tif(refresh || this.dependencies == undefined){\r\n\t\t\t//get dependencies\r\n\t\t\tthis.dependencies = this.expression.getDependencies().requires;\r\n\t\t}\r\n\t\treturn this.dependencies;\r\n\t}\r\n\r\n\tpublic updateDependencies(){\r\n\t\tthis.unbindDependencies();\r\n\t\tthis.getDependencies(true);\r\n\t\tthis.bindDependencies();\r\n\t}\r\n\r\n\tpublic bindDependencies(){\r\n\t\tfor (var i: number = 0; i < this.dependencies.length; i++){\r\n\t\t\tthis.dependencies[i].on('change', this.dependencyChange.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbindDependencies(){\r\n\t\tfor (var i: number = 0; i < this.dependencies.length; i++){\r\n\t\t\tthis.dependencies[i].off('change', this.dependencyChange.bind(this));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class TwoWayBinding extends OneWayBinding{\r\n\tpublic domEvents: string[] = []; //add events to this list to bind to them\r\n\tprivate dontUpdate: boolean = false;\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\r\n\t\t//update the node\r\n\t\tthis.run();\r\n\r\n\t\tthis.bindEvents();\r\n\t}\r\n\r\n\t/** this is called when the dom changes */\r\n\tpublic change(event:Event){\r\n\t\tthis.dontUpdate = true; //dont update (call this.run) the node\r\n\t}\r\n\r\n\tpublic dependencyChange(){\r\n\t\tif(!this.dontUpdate){\r\n\t\t\tsuper.dependencyChange();\r\n\t\t}\r\n\t\tthis.dontUpdate = false;\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\r\n\t\tthis.unbindEvents();\r\n\t}\r\n\r\n\tpublic updateEvents(){\r\n\t\tthis.unbindEvents();\r\n\t\tthis.bindEvents();\r\n\t}\r\n\r\n\tpublic bindEvents(){\r\n\t\tfor (var i = 0; i < this.domEvents.length; i++){\r\n\t\t\tthis.node.addEventListener(this.domEvents[i], this.change.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbindEvents(){\r\n\t\tfor (var i = 0; i < this.domEvents.length; i++){\r\n\t\t\tthis.node.removeEventListener(this.domEvents[i], this.change.bind(this));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class EventBinding extends Binding{\r\n\tpublic domEvents: string[] = [];\r\n\r\n\tconstructor(public node: HTMLElement, expression: string){\r\n\t\tsuper();\r\n\t\tthis.expression = new Expression(node, expression, this.scope);\r\n\r\n\t\tthis.bindEvents();\r\n\t}\r\n\r\n\tpublic change(event:Event){\r\n\t\tthis.expression.run();\r\n\r\n\t\tif(this.expression.value instanceof Function && this.scope){\r\n\t\t\t//run it on the scope\r\n\t\t\tthis.expression.value.call(this.scope.object, event);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\r\n\t\tthis.unbindEvents();\r\n\t}\r\n\r\n\tpublic updateEvents(){\r\n\t\tthis.unbindEvents();\r\n\t\tthis.bindEvents();\r\n\t}\r\n\r\n\tpublic bindEvents(){\r\n\t\tfor (var i = 0; i < this.domEvents.length; i++){\r\n\t\t\tthis.node.addEventListener(this.domEvents[i], this.change.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbindEvents(){\r\n\t\tfor (var i = 0; i < this.domEvents.length; i++){\r\n\t\t\tthis.node.removeEventListener(this.domEvents[i], this.change.bind(this));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class InlineBinding extends Binding{\r\n\tprivate dependencies: any[] = []; //a list of scopes and values this bindings uses\r\n\tprivate updateDependenciesOnChange: boolean = false;\r\n\tpublic expression: Expression;\r\n\r\n\tpublic get scope(): Scope{\r\n\t\treturn this.node.__scope__;\r\n\t}\r\n\r\n\tconstructor(public node: Node){\r\n\t\tsuper();\r\n\t\tthis.expression = new Expression(node, <string> node.nodeValue, this.scope);\r\n\t\tthis.updateDependencies();\r\n\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic dependencyChange(){\r\n\t\tif(this.updateDependenciesOnChange){\r\n\t\t\tthis.updateDependencies();\r\n\t\t}\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tthis.expression.run();\r\n\r\n\t\tthis.node.nodeValue = this.expression.value;\r\n\r\n\t\tif(this.dependencies.length == 0 && !this.expression.success){ //if there are no depenencies and are expression failed then bind to are scope\r\n\t\t\tthis.dependencies.push(this.scope);\r\n\t\t\tthis.bindDependencies();\r\n\t\t\tthis.updateDependenciesOnChange = true; //when dependecies change update them\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbind(){ //remove every thing\r\n\t\tthis.unbindDependencies();\r\n\t}\r\n\r\n\tpublic getDependencies(refresh: boolean = false): any[]{\r\n\t\tif(refresh || this.dependencies == undefined){\r\n\t\t\t//get dependencies\r\n\t\t\tthis.dependencies = this.expression.getDependencies().requires;\r\n\t\t}\r\n\t\treturn this.dependencies;\r\n\t}\r\n\r\n\tpublic updateDependencies(){\r\n\t\tthis.unbindDependencies();\r\n\t\tthis.getDependencies(true);\r\n\t\tthis.bindDependencies();\r\n\t}\r\n\r\n\tpublic bindDependencies(){\r\n\t\tfor (var i = 0; i < this.dependencies.length; i++){\r\n\t\t\tthis.dependencies[i].on('change', this.dependencyChange.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbindDependencies(){\r\n\t\tfor (var i = 0; i < this.dependencies.length; i++){\r\n\t\t\tthis.dependencies[i].off('change', this.dependencyChange.bind(this));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport {Binding as default};\r\n\r\nimport Scope from './Scope';\r\nimport Expression from './Expression';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Binding.ts","export function setAttr(el: HTMLElement, attr: string, value: any) {\r\n\tif (value != null)\r\n\t\tel.setAttribute(attr, value);\r\n\telse\r\n\t\tel.removeAttribute(attr);\r\n}\r\n\r\nexport function loadJSON(url: string, cb?: Function, defaultObject?: any) {\r\n\tlet func: any = loadJSON;\r\n\r\n\tfunc.callbacks = func.callbacks || {};\r\n\tfunc.cache = func.cache || {};\r\n\tfunc.loading = func.loading || {};\r\n\r\n\tif (!func.cache[url]) {\r\n\t\tfunc.cache[url] = defaultObject || {};\r\n\r\n\t\tthis.getJSON(url,'GET',(json)=>{ //done\r\n\t\t\tfunc.cache[url].__proto__ = json.__proto__;\r\n\t\t\tif (json instanceof Array) {\r\n\t\t\t\tfor (let i = 0; i < json.length; i++) {\r\n\t\t\t\t\tfunc.cache[url].push(json[i]);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfor (let i in json) {\r\n\t\t\t\t\tif (json[i] != null) func.cache[url][i] = json[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (cb) cb(json);\r\n\r\n\t\t\tif (func.callbacks[url]) {\r\n\t\t\t\tfor (let i = 0; i < func.callbacks[url].length; i++) {\r\n\t\t\t\t\tfunc.callbacks[url][i](json);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},(err) => { //fail\r\n\t\t\tif (cb) cb(false);\r\n\r\n\t\t\tif (func.callbacks[url]) {\r\n\t\t\t\tfor (let i = 0; i < func.callbacks[url].length; i++) {\r\n\t\t\t\t\tfunc.callbacks[url][i](false);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\telse if (func.loading[url]) {\r\n\t\tfunc.callbacks[url] = func.callbacks[url] || [];\r\n\t\tfunc.callbacks[url].push(cb);\r\n\t}\r\n\telse {\r\n\t\tif (cb) cb(func.cache[url]);\r\n\t}\r\n\treturn func.cache[url];\r\n}\r\n\r\nexport function getJSON(url: string, mode: string = 'GET', resolve?: Function, reject?: Function) {\r\n\tlet xhttp: XMLHttpRequest = new XMLHttpRequest();\r\n\txhttp.onloadend = function() {\r\n\t\tlet json: any;\r\n\r\n\t\ttry{\r\n\t\t\tjson = JSON.parse(xhttp.responseText);\r\n\t\t\tresolve && resolve(json);\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\treject && reject(e);\r\n\t\t}\r\n\t}\r\n\txhttp.open(mode.toUpperCase(), url, true);\r\n\txhttp.send();\r\n}\r\n\r\nexport function extend(obj: any,obj2: any){\r\n\tobj = obj || {};\r\n\tobj2 = obj2 || {};\r\n\tfor(let i in obj2){\r\n\t\tobj[i] = obj2[i];\r\n\t}\r\n\treturn obj;\r\n}\r\n\r\nexport function noop():void{}\r\n\r\nexport function clone(obj: any){\r\n\tif(typeof obj == 'object'){\r\n\t\treturn JSON.parse(JSON.stringify(obj));\r\n\t}\r\n}\r\n\r\nexport function extendNew(o1:any = {},o2:any = {},o3:any = {},o4:any = {}){\r\n\tlet o = {};\r\n\tfor(let i in arguments){\r\n\t\tthis.extend(o, arguments[i]);\r\n\t}\r\n\treturn o;\r\n}\r\n\r\nexport function duplicateObject(obj2: any, count: number = 20):any{\r\n\tif(obj2 instanceof Object && obj2 !== null){\r\n\t\t// count = (count !== undefined)? count : 20;\r\n\t\tlet obj: any = {};\r\n\t\tif(count > 0){\r\n\t\t\t// see if its an array\r\n\t\t\tif(obj2.hasOwnProperty('length')){\r\n\t\t\t\tobj = new Array(0);\r\n\t\t\t\tfor (let i: number = 0; i < obj2.length; i++) {\r\n\t\t\t\t\tif(typeof obj2[i] !== 'object'){\r\n\t\t\t\t\t\tobj[i] = obj2[i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tobj[i] = this.duplicateObject(obj2[i],count-1)\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfor (let k in obj2){\r\n\t\t\t\t\tif(!(obj2[k] instanceof Object)){\r\n\t\t\t\t\t\tobj[k] = obj2[k]\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tobj[k] = this.duplicateObject(obj2[k],count-1)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t}\r\n\telse{\r\n\t\treturn obj2\r\n\t}\r\n}\r\n\r\nexport function getBinding(type: string){\r\n\tvar binding: Binding;\r\n\tfor(var i in bindingTypes){\r\n\t\tif(bindingTypes[i].id == type){\r\n\t\t\treturn bindingTypes[i];\r\n\t\t}\r\n\t}\r\n\treturn binding;\r\n}\r\n\r\nexport function createBinding(type: any, node: HTMLElement, expression: string): Binding {\r\n\tif (!(type instanceof Array)) {\r\n\t\ttype = [type];\r\n\t}\r\n\tvar binding: Binding;\r\n\tvar id: string = type[0];\r\n\ttype.splice(0, 1); //remove first entry\r\n\tvar data: string = type.join('-');\r\n\tfor(var i in bindingTypes){\r\n\t\tif(bindingTypes[i].id == id){\r\n\t\t\tbinding = <Binding> new bindingTypes[i](node, expression, data);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn binding;\r\n}\r\n\r\nimport * as bindingTypes from './bindingTypes';\r\n\r\n// extend the object interface\r\ninterface ObjectConstructor{\r\n\tunobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\tobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n}\r\n\r\ninterface Object{\r\n\tunobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\tobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n}\r\n\r\nimport Scope from './Scope';\r\nimport Binding from './Binding';\r\nexport interface NodeWithScope extends Node{\r\n\t__scope__: Scope,\r\n\t__bindings__: Binding[],\r\n\t__addedScope__: any\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.ts","import EventEmiter from './EventEmiter';\r\nimport 'object.observe';\r\n\r\nexport default class Scope extends EventEmiter {\r\n\tpublic values: any;\r\n\tprivate observer: any;\r\n\r\n\tconstructor(public key: string, public object: Object, public modal: Modal, public parent:Scope = undefined) {\r\n\t\tsuper();\r\n\r\n\t\tthis.values = (object instanceof Array) ? [] : {};\r\n\t\tthis.setKeys(this.object);\r\n\r\n\t\t//watch for changes\r\n\t\tthis.observer = this.objectChange.bind(this);\r\n\t\tObject.observe(this.object, this.observer);\r\n\t}\r\n\r\n\tpublic dispose(){\r\n\t\tObject.unobserve(this.object, this.observer);\r\n\t}\r\n\r\n\tpublic getKey(value:any){\r\n\t\tfor (var i in this.values) {\r\n\t\t\tif(this.values[i].value == value){\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tpublic setKey(key:string,value:any,dontFire:boolean = false){\r\n\t\tif(this.values[key] == undefined){\r\n\t\t\t//add it\r\n\t\t\tif(typeof value == 'object'){\r\n\t\t\t\tthis.values[key] = new Scope(key,value,this.modal,this);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.values[key] = new Value(key,value,this);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(this.values[key] instanceof Value){\r\n\t\t\tthis.values[key].setValue(value);\r\n\t\t}\r\n\t\telse if(this.values[key] instanceof Scope){\r\n\t\t\tthis.values[key].setKeys(value);\r\n\t\t}\r\n\t\tif(!dontFire) this.update();\r\n\t}\r\n\r\n\tpublic setKeys(keys:any,dontFire:boolean = false){\r\n\t\tfor (var i in keys) {\r\n\t\t\tthis.setKey(i,keys[i],true);\r\n\t\t};\r\n\t\tif(!dontFire) this.update();\r\n\t}\r\n\r\n\tpublic removeKey(key:string,dontFire:boolean = false){\r\n\t\tthis.values[key].dispose();\r\n\t\tdelete this.values[key];\r\n\t\tif(!dontFire) this.emit('change',this);\r\n\t}\r\n\r\n\tpublic updateKey(key:string, value:any){ //update key on modal object\r\n\t\tthis.object[key] = value;\r\n\t}\r\n\tpublic updateKeys(keys:any){ //update key on modal object\r\n\t\tfor(var i in keys){\r\n\t\t\tthis.updateKey(i,keys[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic update(){\r\n\t\tthis.emit('change',this.object);\r\n\t}\r\n\r\n\tprivate objectChange(data:any){\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tif(data[i].name == '_bindings') continue;\r\n\r\n\t\t\tswitch(data[i].type){\r\n\t\t\t\tcase 'add':\r\n\t\t\t\t\tthis.setKey(data[i].name,data[i].object[data[i].name],true);\r\n\t\t\t\t\tthis.update();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'update':\r\n\t\t\t\t\tthis.setKey(data[i].name,data[i].object[data[i].name],true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'delete':\r\n\t\t\t\t\tthis.removeKey(data[i].name,true);\r\n\t\t\t\t\tthis.update();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// this.update(); dont update at end, only update if a key is delete/added\r\n\t}\r\n\r\n\tpublic emit(event: string, data: any = undefined,direction: string = ''){\r\n\t\tsuper.emit(event, data);\r\n\r\n\t\tswitch(direction){\r\n\t\t\tcase 'down':\r\n\t\t\t\tfor(var i in this.values){\r\n\t\t\t\t\tif(this.values[i] instanceof Scope){\r\n\t\t\t\t\t\tthis.values[i].emit(event, data, direction);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.values[i].emit(event, data);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'up':\r\n\t\t\t\tif(this.parent){\r\n\t\t\t\t\tthis.parent.emit(event, data, direction);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nimport Modal from './Modal';\r\nimport Value from './Value';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Scope.ts","import EventEmiter from './EventEmiter';\r\n\r\nexport default class Value extends EventEmiter {\r\n\tconstructor(public key: string = '', public value: any, public parent: Scope){\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic dispose(){\r\n\r\n\t}\r\n\r\n\tpublic setValue(value:any):any{\r\n\t\tthis.value = value;\r\n\t\tthis.update()\r\n\t\treturn this.value;\r\n\t}\r\n\r\n\tpublic updateValue(value:any){\r\n\t\tthis.parent.updateKey(this.key, value);\r\n\t}\r\n\r\n\t/**\r\n\t * fires the change evnet\r\n\t */\r\n\tpublic update(){\r\n\t\tthis.emit('change', this.value);\r\n\t}\r\n}\r\n\r\nimport Scope from './Scope';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Value.ts","export default class EventEmiter {\r\n\t/**\r\n\t\tan array of event listeners\\\r\n\t\t@member\r\n\t\t@private\r\n\t\t@type {Object[]}\r\n\t*/\r\n\tprivate events: Object = {};\r\n\r\n\t/**\r\n\t\t@constructs EventEmiter\r\n\t*/\r\n\tconstructor() {\r\n\t}\r\n\r\n\t/**\r\n\t\tbinds a listener to an event\r\n\t\t@public\r\n\t\t@param {string} event\r\n\t\t@param {function} listener\r\n\t\t@param {Object} [ctx] - the object to run the call back on\r\n\t*/\r\n\tpublic on(event: string, fn: Function, ctx: any = undefined) {\r\n\t\tif (!this.events[event]) {\r\n\t\t\tthis.events[event] = [];\r\n\t\t}\r\n\t\tif (ctx) fn = fn.bind(ctx);\r\n\t\tthis.events[event].push(fn);\r\n\t}\r\n\r\n\t/**\r\n\t\tunbinds a listener from an event\r\n\t\t@public\r\n\t\t@param {string} event\r\n\t\t@param {function} listener\r\n\t*/\r\n\tpublic off(event: string, fn: Function) {\r\n\t\tif (!this.events[event]) {\r\n\t\t\tthis.events[event] = [];\r\n\t\t}\r\n\t\tif (this.events[event].indexOf(fn) !== -1) {\r\n\t\t\tthis.events[event].splice(this.events[event].indexOf(fn), 1);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tbinds a listener that is only called once to an event\r\n\t\t@public\r\n\t\t@param {string} event\r\n\t\t@param {function} listener\r\n\t\t@param {Object} [ctx] - the object to run the call back on\r\n\t*/\r\n\tpublic once(event: string, fn: Function, ctx: any = undefined) {\r\n\t\tthis.on(event, function(event, _this) {\r\n\t\t\tif (fn) fn();\r\n\t\t\tthis.off(event, _this);\r\n\t\t}.bind(this), ctx);\r\n\t}\r\n\r\n\t/**\r\n\t\tfires an event\r\n\t\t@public\r\n\t\t@param {string} event\r\n\t\t@param {*} [data]\r\n\t*/\r\n\tpublic emit(event: string, data: any = undefined) {\r\n\t\tif (!this.events[event]) {\r\n\t\t\tthis.events[event] = [];\r\n\t\t}\r\n\t\tfor (var i = 0; i < this.events[event].length; i++) {\r\n\t\t\tthis.events[event][i](data);\r\n\t\t};\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/EventEmiter.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Object.observe\"\n// module id = 5\n// module chunks = 0","import 'object.observe';\r\n\r\nexport default class Modal {\r\n\t/** ths scope for this modal */\r\n\tpublic scope: Scope;\r\n\t/** an array of bindings for this modal */\r\n\tpublic bindings: Binding[] = [];\r\n\tpublic node: Node;\r\n\r\n\tprivate observer:MutationObserver;\r\n\r\n\tpublic options: any = {\r\n\t\tprefix: 'bind',\r\n\t\tinlineDelimiters: ['{','}'],\r\n\t\texcludedElements: {\r\n\t\t\tscript: true,\r\n\t\t\tlink: true,\r\n\t\t\tmeta: true,\r\n\t\t\tstyle: true\r\n\t\t}\r\n\t};\r\n\r\n\tconstructor(public object: Object, options: any = {}, node: Node = document.body) {\r\n\t\tthis.scope = new Scope('', object, this);\r\n\t\tthis.node = node;\r\n\t\tfor (var i in options) {\r\n\t\t\tthis.options[i] = options[i];\r\n\t\t}\r\n\r\n\t\tthis.observer = new MutationObserver(this.ElementChange.bind(this));\r\n\t}\r\n\r\n\tpublic applyBindings(node: Node = undefined) {\r\n\t\t//remove old event\r\n\t\tthis.observer.disconnect();\r\n\r\n\t\tif (node) this.node = node;\r\n\r\n\t\tthis.bindings = this.buildBindings();\r\n\r\n\t\t// watch the new node\r\n\t\tthis.observer.observe(this.node, {\r\n\t\t\tchildList: true\r\n\t\t});\r\n\t}\r\n\r\n\t/** loop through this.nodes children and create the bindings */\r\n\tprivate buildBindings(node: Node = this.node, scope: Scope = node.__scope__ || this.scope) { //loop through this.nodes children and create the bindings\r\n\t\tvar bindingsCreated: Binding[] = [];\r\n\r\n\t\tif (node.nodeName.toLowerCase() in this.options.excludedElements) return;\r\n\r\n\t\t//remove old bindings\r\n\t\tif (node.__bindings__) {\r\n\t\t\tfor (var i = 0; i < node.__bindings__.length; i++) {\r\n\t\t\t\tnode.__bindings__[i].unbind();\r\n\t\t\t};\r\n\t\t\tnode.__bindings__ = [];\r\n\t\t}\r\n\r\n\t\t//set scope\r\n\t\tnode.__scope__ = node.__scope__ || scope;\r\n\t\tif(node.parentNode){\r\n\t\t\tnode.__addedScope__ = extendNew(<Node>node.parentNode.__addedScope__ || {}, node.__addedScope__ || {});\r\n\t\t}\r\n\r\n\t\tbindingsCreated = bindingsCreated.concat(this.createBindings(node)); //createBindings handles setting __bindings__\r\n\r\n\t\t//if node was a text node then it will not have any children even though createInlineBindings splits it into mutiple textNodes\r\n\r\n\t\t//loop through and bind children\r\n\t\tfor (var i = 0; i < node.childNodes.length; i++) {\r\n\t\t\tvar childNode: Node = node.childNodes[i];\r\n\r\n\t\t\tif (childNode.nodeName.toLowerCase() in this.options.excludedElements) continue;\r\n\r\n\t\t\tbindingsCreated = bindingsCreated.concat(this.buildBindings(childNode, childNode.__scope__ || scope));\r\n\t\t};\r\n\r\n\t\treturn bindingsCreated;\r\n\t}\r\n\r\n\tprivate createBindings(node: Node): Binding[]{\r\n\t\tvar bindingsCreated: Binding[] = [];\r\n\t\tswitch(node.nodeType){\r\n\t\t\tcase node.ELEMENT_NODE:\r\n\t\t\t\tbindingsCreated = this.createAttrBindings(<HTMLElement> node);\r\n\t\t\t\tbreak;\r\n\t\t\tcase node.TEXT_NODE:\r\n\t\t\t\tbindingsCreated = this.createInlineBindings(<Text> node);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn bindingsCreated;\r\n\t}\r\n\r\n\tprivate createAttrBindings(node: HTMLElement): Binding[] {\r\n\t\tvar bindingsCreated = [];\r\n\t\tvar attrs: NodeList = node.attributes;\r\n\t\tvar types: any[] = [];\r\n\r\n\t\t//find the bindings\r\n\t\tfor (var i = 0; i < attrs.length; i++) {\r\n\t\t\tvar attr: Attr = <Attr>attrs.item(i);\r\n\t\t\tvar _types: string[] = attr.name.split('-');\r\n\r\n\t\t\tif (_types[0] == this.options.prefix) {\r\n\t\t\t\t_types.splice(0,1); //remove the prefix\r\n\t\t\t\tvar fn = getBinding(_types[0]);\r\n\t\t\t\tif(fn){\r\n\t\t\t\t\ttypes.push({\r\n\t\t\t\t\t\ttypes: _types,\r\n\t\t\t\t\t\tattr: attr,\r\n\t\t\t\t\t\tconstructor: fn\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tconsole.error('cant find binding: ' + attr.name);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t//sort by priority\r\n\t\ttypes.sort(function(a,b){\r\n\t\t\tif(a.constructor.priority < b.constructor.priority){\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\telse if(a.constructor.priority > b.constructor.priority){\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t//create the bindings\r\n\t\tfor (var i = 0; i < types.length; i++){\r\n\t\t\tvar t: any = types[i];\r\n\r\n\t\t\ttry{\r\n\t\t\t\tbindingsCreated.push(createBinding(t.types, node, t.attr.value));\r\n\t\t\t}\r\n\t\t\tcatch(e){\r\n\t\t\t\tconsole.error('failed to create binding: ' + t.attr.name);\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tnode.__bindings__ = bindingsCreated;\r\n\t\treturn bindingsCreated;\r\n\t}\r\n\r\n\tprivate createInlineBindings(node: Node): Binding[] {\r\n\t\tvar bindingsCreated = [];\r\n\t\tvar tokens: any[] = this.parseInlineBindings(node.nodeValue, this.options.inlineDelimiters);\r\n\r\n\t\tif (!(tokens.length === 1 && tokens[0].type === 'text')) {\r\n            for (var i = 0; i < tokens.length; i++) {\r\n                var token: any = tokens[i];\r\n                var textNode: Text = document.createTextNode(token.value);\r\n\r\n                //copy scopes\r\n                // textNode.__bindings__ = clone(node.__bindings__); dont clone the bindings array because no two nodes should have the same bindigns\r\n                textNode.__bindings__ = [];\r\n                textNode.__scope__ = node.__scope__;\r\n                textNode.__addedScope__ = clone(node.__addedScope__)\r\n\r\n                node.parentNode.insertBefore(textNode, node);\r\n                if (token.type === 'binding') {\r\n\t\t\t\t\tvar b: Binding = new InlineBinding(textNode);\r\n\t\t\t\t\ttextNode.__bindings__ = [b];\r\n                \tbindingsCreated.push(b)\r\n                }\r\n            }\r\n            node.parentNode.removeChild(node);\r\n        }\r\n\t\treturn bindingsCreated;\r\n\t}\r\n\r\n\tprivate parseInlineBindings(template: string, delimiters: string[]): any[]{\r\n\t\tvar index: number = 0,\r\n\t\t\tlastIndex: number = 0,\r\n\t\t\tlastToken,\r\n\t\t\tlength: number = template.length,\r\n\t\t\tsubstring: string,\r\n\t\t\ttokens: any = [],\r\n\t\t\tvalue;\r\n\t\twhile (lastIndex < length) {\r\n\t\t    index = template.indexOf(delimiters[0], lastIndex);\r\n\t\t    if (index < 0) {\r\n\t\t      \ttokens.push({\r\n\t\t        \ttype: 'text',\r\n\t\t        \tvalue: template.slice(lastIndex)\r\n\t\t      \t});\r\n\t\t      \tbreak;\r\n\t\t    }\r\n\t\t    else {\r\n\t\t      \tif (index > 0 && lastIndex < index) {\r\n\t\t        \ttokens.push({\r\n\t\t          \t\ttype: 'text',\r\n\t\t          \t\tvalue: template.slice(lastIndex, index)\r\n\t\t        \t});\r\n\t\t      \t}\r\n\t\t      \tlastIndex = index + delimiters[0].length;\r\n\t\t      \tindex = template.indexOf(delimiters[1], lastIndex);\r\n\t\t      \tif (index < 0) {\r\n\t\t        \tsubstring = template.slice(lastIndex - delimiters[1].length);\r\n\t\t        \tlastToken = tokens[tokens.length - 1];\r\n\t\t        \tif ((lastToken != null ? lastToken.type : void 0) === 'text') {\r\n\t\t          \t\tlastToken.value += substring;\r\n\t\t        \t}\r\n\t\t        \telse {\r\n\t\t          \t\ttokens.push({\r\n\t\t            \t\ttype: 'text',\r\n\t\t            \t\tvalue: substring\r\n\t\t          \t\t});\r\n\t\t        \t}\r\n\t\t        \tbreak;\r\n\t\t      \t}\r\n\t\t      \tvalue = template.slice(lastIndex, index).trim();\r\n\t\t      \ttokens.push({\r\n\t\t        \ttype: 'binding',\r\n\t\t        \tvalue: value\r\n\t\t      \t});\r\n\t\t      \tlastIndex = index + delimiters[1].length;\r\n\t\t    }\r\n\t\t}\r\n\t\treturn tokens;\r\n\t}\r\n\r\n\tprivate ElementChange(event:Event){\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tvar el: Node = <Node> event.target;\r\n\t\tif(el.nodeType !== 3){\r\n\t\t\tthis.buildBindings(el);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nimport Scope from './Scope';\r\nimport Binding from './Binding';\r\nimport {InlineBinding} from './Binding';\r\nimport * as bindingTypes from './bindingTypes';\r\nimport {extendNew, clone, createBinding, getBinding} from './utils';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Modal.ts","export default class Expression{\r\n\tpublic success: boolean = true;\r\n\tpublic value: any = undefined;\r\n\tpublic dependencies: any[] = [];\r\n\r\n\t/**\r\n\t\t@constructs Expression\r\n\t\t@param {node} node - the node to use for this expression\r\n\t\t@param {string} expression\r\n\t\t@param {Scope} scope\r\n\t*/\r\n\tconstructor(public node: Node, public expression:any, public scope:Scope){\r\n\r\n\t}\r\n\r\n\t/**\r\n\t\t@public\r\n\t*/\r\n\tpublic run():any{\r\n\t\tvar data: any = {\r\n\t\t\tvalue: undefined,\r\n\t\t\tsuccess: true,\r\n\t\t\terror: undefined\r\n\t\t}\r\n\t\tvar variables: any = {\r\n\t\t\t$node: this.node\r\n\t\t};\r\n\r\n\t\tvar funcString: string = 'new Function(\"variables\",\"addedScope\",\"', args = [];\r\n\t\tvar context = this.buildContext(this.scope).context;\r\n\t\targs.push(variables);\r\n\t\targs.push(this.node.__addedScope__ || {});\r\n\r\n\t\tfuncString += 'with(this){';\r\n\t\tfuncString += 'with(variables){';\r\n\t\tfuncString += 'with(addedScope){';\r\n\t\tfuncString += 'return ';\r\n\t\tfuncString += this.expression;\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '\")';\r\n\t\tvar func: Function = eval(funcString);\r\n\r\n\t\ttry{\r\n\t\t\tdata.value = func.apply(context,args);\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tdata.success = false;\r\n\t\t\tdata.error = e;\r\n\t\t}\r\n\r\n\t\tthis.value = data.value;\r\n\t\tthis.success = data.success;\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tpublic runOnScope(){\r\n\t\tvar data:any = {\r\n\t\t\tvalue: undefined,\r\n\t\t\tsuccess: false\r\n\t\t}\r\n\t\tvar _data = this.getDependencies();\r\n\t\tdata.value = _data.gets[_data.gets.length-1];\r\n\t\tdata.success = !!data.value;\r\n\t\treturn data;\r\n\t}\r\n\r\n\tpublic getDependencies(){\r\n\t\tvar data: any = {\r\n\t\t\tsuccess: true,\r\n\t\t\terror: undefined,\r\n\t\t\trequires: [],\r\n\t\t\tgets: [],\r\n\t\t\tsets: []\r\n\t\t}\r\n\t\tvar hidden: any = {\r\n\t\t\tconsole: {},\r\n\t\t\twindow: {},\r\n\t\t\tnavigator:{},\r\n\t\t\tlocalStorage: {},\r\n\t\t\tlocation: {},\r\n\t\t\talert: noop,\r\n\t\t\teval: noop\r\n\t\t}\r\n\r\n\t\tvar variables:any = {\r\n\t\t\t$node: this.node\r\n\t\t};\r\n\r\n\t\tvar funcString: string = 'new Function(\"hidden\",\"variables\",\"addedScope\",', args: any[] = [];\r\n\r\n\t\targs.push(hidden);\r\n\t\targs.push(variables);\r\n\t\targs.push(this.node.__addedScope__ || {});\r\n\r\n\t\t//build context\r\n\t\tvar context = this.buildContext(this.scope,data,true);\r\n\r\n\t\tfuncString += '\"';\r\n\t\tfuncString += 'with(this){';\r\n\t\tfuncString += 'with(hidden){';\r\n\t\tfuncString += 'with(variables){';\r\n\t\tfuncString += 'with(addedScope){';\r\n\t\tfuncString += 'return ';\r\n\t\tfuncString += this.expression;\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '\")';\r\n\t\tvar func: Function = eval(funcString);\r\n\r\n\t\ttry{\r\n\t\t\tfunc.apply(context.context,args);\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tdata.success = false;\r\n\t\t\tdata.error = e;\r\n\t\t}\r\n\r\n\t\tthis.dependencies = data.requires;\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tprivate buildContext(scope: Scope, requires: any = { requires: [], gets: [], sets: [] }, dontSet: boolean = false): any {\r\n\t\tvar object: any = (scope.object instanceof Array) ? [] : {};\r\n\t\tvar get: Function = function(scope, object, index, requires) {\r\n\t\t\tif (requires.gets.indexOf(scope.values[index]) == -1) {\r\n\t\t\t\trequires.requires.push(scope.values[index]);\r\n\t\t\t\trequires.gets.push(scope.values[index]);\r\n\t\t\t}\r\n\r\n\t\t\tif (scope.values[index] instanceof Scope) {\r\n\t\t\t\treturn this.buildContext(scope.values[index], requires, dontSet).context;\r\n\t\t\t}\r\n\t\t\telse if (scope.values[index] instanceof Value) {\r\n\t\t\t\tif (!(scope.values[index].value instanceof Function) || !dontSet) {\r\n\t\t\t\t\treturn scope.values[index].value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar set: Function = function(scope, object, index, requires, val) { //val is from the setter\r\n\t\t\trequires.requires.push(scope.values[index]);\r\n\t\t\trequires.sets.push(scope.values[index]);\r\n\r\n\t\t\tif (!dontSet) {\r\n\t\t\t\tscope.object[index] = val;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfor (var i in scope.values) {\r\n\t\t\tobject.__defineGetter__(i,get.bind(this,scope,object,i,requires))\r\n\t\t\tobject.__defineSetter__(i,set.bind(this,scope,object,i,requires))\r\n\t\t};\r\n\r\n\t\t//$parent\r\n\t\tif(scope.parent){\r\n\t\t\tobject.__defineGetter__('$parent',function(scope, object, requires, dontSet){\r\n\t\t\t\tif (!scope.parent) return;\r\n\r\n\t\t\t\tif(requires.gets.indexOf(scope.parent) == -1){\r\n\t\t\t\t\trequires.requires.push(scope.parent);\r\n\t\t\t\t\trequires.gets.push(scope.parent);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this.buildContext(scope.parent,requires,dontSet).context;\r\n\t\t\t}.bind(this,scope,object,requires,dontSet))\r\n\t\t}\r\n\t\telse{\r\n\t\t\tobject.$parent = undefined;\r\n\t\t}\r\n\r\n\t\t// $Modal\r\n\t\tif(scope.modal){\r\n\t\t\tobject.__defineGetter__('$modal',function(scope, object, requires, dontSet){\r\n\t\t\t\tif (!scope.modal) return;\r\n\r\n\t\t\t\tif(requires.gets.indexOf(scope.modal.scope) == -1){\r\n\t\t\t\t\trequires.requires.push(scope.modal.scope);\r\n\t\t\t\t\trequires.gets.push(scope.modal.scope);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this.buildContext(scope.modal.scope,requires,dontSet).context;\r\n\t\t\t}.bind(this,scope,object,requires,dontSet))\r\n\t\t}\r\n\t\telse{\r\n\t\t\tobject.$modal = undefined\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tcontext: object,\r\n\t\t\trequires: requires\r\n\t\t};\r\n\t}\r\n}\r\n\r\nimport Scope from './Scope';\r\nimport Value from './Value';\r\nimport {noop} from './utils';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Expression.ts","import AttrBinding from './bindings/attr';\r\nimport ClassBinding from './bindings/class';\r\nimport ClickBinding from './bindings/click';\r\nimport DisabledBinding from './bindings/disabled';\r\nimport EnabledBinding from './bindings/enabled';\r\nimport EventBinding from './bindings/event';\r\nimport ForeachBinding from './bindings/foreach';\r\nimport HiddenBinding from './bindings/hidden';\r\nimport HrefBinding from './bindings/href';\r\nimport HtmlBinding from './bindings/html';\r\nimport IfBinding from './bindings/if';\r\nimport IfnotBinding from './bindings/ifnot';\r\nimport InputBinding from './bindings/input';\r\nimport RepeatBinding from './bindings/repeat';\r\nimport SrcBinding from './bindings/src';\r\nimport StyleBinding from './bindings/style';\r\nimport SubmitBinding from './bindings/submit';\r\nimport TextBinding from './bindings/text';\r\nimport ValueBinding from './bindings/value';\r\nimport VisibleBinding from './bindings/visible';\r\nimport WithBinding from './bindings/with';\r\n\r\nexport {\r\n\tAttrBinding as attr,\r\n\tClassBinding as class,\r\n\tClickBinding as click,\r\n\tDisabledBinding as disabled,\r\n\tEnabledBinding as enabled,\r\n\tEventBinding as event,\r\n\tForeachBinding as foreach,\r\n\tHiddenBinding as hidden,\r\n\tHrefBinding as href,\r\n\tHtmlBinding as html,\r\n\tIfBinding as if,\r\n\tIfnotBinding as ifnot,\r\n\tInputBinding as input,\r\n\tRepeatBinding as repeat,\r\n\tSrcBinding as src,\r\n\tStyleBinding as style,\r\n\tSubmitBinding as submit,\r\n\tTextBinding as text,\r\n\tValueBinding as value,\r\n\tVisibleBinding as visible,\r\n\tWithBinding as with\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindingTypes.ts","import {OneWayBinding} from '../Binding';\r\nimport {setAttr} from '../utils';\r\n\r\nexport default class AttrBinding extends OneWayBinding{\r\n\tpublic static id: string = 'attr';\r\n\r\n\tconstructor(node: HTMLElement, expression: string, public attr: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tsetAttr(this.node, this.attr, this.expression.value);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/attr.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class ClassBinding extends OneWayBinding {\r\n\tpublic static id: string = 'class';\r\n\r\n\tconstructor(node: HTMLElement, expression: string, public bindClass: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(this.expression.value && !this.hasClass()){\r\n\t\t\tthis.addClass();\r\n\t\t}\r\n\t\telse if(this.hasClass()){\r\n\t\t\tthis.removeClass()\r\n\t\t}\r\n\t}\r\n\r\n\tprivate addClass(){\r\n\t\tthis.node.className += ' '+this.bindClass;\r\n\t\tthis.node.className = this.node.className.trim()\r\n\t}\r\n\r\n\tprivate removeClass(){\r\n\t\tthis.node.className = this.node.className.replace(new RegExp('(?:^|\\s)'+this.bindClass+'(?!\\S)','g'), '' )\r\n\t\tthis.node.className = this.node.className.trim()\r\n\t}\r\n\r\n\tprivate hasClass(): boolean{\r\n\t\treturn this.node.className.indexOf(this.bindClass) !== -1;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/class.ts","import {EventBinding} from '../Binding';\r\n\r\nexport default class ClickBinding extends EventBinding{\r\n\tpublic static id: string = 'event';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\r\n\t\tthis.domEvents = ['click'];\r\n\t\tthis.updateEvents();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/click.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class DisabledBinding extends OneWayBinding{\r\n\tpublic static id: string = 'disabled';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(!this.expression.value){\r\n\t\t\tthis.node.removeAttribute('disabled')\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.node.setAttribute('disabled','disabled')\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/disabled.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class EnabledBinding extends OneWayBinding{\r\n\tpublic static id: string = 'enabled';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(this.expression.value){\r\n\t\t\tthis.node.removeAttribute('disabled')\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.node.setAttribute('disabled','disabled')\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/enabled.ts","import {EventBinding as _EventBinding} from '../Binding';\r\n\r\nexport default class EventBinding extends _EventBinding{\r\n\tpublic static id: string = 'event';\r\n\r\n\tconstructor(node: HTMLElement, expression: string, bindEvent: string){\r\n\t\tsuper(node, expression);\r\n\r\n\t\tthis.domEvents = [bindEvent];\r\n\t\tthis.updateEvents();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/event.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class ForEachBinding extends OneWayBinding{\r\n\tpublic static id: string = 'foreach';\r\n\tpublic static priority: number = 3;\r\n\tprivate children: Node[] = [];\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tfor (var i = 0; i < this.node.childNodes.length; i++){\r\n\t\t\tthis.children.push(this.node.childNodes[i]);\r\n\t\t}\r\n\t\tthis.removeAllChildren();\r\n\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tprivate restoreChildren(){\r\n\t\tfor(var i in this.children){\r\n\t\t\tthis.node.appendChild(this.children[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate removeAllChildren(){\r\n\t\twhile (this.node.childNodes.length !== 0) {\r\n\t\t    this.node.removeChild(this.node.childNodes[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\t// super.run(); dont run because we arnt going to use .run on are expression\r\n\t\tvar scope: Scope = this.expression.runOnScope().value;\r\n\r\n\t\tthis.removeAllChildren();\r\n\r\n\t\tif(scope instanceof Scope){\r\n\t\t\tfor (var i = 0; i < scope.values.length; i++) {\r\n\t\t\t\tfor (var k = 0; k < this.children.length; k++) {\r\n\t\t\t\t\tvar el: Node = this.children[k].cloneNode(true);\r\n\t\t\t\t\tel.__scope__ = scope.values[i];\r\n\t\t\t\t\tel.__addedScope__ = extend(el.__addedScope__,{\r\n\t\t\t\t\t\t$index: i,\r\n\t\t\t\t\t\t$isFirst: i==0,\r\n\t\t\t\t\t\t$isLast: i==scope.values.length-1\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.node.appendChild(el)\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthrow new Error('bind-foreach requires a Object or Array');\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tthis.removeAllChildren();\r\n\t\tsuper.unbind();\r\n\t\tthis.restoreChildren();\r\n\t}\r\n}\r\n\r\nimport {extend} from '../utils';\r\nimport Scope from '../Scope';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/foreach.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class HiddenBinding extends OneWayBinding{\r\n\tpublic static id: string = 'hidden';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(this.expression.value){\r\n\t\t\tthis.node.style.display = 'none'\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.node.style.display = ''\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/hidden.ts","import {OneWayBinding} from '../Binding';\r\nimport {setAttr} from '../utils';\r\n\r\nexport default class HrefBinding extends OneWayBinding{\r\n\tpublic static id: string = 'href';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tsetAttr(this.node, 'href', this.expression.value);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/href.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class HTMLBinding extends OneWayBinding{\r\n\tpublic static id: string = 'html';\r\n\tprivate oldText: string;\r\n\r\n\tconstructor(node:HTMLBRElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\r\n\t\tthis.oldText = this.node.textContent;\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.node.innerHTML = this.expression.value;\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\t\tthis.node.textContent = this.oldText;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/html.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class IfBinding extends OneWayBinding{\r\n\tpublic static id: string = 'if';\r\n\tprivate children: HTMLElement[] = [];\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tfor (var i = 0; i < this.node.children.length; i++){\r\n\t\t\tthis.children.push(<HTMLElement> this.node.children[i]);\r\n\t\t}\r\n\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tprivate restoreChildren(){\r\n\t\tfor(var i in this.children){\r\n\t\t\tthis.node.appendChild(this.children[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate removeChildren(){\r\n\t\twhile (this.node.children.length !== 0) {\r\n\t\t    this.node.removeChild(this.node.children[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(this.expression.value){\r\n\t\t\tthis.restoreChildren();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.removeChildren();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\t\tthis.removeChildren();\r\n\t\tthis.restoreChildren();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/if.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class IfNotBinding extends OneWayBinding{\r\n\tpublic static id: string = 'ifnot';\r\n\tprivate children: HTMLElement[] = [];\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tfor (var i = 0; i < this.node.children.length; i++){\r\n\t\t\tthis.children.push(<HTMLElement> this.node.children[i]);\r\n\t\t}\r\n\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tprivate restoreChildren(){\r\n\t\tfor(var i in this.children){\r\n\t\t\tthis.node.appendChild(this.children[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate removeChildren(){\r\n\t\twhile (this.node.children.length !== 0) {\r\n\t\t    this.node.removeChild(this.node.children[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(!this.expression.value){\r\n\t\t\tthis.restoreChildren();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.removeChildren();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\t\tthis.removeChildren();\r\n\t\tthis.restoreChildren();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/ifnot.ts","import {TwoWayBinding} from '../Binding';\r\n\r\nexport default class InputBinding extends TwoWayBinding{\r\n\tpublic static id: string = 'input';\r\n\r\n\tconstructor(public node: HTMLInputElement, expression: string){\r\n\t\tsuper(<HTMLElement> node, expression);\r\n\r\n\t\tthis.domEvents = ['input'];\r\n\t\tthis.updateEvents();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.node.value = this.expression.value;\r\n\t}\r\n\r\n\tpublic change(event:Event){\r\n\t\tsuper.change(event);\r\n\t\tvar value = this.expression.runOnScope().value;\r\n\t\tif(value instanceof Value)\r\n\t\t\tvalue.updateValue(this.node.value);\r\n\t}\r\n}\r\n\r\nimport Value from '../Value';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/input.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class RepeatBinding extends OneWayBinding{\r\n\tpublic static id: string = 'repeat';\r\n\tpublic static priority: number = 1;\r\n\tprivate children: Node[] = [];\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tfor (var i = 0; i < this.node.childNodes.length; i++){\r\n\t\t\tthis.children.push(this.node.childNodes[i]);\r\n\t\t}\r\n\t\tthis.removeChildren();\r\n\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tprivate restoreChildren(){\r\n\t\tfor(var i in this.children){\r\n\t\t\tthis.node.appendChild(this.children[i]);\r\n\t\t}\r\n\t}\r\n\tprivate removeChildren(){\r\n\t\twhile (this.node.childNodes.length !== 0) {\r\n\t\t    this.node.removeChild(this.node.childNodes[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.removeChildren();\r\n\r\n\t\tvar times = this.expression.value;\r\n\t\tfor (var i = 0; i < times; i++) {\r\n\t\t\tfor (var k = 0; k < this.children.length; k++) {\r\n\t\t\t\tvar el: Node = this.children[k].cloneNode(true);\r\n\t\t\t\tel.__addedScope__ = extend(el.__addedScope__,{\r\n\t\t\t\t\t$index: i,\r\n\t\t\t\t\t$isFirst: i == 0,\r\n\t\t\t\t\t$isLast: i == times - 1\r\n\t\t\t\t});\r\n\t\t\t\tthis.node.appendChild(el)\r\n\t\t\t};\r\n\t\t};\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tthis.removeChildren();\r\n\t\tsuper.unbind();\r\n\t\tthis.restoreChildren();\r\n\t}\r\n}\r\n\r\nimport {extend} from '../utils';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/repeat.ts","import {OneWayBinding} from '../Binding';\r\nimport {setAttr} from '../utils';\r\n\r\nexport default class SrcBinding extends OneWayBinding{\r\n\tpublic static id: string = 'src';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tsetAttr(this.node, 'src', this.expression.value);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/src.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class StyleBinding extends OneWayBinding{\r\n\tpublic static id: string = 'style';\r\n\r\n\tconstructor(node: HTMLElement, expression: string, public style: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tthis.node.style[this.style] = this.expression.value;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/style.ts","import {EventBinding} from '../Binding';\r\n\r\nexport default class SubmitBinding extends EventBinding{\r\n\tpublic static id: string = 'submit';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.domEvents = ['submit'];\r\n\t\tthis.updateEvents();\r\n\t}\r\n\r\n\tpublic change(event:Event){\r\n\t\tsuper.change(event);\r\n\t\tevent.preventDefault();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/submit.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class TextBinding extends OneWayBinding{\r\n\tpublic static id: string = 'text';\r\n\tprivate oldText: string;\r\n\r\n\tconstructor(node:HTMLBRElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\r\n\t\tthis.oldText = this.node.textContent;\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.node.innerText = this.expression.value;\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\t\tthis.node.textContent = this.oldText;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/text.ts","import {TwoWayBinding} from '../Binding';\r\n\r\nexport default class ValueBinding extends TwoWayBinding{\r\n\tpublic static id: string = 'value';\r\n\r\n\tconstructor(public node: HTMLInputElement, expression: string){\r\n\t\tsuper(<HTMLElement> node, expression);\r\n\r\n\t\tthis.domEvents = ['change'];\r\n\t\tthis.updateEvents();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.node.value = this.expression.value;\r\n\t}\r\n\r\n\tpublic change(event:Event){\r\n\t\tsuper.change(event);\r\n\r\n\t\tvar value = this.expression.runOnScope().value;\r\n\t\tif(value instanceof Value){\r\n\t\t\tvalue.updateValue(this.node.value);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nimport Value from '../Value';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/value.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class VisibleBinding extends OneWayBinding{\r\n\tpublic static id: string = 'visible';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(this.expression.value)\r\n\t\t\tthis.node.style.display = ''\r\n\t\telse\r\n\t\t\tthis.node.style.display = 'none'\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/visible.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class WithBinding extends OneWayBinding{\r\n\tpublic static id: string = 'with';\r\n\tpublic static priority: number = 1;\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\t// super.run(); dont run because we arnt going to use .run on are expression\r\n\t\tvar scope: Scope = this.expression.runOnScope().value;\r\n\r\n\t\tif(scope instanceof Scope){\r\n\t\t\tfor (var i = 0; i < this.node.childNodes.length; i++){\r\n\t\t\t\tvar el: Node = this.node.childNodes[i];\r\n\t\t\t\tel.__scope__ = scope;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthrow new Error('bind-with requires a Object or Array');\r\n\t\t}\r\n\t}\r\n}\r\n\r\nimport Scope from '../Scope';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/with.ts","import Modal from './Modal';\r\nimport 'object.observe';\r\n\r\n/**\r\n * creates a {@link Modal} from a Object\r\n * @func createModal\r\n * @memberof bindings\r\n * @param {Object} modal - the object that this modal will use\r\n * @param {Object} options - a object that contains some options\r\n * @see {@link Modal}\r\n * @returns {@link Bindings.Modal}\r\n */\r\nexport function createModal(modalObject:any = {},options:any = {}){\r\n\tvar modal: Modal = new Modal(modalObject, options);\r\n\r\n\tmodalObject._bindings = modal;\r\n\r\n\treturn modal;\r\n}\r\n/**\r\n * @func createModal\r\n * @memberof bindings\r\n * @param {Modal} modal - the modal to use when applying bindings to the html\r\n * @param {Node} node - the html element\r\n */\r\nexport function applyBindings(modal:any = {},node:any = document): void{\r\n\tif(modal instanceof Modal){\r\n\t\tmodal.applyBindings(node)\r\n\t}\r\n\telse if(modal._bindings instanceof Modal){\r\n\t\tmodal._bindings.applyBindings(node)\r\n\t}\r\n}\r\n\r\nexport * from './EventEmiter';\r\nexport * from './Expression';\r\nexport * from './Binding';\r\nexport * from './Modal';\r\nexport * from './Scope';\r\nexport * from './Value';\r\n\r\nimport * as bindingTypes from './bindingTypes';\r\nimport * as utils from './utils';\r\nexport {\r\n\tutils,\r\n\tbindingTypes\r\n}\r\n\r\nimport Binding from './Binding';\r\nimport Scope from './Scope';\r\ndeclare global {\r\n\tinterface Node {\r\n\t\t__scope__: Scope,\r\n\t\t__bindings__: Binding[],\r\n\t\t__addedScope__: any\r\n\t}\r\n\r\n\tinterface ObjectConstructor{\r\n\t\tunobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\t\tobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\t}\r\n\r\n\tinterface Object{\r\n\t\tunobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\t\tobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}
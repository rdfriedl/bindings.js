{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///bindings.bundle.min.js","webpack:///webpack/bootstrap 2c0d338dd48c2a22ab59","webpack:///./src/Binding.ts","webpack:///./src/utils.ts","webpack:///./src/Scope.ts","webpack:///./src/Value.ts","webpack:///./src/EventEmiter.ts","webpack:///./~/object.observe/dist/object-observe.js","webpack:///./src/Modal.ts","webpack:///./src/Expression.ts","webpack:///./src/bindingTypes.ts","webpack:///./src/bindings/attr.ts","webpack:///./src/bindings/class.ts","webpack:///./src/bindings/click.ts","webpack:///./src/bindings/disabled.ts","webpack:///./src/bindings/enabled.ts","webpack:///./src/bindings/event.ts","webpack:///./src/bindings/foreach.ts","webpack:///./src/bindings/hidden.ts","webpack:///./src/bindings/href.ts","webpack:///./src/bindings/html.ts","webpack:///./src/bindings/if.ts","webpack:///./src/bindings/ifnot.ts","webpack:///./src/bindings/input.ts","webpack:///./src/bindings/repeat.ts","webpack:///./src/bindings/src.ts","webpack:///./src/bindings/style.ts","webpack:///./src/bindings/submit.ts","webpack:///./src/bindings/text.ts","webpack:///./src/bindings/value.ts","webpack:///./src/bindings/visible.ts","webpack:///./src/bindings/with.ts","webpack:///./src/index.ts"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","Binding","node","__scope__","run","unbind","id","priority","default","OneWayBinding","_super","expression","_this","dependencies","updateDependenciesOnChange","Expression_1","scope","updateDependencies","dependencyChange","length","success","push","bindDependencies","unbindDependencies","getDependencies","refresh","undefined","requires","on","bind","off","TwoWayBinding","domEvents","dontUpdate","bindEvents","change","event","unbindEvents","updateEvents","addEventListener","removeEventListener","EventBinding","Function","InlineBinding","nodeValue","setAttr","el","attr","setAttribute","removeAttribute","loadJSON","url","cb","defaultObject","func","callbacks","cache","loading","getJSON","json","err","mode","resolve","reject","xhttp","XMLHttpRequest","onloadend","JSON","parse","responseText","e","open","toUpperCase","send","extend","obj","obj2","noop","clone","stringify","extendNew","o1","o2","o3","o4","arguments","duplicateObject","count","k","getBinding","type","binding","bindingTypes","createBinding","splice","data","join","EventEmiter_1","Scope","key","modal","parent","values","setKeys","observer","objectChange","observe","dispose","unobserve","getKey","setKey","dontFire","Value_1","setValue","update","keys","removeKey","emit","updateKey","updateKeys","direction","Value","updateValue","EventEmiter","events","fn","ctx","indexOf","once","O","A","_undefined","observed","handlers","defaultAcceptList","isArray","toString","inArray","array","pivot","start","createMap","Map","forEach","size","has","set","delete","callback","getProps","getOwnPropertyNames","callee","avoid","replace","slice","split","props","j","prop","hop","getPrototype","getPrototypeOf","getDescriptor","defineProperties","getOwnPropertyDescriptor","nextFrame","requestAnimationFrame","webkitRequestAnimationFrame","initial","Date","last","setTimeout","doObserve","handler","acceptList","performPropertyChecks","setHandler","createObjectData","runGlobalLoop","descs","frozen","isFrozen","extensible","isExtensible","proto","properties","notifier","retrieveNotifier","descriptors","updateCheck","idx","except","descr","ovalue","odesc","addChangeRecord","oldValue","writable","deletionCheck","proplen","deliverHandlerRecords","hdata","records","changeRecords","notify","changeRecord","recordCopy","performChange","changeType","TypeError","thisObj","result","odata","getNotifier","deliverChangeRecords","Modal","options","document","body","bindings","prefix","inlineDelimiters","excludedElements","script","link","meta","style","Scope_1","MutationObserver","ElementChange","applyBindings","disconnect","buildBindings","childList","bindingsCreated","nodeName","toLowerCase","__bindings__","parentNode","__addedScope__","utils_1","concat","createBindings","childNodes","childNode","nodeType","ELEMENT_NODE","createAttrBindings","TEXT_NODE","createInlineBindings","attrs","attributes","types","item","_types","console","error","sort","a","t","tokens","parseInlineBindings","token","textNode","createTextNode","insertBefore","Binding_1","removeChild","template","delimiters","lastToken","substring","index","lastIndex","trim","stopPropagation","target","Expression","variables","$node","funcString","args","context","buildContext","eval","apply","runOnScope","_data","gets","sets","hidden","window","navigator","localStorage","location","alert","dontSet","val","__defineGetter__","__defineSetter__","$parent","$modal","attr_1","class_1","class","click_1","click","disabled_1","disabled","enabled_1","enabled","event_1","foreach_1","foreach","hidden_1","href_1","href","html_1","html","if_1","if","ifnot_1","ifnot","input_1","input","repeat_1","repeat","src_1","src","style_1","submit_1","submit","text_1","text","value_1","visible_1","visible","with_1","with","AttrBinding","ClassBinding","bindClass","hasClass","addClass","removeClass","className","RegExp","ClickBinding","DisabledBinding","EnabledBinding","bindEvent","ForEachBinding","children","removeAllChildren","restoreChildren","appendChild","Error","cloneNode","$index","$isFirst","$isLast","HiddenBinding","display","HrefBinding","HTMLBinding","oldText","textContent","innerHTML","IfBinding","removeChildren","IfNotBinding","InputBinding","RepeatBinding","times","SrcBinding","StyleBinding","SubmitBinding","preventDefault","TextBinding","innerText","ValueBinding","VisibleBinding","WithBinding","__export","createModal","modalObject","Modal_1","_bindings","utils"],"mappings":";;;;CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,UAAAH,GACA,gBAAAC,SACAA,QAAA,SAAAD,IAEAD,EAAA,SAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAE,EAAAF,EACAG,GAAA,EACAV,WAUA,OANAK,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,GAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KA+DA,OAnCAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAG,EAAA,SAAAK,GAA2C,MAAAA,IAG3CR,EAAAS,EAAA,SAAAf,EAAAgB,EAAAC,GACAX,EAAAY,EAAAlB,EAAAgB,IACAG,OAAAC,eAAApB,EAAAgB,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAX,EAAAkB,EAAA,SAAAvB,GACA,GAAAgB,GAAAhB,KAAAwB,WACA,WAA2B,MAAAxB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAK,GAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAlB,KAAAe,EAAAC,IAGtDrB,EAAAwB,EAAA,GAGAxB,IAAAyB,EAAA,MDgBM,SAAU9B,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GE9FtD,IAAA2B,GAAA,mBAAAA,MAYA,MANCtB,QAAAC,eAAWqB,EAAAb,UAAA,SF6FJL,IE7FP,WACC,MAAOnB,MAAKsC,KAAKC,WF+FXrB,YAAY,EACZD,cAAc,IE7FdoB,EAAAb,UAAAgB,IAAP,aACOH,EAAAb,UAAAiB,OAAP,aACDJ,IAXeA,GAAAK,GAAa,GAGbL,EAAAM,SAAmB,EAJrB/C,EAAAyC,UA6OMzC,EAAAgD,QAAAP,CA/NnB,IAAAQ,GAAA,SAAAC,GAKC,QAAAD,GAAmBP,EAAmBS,GAAtC,GAAAC,GACCF,EAAAvC,KAAAP,OAAOA,IFuGD,OExGYgD,GAAAV,OAHXU,EAAAC,gBACAD,EAAAE,4BAAsC,EAI7CF,EAAKD,WAAa,GAAII,GAAAP,QAAWN,EAAMS,EAAYC,EAAKI,OAExDJ,EAAKK,qBFoGQL,EE/Cf,MA9DmCpB,GAAAiB,EAAAC,GAa3BD,EAAArB,UAAA8B,iBAAP,WACItD,KAAKkD,4BACPlD,KAAKqD,qBAENrD,KAAKwC,OAICK,EAAArB,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MACTA,KAAK+C,WAAWP,MAEe,GAA5BxC,KAAKiD,aAAaM,QAAgBvD,KAAK+C,WAAWS,UACpDxD,KAAKiD,aAAaQ,KAAKzD,KAAKoD,OAC5BpD,KAAK0D,mBACL1D,KAAKkD,4BAA6B,IAK7BL,EAAArB,UAAAiB,OAAP,WACCzC,KAAK2D,sBAGCd,EAAArB,UAAAoC,gBAAP,SAAuBC,GAKtB,MALsB,UAAAA,OAAA,IACnBA,GAAgCC,QAArB9D,KAAKiD,gBAElBjD,KAAKiD,aAAejD,KAAK+C,WAAWa,kBAAkBG,UAEhD/D,KAAKiD,cAGNJ,EAAArB,UAAA6B,mBAAP,WACCrD,KAAK2D,qBACL3D,KAAK4D,iBAAgB,GACrB5D,KAAK0D,oBAGCb,EAAArB,UAAAkC,iBAAP,WACC,IAAK,GAAIrD,GAAY,EAAGA,EAAIL,KAAKiD,aAAaM,OAAQlD,IACrDL,KAAKiD,aAAa5C,GAAG2D,GAAG,SAAUhE,KAAKsD,iBAAiBW,KAAKjE,QAIxD6C,EAAArB,UAAAmC,mBAAP,WACC,IAAK,GAAItD,GAAY,EAAGA,EAAIL,KAAKiD,aAAaM,OAAQlD,IACrDL,KAAKiD,aAAa5C,GAAG6D,IAAI,SAAUlE,KAAKsD,iBAAiBW,KAAKjE,QAGjE6C,GA9DmCR,EAAtBzC,GAAAiD,eAgEb,IAAAsB,GAAA,SAAArB,GAIC,QAAAqB,GAAY7B,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IFkGjB,OEtGAgD,GAAAoB,aACCpB,EAAAqB,YAAsB,EAM7BrB,EAAKR,MAELQ,EAAKsB,aF6FQtB,EExDf,MA/CmCpB,GAAAuC,EAAArB,GAc3BqB,EAAA3C,UAAA+C,OAAP,SAAcC,GACbxE,KAAKqE,YAAa,GAGZF,EAAA3C,UAAA8B,iBAAP,WACKtD,KAAKqE,YACRvB,EAAAtB,UAAM8B,iBAAgB/C,KAAAP,MAEvBA,KAAKqE,YAAa,GAGZF,EAAA3C,UAAAiB,OAAP,WACCK,EAAAtB,UAAMiB,OAAMlC,KAAAP,MAEZA,KAAKyE,gBAGCN,EAAA3C,UAAAkD,aAAP,WACC1E,KAAKyE,eACLzE,KAAKsE,cAGCH,EAAA3C,UAAA8C,WAAP,WACC,IAAK,GAAIjE,GAAI,EAAGA,EAAIL,KAAKoE,UAAUb,OAAQlD,IAC1CL,KAAKsC,KAAKqC,iBAAiB3E,KAAKoE,UAAU/D,GAAIL,KAAKuE,OAAON,KAAKjE,QAI1DmE,EAAA3C,UAAAiD,aAAP,WACC,IAAK,GAAIpE,GAAI,EAAGA,EAAIL,KAAKoE,UAAUb,OAAQlD,IAC1CL,KAAKsC,KAAKsC,oBAAoB5E,KAAKoE,UAAU/D,GAAIL,KAAKuE,OAAON,KAAKjE,QAGrEmE,GA/CmCtB,EAAtBjD,GAAAuE,eAiDb,IAAAU,GAAA,SAAA/B,GAGC,QAAA+B,GAAmBvC,EAAmBS,GAAtC,GAAAC,GACCF,EAAAvC,KAAAP,OAAOA,IF2FD,OE5FYgD,GAAAV,OAFZU,EAAAoB,aAINpB,EAAKD,WAAa,GAAII,GAAAP,QAAWN,EAAMS,EAAYC,EAAKI,OAExDJ,EAAKsB,aFwFQtB,EEtDf,MAzCkCpB,GAAAiD,EAAA/B,GAU1B+B,EAAArD,UAAA+C,OAAP,SAAcC,GACbxE,KAAK+C,WAAWP,MAEbxC,KAAK+C,WAAWrC,gBAAiBoE,WAAY9E,KAAKoD,OAEpDpD,KAAK+C,WAAWrC,MAAMH,KAAKP,KAAKoD,MAAM9B,OAAQkD,IAIzCK,EAAArD,UAAAiB,OAAP,WACCK,EAAAtB,UAAMiB,OAAMlC,KAAAP,MAEZA,KAAKyE,gBAGCI,EAAArD,UAAAkD,aAAP,WACC1E,KAAKyE,eACLzE,KAAKsE,cAGCO,EAAArD,UAAA8C,WAAP,WACC,IAAK,GAAIjE,GAAI,EAAGA,EAAIL,KAAKoE,UAAUb,OAAQlD,IAC1CL,KAAKsC,KAAKqC,iBAAiB3E,KAAKoE,UAAU/D,GAAIL,KAAKuE,OAAON,KAAKjE,QAI1D6E,EAAArD,UAAAiD,aAAP,WACC,IAAK,GAAIpE,GAAI,EAAGA,EAAIL,KAAKoE,UAAUb,OAAQlD,IAC1CL,KAAKsC,KAAKsC,oBAAoB5E,KAAKoE,UAAU/D,GAAIL,KAAKuE,OAAON,KAAKjE,QAGrE6E,GAzCkCxC,EAArBzC,GAAAiF,cA2Cb,IAAAE,GAAA,SAAAjC,GASC,QAAAiC,GAAmBzC,GAAnB,GAAAU,GACCF,EAAAvC,KAAAP,OAAOA,IFkFD,OEnFYgD,GAAAV,OARXU,EAAAC,gBACAD,EAAAE,4BAAsC,EAS7CF,EAAKD,WAAa,GAAII,GAAAP,QAAWN,EAAeA,EAAK0C,UAAWhC,EAAKI,OACrEJ,EAAKK,qBAELL,EAAKR,MF8EQQ,EE3Bf,MAjEmCpB,GAAAmD,EAAAjC,GAKlC/B,OAAAC,eAAW+D,EAAAvD,UAAA,SF0FJL,IE1FP,WACC,MAAOnB,MAAKsC,KAAKC,WF4FXrB,YAAY,EACZD,cAAc,IElFd8D,EAAAvD,UAAA8B,iBAAP,WACItD,KAAKkD,4BACPlD,KAAKqD,qBAENrD,KAAKwC,OAGCuC,EAAAvD,UAAAgB,IAAP,WACCxC,KAAK+C,WAAWP,MAEhBxC,KAAKsC,KAAK0C,UAAYhF,KAAK+C,WAAWrC,MAEP,GAA5BV,KAAKiD,aAAaM,QAAgBvD,KAAK+C,WAAWS,UACpDxD,KAAKiD,aAAaQ,KAAKzD,KAAKoD,OAC5BpD,KAAK0D,mBACL1D,KAAKkD,4BAA6B,IAI7B6B,EAAAvD,UAAAiB,OAAP,WACCzC,KAAK2D,sBAGCoB,EAAAvD,UAAAoC,gBAAP,SAAuBC,GAKtB,MALsB,UAAAA,OAAA,IACnBA,GAAgCC,QAArB9D,KAAKiD,gBAElBjD,KAAKiD,aAAejD,KAAK+C,WAAWa,kBAAkBG,UAEhD/D,KAAKiD,cAGN8B,EAAAvD,UAAA6B,mBAAP,WACCrD,KAAK2D,qBACL3D,KAAK4D,iBAAgB,GACrB5D,KAAK0D,oBAGCqB,EAAAvD,UAAAkC,iBAAP,WACC,IAAK,GAAIrD,GAAI,EAAGA,EAAIL,KAAKiD,aAAaM,OAAQlD,IAC7CL,KAAKiD,aAAa5C,GAAG2D,GAAG,SAAUhE,KAAKsD,iBAAiBW,KAAKjE,QAIxD+E,EAAAvD,UAAAmC,mBAAP,WACC,IAAK,GAAItD,GAAI,EAAGA,EAAIL,KAAKiD,aAAaM,OAAQlD,IAC7CL,KAAKiD,aAAa5C,GAAG6D,IAAI,SAAUlE,KAAKsD,iBAAiBW,KAAKjE,QAGjE+E,GAjEmC1C,EAAtBzC,GAAAmF,eAsEb,IAAA5B,GAAAjD,EAAA,IFgFM,SAAUL,EAAQD,EAASM,GAEjC,YGlUA,SAAA+E,GAAwBC,EAAiBC,EAAczE,GACzC,MAATA,EACHwE,EAAGE,aAAaD,EAAMzE,GAEtBwE,EAAGG,gBAAgBF,GAGrB,QAAAG,GAAyBC,EAAaC,EAAeC,GACpD,GAAIC,GAAYJ,CA8ChB,OA5CAI,GAAKC,UAAYD,EAAKC,cACtBD,EAAKE,MAAQF,EAAKE,UAClBF,EAAKG,QAAUH,EAAKG,YAEfH,EAAKE,MAAML,GAiCPG,EAAKG,QAAQN,IACrBG,EAAKC,UAAUJ,GAAOG,EAAKC,UAAUJ,OACrCG,EAAKC,UAAUJ,GAAK9B,KAAK+B,IAGrBA,GAAIA,EAAGE,EAAKE,MAAML,KArCtBG,EAAKE,MAAML,GAAOE,MAElBzF,KAAK8F,QAAQP,EAAI,MAAM,SAACQ,GAEvB,GADAL,EAAKE,MAAML,GAAKxD,UAAYgE,EAAKhE,UAC7BgE,YAAgB/D,OACnB,IAAK,GAAI3B,GAAI,EAAGA,EAAI0F,EAAKxC,OAAQlD,IAChCqF,EAAKE,MAAML,GAAK9B,KAAKsC,EAAK1F,QAI3B,KAAK,GAAIA,KAAK0F,GACE,MAAXA,EAAK1F,KAAYqF,EAAKE,MAAML,GAAKlF,GAAK0F,EAAK1F,GAMjD,IAFImF,GAAIA,EAAGO,GAEPL,EAAKC,UAAUJ,GAClB,IAAK,GAAIlF,GAAI,EAAGA,EAAIqF,EAAKC,UAAUJ,GAAKhC,OAAQlD,IAC/CqF,EAAKC,UAAUJ,GAAKlF,GAAG0F,IAGxB,SAACC,GAGF,GAFIR,GAAIA,GAAG,GAEPE,EAAKC,UAAUJ,GAClB,IAAK,GAAIlF,GAAI,EAAGA,EAAIqF,EAAKC,UAAUJ,GAAKhC,OAAQlD,IAC/CqF,EAAKC,UAAUJ,GAAKlF,IAAG,MAYpBqF,EAAKE,MAAML,GAGnB,QAAAO,GAAwBP,EAAaU,EAAsBC,EAAoBC,GAA1C,SAAAF,MAAA,MACpC,IAAIG,GAAwB,GAAIC,eAChCD,GAAME,UAAY,WACjB,GAAIP,EAEJ,KACCA,EAAOQ,KAAKC,MAAMJ,EAAMK,cACxBP,GAAWA,EAAQH,GAEpB,MAAMW,GACLP,GAAUA,EAAOO,KAGnBN,EAAMO,KAAKV,EAAKW,cAAerB,GAAK,GACpCa,EAAMS,OAGP,QAAAC,GAAuBC,EAASC,GAC/BD,EAAMA,MACNC,EAAOA,KACP,KAAI,GAAI3G,KAAK2G,GACZD,EAAI1G,GAAK2G,EAAK3G,EAEf,OAAO0G,GAGR,QAAAE,MAEA,QAAAC,GAAsBH,GACrB,GAAiB,gBAAPA,GACT,MAAOR,MAAKC,MAAMD,KAAKY,UAAUJ,IAInC,QAAAK,GAA0BC,EAAYC,EAAYC,EAAYC,GAApC,SAAAH,UAAY,SAAAC,UAAY,SAAAC,UAAY,SAAAC,SAC7D,IAAI1G,KACJ,KAAI,GAAIT,KAAKoH,WACZzH,KAAK8G,OAAOhG,EAAG2G,UAAUpH,GAE1B,OAAOS,GAGR,QAAA4G,GAAgCV,EAAWW,GAC1C,GAD0C,SAAAA,MAAA,IACvCX,YAAgBjG,SAAmB,OAATiG,EAAc,CAE1C,GAAID,KACJ,IAAGY,EAAQ,EAEV,GAAGX,EAAKvF,eAAe,UAAU,CAChCsF,EAAM,GAAI/E,OAAM,EAChB,KAAK,GAAI3B,GAAY,EAAGA,EAAI2G,EAAKzD,OAAQlD,IAClB,gBAAZ2G,GAAK3G,GACd0G,EAAI1G,GAAK2G,EAAK3G,GAGd0G,EAAI1G,GAAKL,KAAK0H,gBAAgBV,EAAK3G,GAAGsH,EAAM,OAK9C,KAAK,GAAIC,KAAKZ,GACRA,EAAKY,YAAc7G,QAIvBgG,EAAIa,GAAK5H,KAAK0H,gBAAgBV,EAAKY,GAAGD,EAAM,GAH5CZ,EAAIa,GAAKZ,EAAKY,EAQlB,OAAOb,GAGP,MAAOC,GAIT,QAAAa,GAA2BC,GAC1B,GAAIC,EACJ,KAAI,GAAI1H,KAAK2H,GACZ,GAAGA,EAAa3H,GAAGqC,IAAMoF,EACxB,MAAOE,GAAa3H,EAGtB,OAAO0H,GAGR,QAAAE,GAA8BH,EAAWxF,EAAmBS,GACrD+E,YAAgB9F,SACrB8F,GAAQA,GAET,IAAIC,GACArF,EAAaoF,EAAK,EACtBA,GAAKI,OAAO,EAAG,EACf,IAAIC,GAAeL,EAAKM,KAAK,IAC7B,KAAI,GAAI/H,KAAK2H,GACZ,GAAGA,EAAa3H,GAAGqC,IAAMA,EAAG,CAC3BqF,EAAoB,GAAIC,GAAa3H,GAAGiC,EAAMS,EAAYoF,EAC1D,OAGF,MAAOJ,GHsKRhH,OAAOC,eAAepB,EAAS,cAAgBc,OAAO,IGpUtDd,EAAAqF,UAOArF,EAAA0F,WAkDA1F,EAAAkG,UAiBAlG,EAAAkH,SASAlH,EAAAqH,OAEArH,EAAAsH,QAMAtH,EAAAwH,YAQAxH,EAAA8H,kBAmCA9H,EAAAiI,aAUAjI,EAAAqI,eAiBA,IAAAD,GAAA9H,EAAA,IHiVM,SAAUL,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GIhgBtD,IAAA2H,GAAAnI,EAAA,EACAA,GAAA,EAEA,IAAAoI,GAAA,SAAAxF,GAIC,QAAAwF,GAAmBC,EAAoBjH,EAAuBkH,EAAqBC,GAAA,SAAAA,MAAA3E,OAAnF,IAAAd,GACCF,EAAAvC,KAAAP,OAAOA,IJygBD,OI1gBYgD,GAAAuF,MAAoBvF,EAAA1B,SAAuB0B,EAAAwF,QAAqBxF,EAAAyF,SAGlFzF,EAAK0F,OAAUpH,YAAkBU,aACjCgB,EAAK2F,QAAQ3F,EAAK1B,QAGlB0B,EAAK4F,SAAW5F,EAAK6F,aAAa5E,KAAKjB,GACvCjC,OAAO+H,QAAQ9F,EAAK1B,OAAQ0B,EAAK4F,UJkgBpB5F,EI3Zf,MAnHmCpB,GAAA0G,EAAAxF,GAe3BwF,EAAA9G,UAAAuH,QAAP,WACChI,OAAOiI,UAAUhJ,KAAKsB,OAAQtB,KAAK4I,WAG7BN,EAAA9G,UAAAyH,OAAP,SAAcvI,GACb,IAAK,GAAIL,KAAKL,MAAK0I,OAClB,GAAG1I,KAAK0I,OAAOrI,GAAGK,OAASA,EAC1B,MAAOL,IAKHiI,EAAA9G,UAAA0H,OAAP,SAAcX,EAAW7H,EAAUyI,GAAA,SAAAA,OAAA,GACXrF,QAApB9D,KAAK0I,OAAOH,KAGbvI,KAAK0I,OAAOH,GADM,gBAAT7H,GACU,GAAI4H,GAAMC,EAAI7H,EAAMV,KAAKwI,MAAMxI,MAG/B,GAAIoJ,GAAAxG,QAAM2F,EAAI7H,EAAMV,OAItCA,KAAK0I,OAAOH,YAAgBa,GAAAxG,QAC9B5C,KAAK0I,OAAOH,GAAKc,SAAS3I,GAEnBV,KAAK0I,OAAOH,YAAgBD,IACnCtI,KAAK0I,OAAOH,GAAKI,QAAQjI,GAEtByI,GAAUnJ,KAAKsJ,UAGbhB,EAAA9G,UAAAmH,QAAP,SAAeY,EAASJ,GAAA,SAAAA,OAAA,EACvB,KAAK,GAAI9I,KAAKkJ,GACbvJ,KAAKkJ,OAAO7I,EAAEkJ,EAAKlJ,IAAG,EAEnB8I,IAAUnJ,KAAKsJ,UAGbhB,EAAA9G,UAAAgI,UAAP,SAAiBjB,EAAWY,GAAA,SAAAA,OAAA,GAC3BnJ,KAAK0I,OAAOH,GAAKQ,gBACV/I,MAAK0I,OAAOH,GACfY,GAAUnJ,KAAKyJ,KAAK,SAASzJ,OAG3BsI,EAAA9G,UAAAkI,UAAP,SAAiBnB,EAAY7H,GAC5BV,KAAKsB,OAAOiH,GAAO7H,GAEb4H,EAAA9G,UAAAmI,WAAP,SAAkBJ,GACjB,IAAI,GAAIlJ,KAAKkJ,GACZvJ,KAAK0J,UAAUrJ,EAAEkJ,EAAKlJ,KAIjBiI,EAAA9G,UAAA8H,OAAP,WACCtJ,KAAKyJ,KAAK,SAASzJ,KAAKsB,SAGjBgH,EAAA9G,UAAAqH,aAAR,SAAqBV,GACpB,IAAK,GAAI9H,GAAI,EAAGA,EAAI8H,EAAK5E,OAAQlD,IAChC,GAAmB,aAAhB8H,EAAK9H,GAAGO,KAEX,OAAOuH,EAAK9H,GAAGyH,MACd,IAAK,MACJ9H,KAAKkJ,OAAOf,EAAK9H,GAAGO,KAAKuH,EAAK9H,GAAGiB,OAAO6G,EAAK9H,GAAGO,OAAM,GACtDZ,KAAKsJ,QACL,MACD,KAAK,SACJtJ,KAAKkJ,OAAOf,EAAK9H,GAAGO,KAAKuH,EAAK9H,GAAGiB,OAAO6G,EAAK9H,GAAGO,OAAM,EACtD,MACD,KAAK,SACJZ,KAAKwJ,UAAUrB,EAAK9H,GAAGO,MAAK,GAC5BZ,KAAKsJ,WAOFhB,EAAA9G,UAAAiI,KAAP,SAAYjF,EAAe2D,EAAsByB,GAGhD,OAH0B,SAAAzB,MAAArE,QAAsB,SAAA8F,MAAA,IAChD9G,EAAAtB,UAAMiI,KAAIlJ,KAAAP,KAACwE,EAAO2D,GAEXyB,GACN,IAAK,OACJ,IAAI,GAAIvJ,KAAKL,MAAK0I,OACd1I,KAAK0I,OAAOrI,YAAciI,GAC5BtI,KAAK0I,OAAOrI,GAAGoJ,KAAKjF,EAAO2D,EAAMyB,GAGjC5J,KAAK0I,OAAOrI,GAAGoJ,KAAKjF,EAAO2D,EAG7B,MACD,KAAK,KACDnI,KAAKyI,QACPzI,KAAKyI,OAAOgB,KAAKjF,EAAO2D,EAAMyB,KAKnCtB,GAnHmCD,EAAAzF,QJsnBnChD,GAAQgD,QAAU0F,CIhgBlB,IAAAc,GAAAlJ,EAAA,IJsgBM,SAAUL,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GK7oBtD,IAAA2H,GAAAnI,EAAA,GAEA2J,EAAA,SAAA/G,GACC,QAAA+G,GAAmBtB,EAAyB7H,EAAmB+H,GAA5C,SAAAF,MAAA,GAAnB,IAAAvF,GACCF,EAAAvC,KAAAP,OAAOA,ILmpBD,OKppBYgD,GAAAuF,MAAyBvF,EAAAtC,QAAmBsC,EAAAyF,SLopBjDzF,EK5nBf,MAzBmCpB,GAAAiI,EAAA/G,GAK3B+G,EAAArI,UAAAuH,QAAP,aAIOc,EAAArI,UAAA6H,SAAP,SAAgB3I,GAGf,MAFAV,MAAKU,MAAQA,EACbV,KAAKsJ,SACEtJ,KAAKU,OAGNmJ,EAAArI,UAAAsI,YAAP,SAAmBpJ,GAClBV,KAAKyI,OAAOiB,UAAU1J,KAAKuI,IAAK7H,IAM1BmJ,EAAArI,UAAA8H,OAAP,WACCtJ,KAAKyJ,KAAK,SAAUzJ,KAAKU,QAE3BmJ,GAzBmCxB,EAAAzF,QLyqBnChD,GAAQgD,QAAUiH,GAKZ,SAAUhK,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GMprBtD,IAAAqJ,GAAA,WAYC,QAAAA,KALQ/J,KAAAgK,UAkET,MAnDQD,GAAAvI,UAAAwC,GAAP,SAAUQ,EAAeyF,EAAcC,GAAA,SAAAA,MAAApG,QACjC9D,KAAKgK,OAAOxF,KAChBxE,KAAKgK,OAAOxF,OAET0F,IAAKD,EAAKA,EAAGhG,KAAKiG,IACtBlK,KAAKgK,OAAOxF,GAAOf,KAAKwG,IASlBF,EAAAvI,UAAA0C,IAAP,SAAWM,EAAeyF,GACpBjK,KAAKgK,OAAOxF,KAChBxE,KAAKgK,OAAOxF,OAETxE,KAAKgK,OAAOxF,GAAO2F,QAAQF,MAAS,GACvCjK,KAAKgK,OAAOxF,GAAO0D,OAAOlI,KAAKgK,OAAOxF,GAAO2F,QAAQF,GAAK,IAWrDF,EAAAvI,UAAA4I,KAAP,SAAY5F,EAAeyF,EAAcC,GAAA,SAAAA,MAAApG,QACxC9D,KAAKgE,GAAGQ,EAAO,SAASA,EAAOxB,GAC1BiH,GAAIA,IACRjK,KAAKkE,IAAIM,EAAOxB,IACfiB,KAAKjE,MAAOkK,IASRH,EAAAvI,UAAAiI,KAAP,SAAYjF,EAAe2D,GAAA,SAAAA,MAAArE,QACrB9D,KAAKgK,OAAOxF,KAChBxE,KAAKgK,OAAOxF,MAEb,KAAK,GAAInE,GAAI,EAAGA,EAAIL,KAAKgK,OAAOxF,GAAOjB,OAAQlD,IAC9CL,KAAKgK,OAAOxF,GAAOnE,GAAG8H,IAGzB4B,INwrBAnK,GAAQgD,QAAUmH,GAKZ,SAAUlK,EAAQD,GOtsBxBmB,OAAA+H,SAAA,SAAAuB,EAAAC,EAAA5K,EAAA6K,GACA,YAMA,IAAAC,GAKAC,EAEAC,GAAA,0EAUAC,EAAAL,EAAAK,SAAA,SAAAC,GACA,gBAAAtJ,GAAsC,yBAAAsJ,EAAArK,KAAAe,KAC7B+I,EAAA7I,UAAAoJ,UAWTC,EAAAP,EAAA9I,UAAA2I,QAAAG,EAAAH,SAAA,SAAAW,EAAAC,EAAAC,GACA,MAAAV,GAAA9I,UAAA2I,QAAA5J,KAAAuK,EAAAC,EAAAC,IACS,SAAAF,EAAAC,EAAAC,GACT,OAAA3K,GAAA2K,GAAA,EAAoC3K,EAAAyK,EAAAvH,OAAkBlD,IACtD,GAAAyK,EAAAzK,KAAA0K,EACA,MAAA1K,EACA,WASA4K,EAAAvL,EAAAwL,MAAAX,GAAAW,IAAA1J,UAAA2J,QAmCS,WAAe,UAAAD,MAnCxB,WAQA,GAAA3B,MAAAb,IAEA,QACA0C,KAAA,EACAC,IAAA,SAAA9C,GAAoC,MAAAsC,GAAAtB,EAAAhB,IAAA,GACpCpH,IAAA,SAAAoH,GAAoC,MAAAG,GAAAmC,EAAAtB,EAAAhB,KACpC+C,IAAA,SAAA/C,EAAA7H,GACA,GAAAL,GAAAwK,EAAAtB,EAAAhB,EACAlI,MAAA,GACAkJ,EAAA9F,KAAA8E,GACAG,EAAAjF,KAAA/C,GACAV,KAAAoL,QACqB1C,EAAArI,GAAAK,GAErB6K,OAAA,SAAAhD,GACA,GAAAlI,GAAAwK,EAAAtB,EAAAhB,EACAlI,IAAA,IACAkJ,EAAArB,OAAA7H,EAAA,GACAqI,EAAAR,OAAA7H,EAAA,GACAL,KAAAoL,SAGAD,QAAA,SAAAK,GACA,OAAAnL,GAAA,EAAmCA,EAAAkJ,EAAAhG,OAAiBlD,IACpDmL,EAAAjL,KAAAkH,UAAA,GAAAiB,EAAArI,GAAAkJ,EAAAlJ,GAAAL,SAYAyL,EAAApB,EAAAqB,oBAAA,WACA,GAAAhG,GAAA2E,EAAAqB,mBACA,KACAjE,UAAAkE,OACa,MAAAjF,GAQb,GAAAkF,IAAAlG,EAAAmF,GAAAzC,KAAA,UAAAyD,QAAA,gCAAAC,MAAA,MAAAC,MAAA,IACAH,GAAArI,SAAAmC,EAAA,SAAApE,GACA,GAAA0K,GAAA3B,EAAAqB,oBAAApK,EACA,sBAAAA,GACA,OAAA2K,GAAA5L,EAAA,EAA0CA,EAAAuL,EAAArI,SAC1C0I,EAAApB,EAAAmB,EAAAJ,EAAAvL,QAAA,GACA2L,EAAA9D,OAAA+D,EAAA,EAEA,OAAAD,KAGA,MAAAtG,MACS,SAAApE,GAET,GAAA4K,GAAAC,EAAAH,IACA,sBAAA1K,GACA,IAAA4K,IAAA5K,GACAA,EAAAG,eAAAyK,IACAF,EAAAvI,KAAAyI,OACa,CACbC,EAAA9B,EAAA5I,cACA,KAAAyK,IAAA5K,GACA6K,EAAA5L,KAAAe,EAAA4K,IACAF,EAAAvI,KAAAyI,GAOA,MAHAvB,GAAArJ,IACA0K,EAAAvI,KAAA,UAEAuI,GASAI,EAAA/B,EAAAgC,eAWAC,EAAAjC,EAAAkC,kBAAAlC,EAAAmC,yBASAC,EAAA/M,EAAAgN,uBAAAhN,EAAAiN,6BAAA,WACA,GAAAC,IAAA,GAAAC,MACAC,EAAAF,CACA,iBAAAlH,GACA,MAAAqH,YAAA,WACArH,GAAAoH,GAAA,GAAAD,OAAAD,IACiB,QAWjBI,EAAA,SAAA1L,EAAA2L,EAAAC,GACA,GAAA/E,GAAAqC,EAAArJ,IAAAG,EAEA6G,IACAgF,EAAAhF,EAAA7G,GACA8L,EAAA9L,EAAA6G,EAAA8E,EAAAC,KAEA/E,EAAAkF,EAAA/L,GACA8L,EAAA9L,EAAA6G,EAAA8E,EAAAC,GAEA,IAAA1C,EAAAY,MAEAqB,EAAAa,KASAD,EAAA,SAAA/L,EAAA6G,GACA,GACAoF,GADAvB,EAAAP,EAAAnK,GACAoH,KAAArI,EAAA,EACA8H,GACAsC,SAAAQ,IACAuC,SAAAnD,EAAAoD,UAAApD,EAAAoD,SAAAnM,GACAoM,YAAArD,EAAAsD,cAAAtD,EAAAsD,aAAArM,GACAsM,MAAAxB,KAAA9K,GACAuM,WAAA7B,EACAtD,SACAoF,SAAAC,EAAAzM,EAAA6G,GAGA,IAAAmE,EAEA,IADAiB,EAAApF,EAAA6F,eACA3N,EAAA2L,EAAAzI,QACAgK,EAAAlN,GAAAiM,EAAAhL,EAAA0K,EAAA3L,IACAqI,EAAArI,GAAAiB,EAAA0K,EAAA3L,UAEa,MAAAA,EAAA2L,EAAAzI,QACbmF,EAAArI,GAAAiB,EAAA0K,EAAA3L,KAIA,OAFAmK,GAAAc,IAAAhK,EAAA6G,GAEAA,GAWAgF,EAAA,WACA,GAAAc,GAAA3B,EAAA,SAAAhL,EAAA6G,EAAA+F,EAAAC,EAAAC,GACA,GAAA7F,GAAAJ,EAAA0F,WAAAK,GACAxN,EAAAY,EAAAiH,GACA8F,EAAAlG,EAAAO,OAAAwF,GACAI,EAAAnG,EAAA6F,YAAAE,EAEA,UAAAE,KAAAC,IAAA3N,EACA,IAAA2N,GAAA,EAAAA,GAAA,EAAA3N,EACA2N,OAAA3N,SACA6N,EAAAjN,EAAA6G,GACAvH,KAAA2H,EACAT,KAAA,SACAxG,SACAkN,SAAAH,GACqBF,GACrBhG,EAAAO,OAAAwF,GAAAxN,IAEA4N,EAAArN,cAAAmN,EAAAnN,cACAmN,EAAAK,WAAAH,EAAAG,UACAL,EAAAlN,aAAAoN,EAAApN,YACAkN,EAAAjN,MAAAmN,EAAAnN,KACAiN,EAAA9C,MAAAgD,EAAAhD,MACAiD,EAAAjN,EAAA6G,GACAvH,KAAA2H,EACAT,KAAA,cACAxG,SACAkN,SAAAH,GACqBF,GACrBhG,EAAA6F,YAAAE,GAAAE,IAEa,SAAA9M,EAAA6G,EAAA+F,EAAAC,GACb,GAAA5F,GAAAJ,EAAA0F,WAAAK,GACAxN,EAAAY,EAAAiH,GACA8F,EAAAlG,EAAAO,OAAAwF,IAEAG,IAAA3N,EAAA,IAAA2N,GAAA,EAAAA,GAAA,EAAA3N,EACA2N,OAAA3N,SACA6N,EAAAjN,EAAA6G,GACAvH,KAAA2H,EACAT,KAAA,SACAxG,SACAkN,SAAAH,GACqBF,GACrBhG,EAAAO,OAAAwF,GAAAxN,IAKAgO,EAAApC,EAAA,SAAAhL,EAAA0K,EAAA2C,EAAAxG,EAAAgG,GAEA,IADA,GAAAC,GAAA/N,EAAA2L,EAAAzI,OACAoL,GAAAtO,KACA,OAAA2L,EAAA3L,KACA+N,EAAA9B,EAAAhL,EAAA0K,EAAA3L,IACAsO,IAKAP,EAAAH,EAAA3M,EAAA6G,EAAA9H,EAAA8N,EAAAC,IAEAG,EAAAjN,EAAA6G,GACAvH,KAAAoL,EAAA3L,GACAyH,KAAA,SACAxG,SACAkN,SAAArG,EAAAO,OAAArI,IAC6B8N,GAC7BhG,EAAA0F,WAAA3F,OAAA7H,EAAA,GACA8H,EAAAO,OAAAR,OAAA7H,EAAA,GACA8H,EAAA6F,YAAA9F,OAAA7H,EAAA,MAIa,SAAAiB,EAAA0K,EAAA2C,EAAAxG,EAAAgG,GAEb,IADA,GAAA9N,GAAA2L,EAAAzI,OACAoL,GAAAtO,KACA,OAAA2L,EAAA3L,KACAkO,EAAAjN,EAAA6G,GACAvH,KAAAoL,EAAA3L,GACAyH,KAAA,SACAxG,SACAkN,SAAArG,EAAAO,OAAArI,IACyB8N,GACzBhG,EAAA0F,WAAA3F,OAAA7H,EAAA,GACA8H,EAAAO,OAAAR,OAAA7H,EAAA,GACAsO,KAIA,iBAAAxG,EAAA7G,EAAA6M,GACA,GAAAhG,EAAAsC,SAAAW,OAAAjD,EAAAqF,OAAA,CAEA,GAAAxB,GAAA2C,EAAApF,EAGA2E,EACA3F,EAAA7H,EACAkN,EAAAQ,EAJA1F,EAAAP,EAAAO,OACA6E,EAAApF,EAAA6F,YACA3N,EAAA,CAMA,IAAA8H,EAAAuF,WAMA,GAJA1B,EAAA7D,EAAA0F,WAAA/B,QACA6C,EAAA3C,EAAAzI,OACAgG,EAAAkC,EAAAnK,GAEAiM,EAAA,CACA,KAAAlN,EAAAkJ,EAAAhG,QACAgF,EAAAgB,EAAAlJ,KACA6N,EAAArD,EAAAmB,EAAAzD,GACA6F,EAAA9B,EAAAhL,EAAAiH,GAEA2F,KAAA,GACAK,EAAAjN,EAAA6G,GACAvH,KAAA2H,EACAT,KAAA,MACAxG,UACiC6M,GACjChG,EAAA0F,WAAApK,KAAA8E,GACAG,EAAAjF,KAAAnC,EAAAiH,IACAgF,EAAA9J,KAAA2K,KAEApC,EAAAkC,GAAA,KACAS,IACAV,EAAA3M,EAAA6G,EAAA+F,EAAAC,EAAAC,GAGAM,GAAApN,EAAA0K,EAAA2C,EAAAxG,EAAAgG,GAEA9D,EAAAsD,aAAArM,KACA6G,EAAAuF,YAAA,EACAa,EAAAjN,EAAA6G,GACAL,KAAA,oBACAxG,UAC6B6M,GAE7BhG,EAAAqF,OAAAnD,EAAAoD,SAAAnM,QAEqB,CACrB,KAAAjB,EAAAkJ,EAAAhG,QACAgF,EAAAgB,EAAAlJ,KACA6N,EAAArD,EAAAmB,EAAAzD,GACA7H,EAAAY,EAAAiH,GAEA2F,KAAA,GACAK,EAAAjN,EAAA6G,GACAvH,KAAA2H,EACAT,KAAA,MACAxG,UACiC6M,GACjChG,EAAA0F,WAAApK,KAAA8E,GACAG,EAAAjF,KAAA/C,KAEAsL,EAAAkC,GAAA,KACAS,IACAV,EAAA3M,EAAA6G,EAAA+F,EAAAC,GAGAO,GAAApN,EAAA0K,EAAA2C,EAAAxG,EAAAgG,OAGiB,KAAAhG,EAAAqF,OAAA,CAIjB,KAA0BnN,EAAA2L,EAAAzI,OAAkBlD,IAC5CkI,EAAAyD,EAAA3L,GACA4N,EAAA3M,EAAA6G,EAAA9H,EAAA8N,EAAA7B,EAAAhL,EAAAiH,GAGA8B,GAAAoD,SAAAnM,KACA6G,EAAAqF,QAAA,GAGApB,IACAwB,EAAAxB,EAAA9K,MACA6G,EAAAyF,QACAW,EAAAjN,EAAA6G,GACAL,KAAA,eACAlH,KAAA,YACAU,SACAkN,SAAArG,EAAAyF,QAEAzF,EAAAyF,cAWAN,EAAA,WACA9C,EAAAY,OACAZ,EAAAW,QAAAgC,GACA1C,EAAAU,QAAAyD,GACAnC,EAAAa,KAUAsB,EAAA,SAAAC,EAAA5B,GACA,GAAA6B,GAAAD,EAAAE,aACAD,GAAAvL,SACAsL,EAAAE,iBACA9B,EAAA6B,KAWAf,EAAA,SAAAzM,EAAA6G,GAKA,MAJAV,WAAAlE,OAAA,IACA4E,EAAAqC,EAAArJ,IAAAG,IAGA6G,KAAA2F,WAOAkB,OAAA,SAAAC,GACAA,EAAAnH,IAGA,IAAAK,GAAAqC,EAAArJ,IAAAG,EACA,IAAA6G,EAAA,CACA,GAA2D+D,GAA3DgD,GAA0C5N,SAC1C,KAAA4K,IAAA+C,GACA,WAAA/C,IACAgD,EAAAhD,GAAA+C,EAAA/C,GACAqC,GAAAjN,EAAA6G,EAAA+G,KAYAC,cAAA,SAAAC,EAAA1J,GACA,mBAAA0J,GACA,SAAAC,WAAA,gCAEA,sBAAA3J,GACA,SAAA2J,WAAA,8BAGA,IACAnD,GAAA+C,EADA9G,EAAAqC,EAAArJ,IAAAG,GAEAgO,EAAA7H,UAAA,GACA8H,EAAAD,IAAA/E,EAAA7E,MAAAnF,KAAA+O,EAKA,IAHAnH,GAAAgF,EAAAhF,EAAA7G,EAAA8N,GAGAjH,GAAAoH,GAAA,gBAAAA,GAAA,CACAN,GAAwC3N,SAAAwG,KAAAsH,EACxC,KAAAlD,IAAAqD,GACA,WAAArD,GAAA,SAAAA,IACA+C,EAAA/C,GAAAqD,EAAArD,GACAqC,GAAAjN,EAAA6G,EAAA8G,OAeA7B,EAAA,SAAA9L,EAAA6G,EAAA8E,EAAAC,GACA,GAAA2B,GAAApE,EAAAtJ,IAAA8L,EACA4B,IACApE,EAAAa,IAAA2B,EAAA4B,GACArE,SAAAS,IACA8D,mBAEAF,EAAArE,SAAAc,IAAAhK,GACA4L,aAAApB,QACA3D,SAEAA,EAAAsC,SAAAa,IAAA2B,EAAA4B,IAWAN,EAAA,SAAAjN,EAAA6G,EAAA8G,EAAAd,GACAhG,EAAAsC,SAAAU,QAAA,SAAA0D,GACA,GAAA3B,GAAA2B,EAAArE,SAAArJ,IAAAG,GAAA4L,YAIA,gBAAAiB,IACAtD,EAAAqC,EAAAiB,MAAA,IACAtD,EAAAqC,EAAA+B,EAAAnH,OAAA,GACA+G,EAAAE,cAAAtL,KAAAwL,KAIAzE,GAAAS,IACAR,EAAAQ,IAWAZ,EAAAvB,QAAA,SAAAxH,EAAA2L,EAAAC,GACA,IAAA5L,GAAA,gBAAAA,IAAA,kBAAAA,GACA,SAAA+N,WAAA,2CAEA,sBAAApC,GACA,SAAAoC,WAAA,gDAEA,IAAAhF,EAAAoD,UAAApD,EAAAoD,SAAAR,GACA,SAAAoC,WAAA,4DAEA,IAAAnC,IAAA3C,EACA2C,EAAAxC,MACA,KAAAwC,GAAA,gBAAAA,GACA,SAAAmC,WAAA,gEAIA,OAFArC,GAAA1L,EAAA2L,EAAAC,GAEA5L,GAWA+I,EAAArB,UAAA,SAAA1H,EAAA2L,GACA,UAAA3L,GAAA,gBAAAA,IAAA,kBAAAA,GACA,SAAA+N,WAAA,+CAEA,sBAAApC,GACA,SAAAoC,WAAA,kDAEA,IAAAG,GAAAX,EAAApE,EAAAtJ,IAAA8L,EAqBA,OAnBA4B,KAAAW,EAAAX,EAAArE,SAAArJ,IAAAG,MACAuN,EAAArE,SAAAW,QAAA,SAAAqE,EAAAlO,GACA6L,EAAAqC,EAAArH,KAAA7G,KAEAmL,EAAA,WACAmC,EAAAC,EAAA5B,KAKA,IAAA4B,EAAArE,SAAAY,MAAAyD,EAAArE,SAAAa,IAAA/J,GACAmJ,EAAA,OAAAwC,GACA4B,EAAArE,SAAA,OAAAlJ,GAEA,IAAAkO,EAAArH,KAAAsC,SAAAW,KACAZ,EAAA,OAAAlJ,GACAkO,EAAArH,KAAAsC,SAAA,OAAAwC,IAGA3L,GAUA+I,EAAAoF,YAAA,SAAAnO,GACA,UAAAA,GAAA,gBAAAA,IAAA,kBAAAA,GACA,SAAA+N,WAAA,mDAEA,OAAAhF,GAAAoD,UAAApD,EAAAoD,SAAAnM,GAAA,KAEAyM,EAAAzM,IAUA+I,EAAAqF,qBAAA,SAAAzC,GACA,qBAAAA,GACA,SAAAoC,WAAA,6DAEA,IAAAR,GAAApE,EAAAtJ,IAAA8L,EACA4B,KACAA,EAAArE,SAAAW,QAAA,SAAAqE,EAAAlO,GACA6L,EAAAqC,EAAArH,KAAA7G,KAEAsN,EAAAC,EAAA5B,MAIClM,OAAAiB,MAAAhC,OP6wBK,SAAUH,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,IQr/CtDR,EAAA,EAEA,IAAAyP,GAAA,WAoBC,QAAAA,GAAmBrO,EAAgBsO,EAAmBtN,GAAnB,SAAAsN,UAAmB,SAAAtN,MAAauN,SAASC,MAAzD9P,KAAAsB,SAhBZtB,KAAA+P,YAKA/P,KAAA4P,SACNI,OAAQ,OACRC,kBAAmB,IAAI,KACvBC,kBACCC,QAAQ,EACRC,MAAM,EACNC,MAAM,EACNC,OAAO,IAKRtQ,KAAKoD,MAAQ,GAAImN,GAAA3N,QAAM,GAAItB,EAAQtB,MACnCA,KAAKsC,KAAOA,CACZ,KAAK,GAAIjC,KAAKuP,GACb5P,KAAK4P,QAAQvP,GAAKuP,EAAQvP,EAG3BL,MAAK4I,SAAW,GAAI4H,kBAAiBxQ,KAAKyQ,cAAcxM,KAAKjE,OAgN/D,MA7MQ2P,GAAAnO,UAAAkP,cAAP,SAAqBpO,GAAA,SAAAA,MAAAwB,QAEpB9D,KAAK4I,SAAS+H,aAEVrO,IAAMtC,KAAKsC,KAAOA,GAEtBtC,KAAK+P,SAAW/P,KAAK4Q,gBAGrB5Q,KAAK4I,SAASE,QAAQ9I,KAAKsC,MAC1BuO,WAAW,KAKLlB,EAAAnO,UAAAoP,cAAR,SAAsBtO,EAAwBc,GAAxB,SAAAd,MAAatC,KAAKsC,MAAM,SAAAc,MAAed,EAAKC,WAAavC,KAAKoD,MACnF,IAAI0N,KAEJ,MAAIxO,EAAKyO,SAASC,eAAiBhR,MAAK4P,QAAQM,kBAAhD,CAGA,GAAI5N,EAAK2O,aAAc,CACtB,IAAK,GAAI5Q,GAAI,EAAGA,EAAIiC,EAAK2O,aAAa1N,OAAQlD,IAC7CiC,EAAK2O,aAAa5Q,GAAGoC,QAEtBH,GAAK2O,gBAIN3O,EAAKC,UAAYD,EAAKC,WAAaa,EAChCd,EAAK4O,aACP5O,EAAK6O,eAAiBC,EAAAhK,UAAgB9E,EAAK4O,WAAWC,mBAAsB7O,EAAK6O,qBAGlFL,EAAkBA,EAAgBO,OAAOrR,KAAKsR,eAAehP,GAK7D,KAAK,GAAIjC,GAAI,EAAGA,EAAIiC,EAAKiP,WAAWhO,OAAQlD,IAAK,CAChD,GAAImR,GAAkBlP,EAAKiP,WAAWlR,EAElCmR,GAAUT,SAASC,eAAiBhR,MAAK4P,QAAQM,mBAErDY,EAAkBA,EAAgBO,OAAOrR,KAAK4Q,cAAcY,EAAWA,EAAUjP,WAAaa,KAG/F,MAAO0N,KAGAnB,EAAAnO,UAAA8P,eAAR,SAAuBhP,GACtB,GAAIwO,KACJ,QAAOxO,EAAKmP,UACX,IAAKnP,GAAKoP,aACTZ,EAAkB9Q,KAAK2R,mBAAiCrP,EACxD,MACD,KAAKA,GAAKsP,UACTd,EAAkB9Q,KAAK6R,qBAA4BvP,GAGrD,MAAOwO,IAGAnB,EAAAnO,UAAAmQ,mBAAR,SAA2BrP,GAM1B,IAAK,GALDwO,MACAgB,EAAkBxP,EAAKyP,WACvBC,KAGK3R,EAAI,EAAGA,EAAIyR,EAAMvO,OAAQlD,IAAK,CACtC,GAAI8E,GAAmB2M,EAAMG,KAAK5R,GAC9B6R,EAAmB/M,EAAKvE,KAAKmL,MAAM,IAEvC,IAAImG,EAAO,IAAMlS,KAAK4P,QAAQI,OAAQ,CACrCkC,EAAOhK,OAAO,EAAE,EAChB,IAAI+B,GAAKmH,EAAAvJ,WAAWqK,EAAO,GACxBjI,GACF+H,EAAMvO,MACLuO,MAAOE,EACP/M,KAAMA,EACNhD,YAAa8H,IAIdkI,QAAQC,MAAM,sBAAwBjN,EAAKvE,OAM9CoR,EAAMK,KAAK,SAASC,EAAErQ,GACrB,MAAGqQ,GAAEnQ,YAAYQ,SAAWV,EAAEE,YAAYQ,SAClC,EAEA2P,EAAEnQ,YAAYQ,SAAWV,EAAEE,YAAYQ,UACtC,EAGD,GAKT,KAAK,GAAItC,GAAI,EAAGA,EAAI2R,EAAMzO,OAAQlD,IAAI,CACrC,GAAIkS,GAASP,EAAM3R,EAEnB,KACCyQ,EAAgBrN,KAAK2N,EAAAnJ,cAAcsK,EAAEP,MAAO1P,EAAMiQ,EAAEpN,KAAKzE,QAE1D,MAAMgG,GACLyL,QAAQC,MAAM,6BAA+BG,EAAEpN,KAAKvE,MACpDuR,QAAQC,MAAM1L,IAKhB,MADApE,GAAK2O,aAAeH,EACbA,GAGAnB,EAAAnO,UAAAqQ,qBAAR,SAA6BvP,GAC5B,GAAIwO,MACA0B,EAAgBxS,KAAKyS,oBAAoBnQ,EAAK0C,UAAWhF,KAAK4P,QAAQK,iBAE1E,IAAwB,IAAlBuC,EAAOjP,QAAmC,SAAnBiP,EAAO,GAAG1K,KAAkB,CAC/C,IAAK,GAAIzH,GAAI,EAAGA,EAAImS,EAAOjP,OAAQlD,IAAK,CACpC,GAAIqS,GAAaF,EAAOnS,GACpBsS,EAAiB9C,SAAS+C,eAAeF,EAAMhS,MASnD,IALAiS,EAAS1B,gBACT0B,EAASpQ,UAAYD,EAAKC,UAC1BoQ,EAASxB,eAAiBC,EAAAlK,MAAM5E,EAAK6O,gBAErC7O,EAAK4O,WAAW2B,aAAaF,EAAUrQ,GACpB,YAAfoQ,EAAM5K,KAAoB,CACzC,GAAI7F,GAAa,GAAI6Q,GAAA/N,cAAc4N,EACnCA,GAAS1B,cAAgBhP,GACb6O,EAAgBrN,KAAKxB,IAG1BK,EAAK4O,WAAW6B,YAAYzQ,GAEtC,MAAOwO,IAGAnB,EAAAnO,UAAAiR,oBAAR,SAA4BO,EAAkBC,GAQ7C,IAPA,GAECC,GAEAC,EAEAzS,EANG0S,EAAgB,EACnBC,EAAoB,EAEpB9P,EAAiByP,EAASzP,OAE1BiP,KAEMa,EAAY9P,GAAQ,CAEvB,IADA6P,EAAQJ,EAAS7I,QAAQ8I,EAAW,GAAII,IAC5B,EAAG,CACZb,EAAO/O,MACLqE,KAAM,OACNpH,MAAOsS,EAASlH,MAAMuH,IAExB,OAWA,GARID,EAAQ,GAAKC,EAAYD,GAC3BZ,EAAO/O,MACJqE,KAAM,OACNpH,MAAOsS,EAASlH,MAAMuH,EAAWD,KAGtCC,EAAYD,EAAQH,EAAW,GAAG1P,QAClC6P,EAAQJ,EAAS7I,QAAQ8I,EAAW,GAAII,IAC5B,EAAG,CACbF,EAAYH,EAASlH,MAAMuH,EAAYJ,EAAW,GAAG1P,QACrD2P,EAAYV,EAAOA,EAAOjP,OAAS,GACmB,UAApC,MAAb2P,EAAoBA,EAAUpL,KAAO,QACvCoL,EAAUxS,OAASyS,EAGnBX,EAAO/O,MACLqE,KAAM,OACNpH,MAAOyS,GAGZ,OAEFzS,EAAQsS,EAASlH,MAAMuH,EAAWD,GAAOE,OACzCd,EAAO/O,MACLqE,KAAM,UACNpH,MAAOA,IAET2S,EAAYD,EAAQH,EAAW,GAAG1P,OAGzC,MAAOiP,IAGA7C,EAAAnO,UAAAiP,cAAR,SAAsBjM,GACrBA,EAAM+O,iBAEN,IAAIrO,GAAkBV,EAAMgP,MACT,KAAhBtO,EAAGuM,UACLzR,KAAK4Q,cAAc1L,IAGtByK,IRw9CA/P,GAAQgD,QAAU+M,CQt9ClB,IAAAY,GAAArQ,EAAA,GAEA4S,EAAA5S,EAAA,GAEAkR,EAAAlR,EAAA,IR09CM,SAAUL,OAAQD,QAASM,qBAEjC,YAEAa,QAAOC,eAAepB,QAAS,cAAgBc,OAAO,GSjtDtD,IAAA+S,YAAA,WAWC,QAAAA,YAAmBnR,EAAmBS,EAAuBK,GAA1CpD,KAAAsC,OAAmBtC,KAAA+C,aAAuB/C,KAAAoD,QAVtDpD,KAAAwD,SAAmB,EACnBxD,KAAAU,MAAaoD,OACb9D,KAAAiD,gBAkMR,MAnLQwQ,YAAAjS,UAAAgB,IAAP,WACC,GAAI2F,OACHzH,MAAOoD,OACPN,SAAS,EACT4O,MAAOtO,QAEJ4P,WACHC,MAAO3T,KAAKsC,MAGTsR,WAAqB,0CAA2CC,QAChEC,QAAU9T,KAAK+T,aAAa/T,KAAKoD,OAAO0Q,OAC5CD,MAAKpQ,KAAKiQ,WACVG,KAAKpQ,KAAKzD,KAAKsC,KAAK6O,oBAEpByC,YAAc,cACdA,YAAc,mBACdA,YAAc,oBACdA,YAAc,UACdA,YAAc5T,KAAK+C,WACnB6Q,YAAc,IACdA,YAAc,IACdA,YAAc,IACdA,YAAc,IACd,IAAIlO,MAAiBsO,KAAKJ,WAE1B,KACCzL,KAAKzH,MAAQgF,KAAKuO,MAAMH,QAAQD,MAEjC,MAAMnN,GACLyB,KAAK3E,SAAU,EACf2E,KAAKiK,MAAQ1L,EAMd,MAHA1G,MAAKU,MAAQyH,KAAKzH,MAClBV,KAAKwD,QAAU2E,KAAK3E,QAEb2E,MAGDsL,WAAAjS,UAAA0S,WAAP,WACC,GAAI/L,IACHzH,MAAOoD,OACPN,SAAS,GAEN2Q,EAAQnU,KAAK4D,iBAGjB,OAFAuE,GAAKzH,MAAQyT,EAAMC,KAAKD,EAAMC,KAAK7Q,OAAO,GAC1C4E,EAAK3E,UAAY2E,EAAKzH,MACfyH,GAGDsL,WAAAjS,UAAAoC,gBAAP,WACC,GAAIuE,OACH3E,SAAS,EACT4O,MAAOtO,OACPC,YACAqQ,QACAC,SAEGC,QACHnC,WACAoC,UACAC,aACAC,gBACAC,YACAC,MAAOvD,QAAAnK,KACP+M,KAAM5C,QAAAnK,MAGHyM,WACHC,MAAO3T,KAAKsC,MAGTsR,WAAqB,kDAAmDC,OAE5EA,MAAKpQ,KAAK6Q,QACVT,KAAKpQ,KAAKiQ,WACVG,KAAKpQ,KAAKzD,KAAKsC,KAAK6O,mBAGpB,IAAI2C,SAAU9T,KAAK+T,aAAa/T,KAAKoD,MAAM+E,MAAK,EAEhDyL,aAAc,IACdA,YAAc,cACdA,YAAc,gBACdA,YAAc,mBACdA,YAAc,oBACdA,YAAc,UACdA,YAAc5T,KAAK+C,WACnB6Q,YAAc,IACdA,YAAc,IACdA,YAAc,IACdA,YAAc,IACdA,YAAc,IACd,IAAIlO,MAAiBsO,KAAKJ,WAE1B,KACClO,KAAKuO,MAAMH,QAAQA,QAAQD,MAE5B,MAAMnN,GACLyB,KAAK3E,SAAU,EACf2E,KAAKiK,MAAQ1L,EAKd,MAFA1G,MAAKiD,aAAekF,KAAKpE,SAElBoE,MAGAsL,WAAAjS,UAAAuS,aAAR,SAAqB3Q,EAAcW,EAAsD6Q,GAAtD,SAAA7Q,OAAkBA,YAAcqQ,QAAUC,UAAY,SAAAO,OAAA,EACxF,IAAItT,GAAe8B,EAAM9B,iBAAkBU,aACvCb,EAAgB,SAASiC,EAAO9B,EAAQ8R,EAAOrP,GAMlD,MALIA,GAASqQ,KAAKjK,QAAQ/G,EAAMsF,OAAO0K,MAAY,IAClDrP,EAASA,SAASN,KAAKL,EAAMsF,OAAO0K,IACpCrP,EAASqQ,KAAK3Q,KAAKL,EAAMsF,OAAO0K,KAG7BhQ,EAAMsF,OAAO0K,YAAkB7C,SAAA3N,QAC3B5C,KAAK+T,aAAa3Q,EAAMsF,OAAO0K,GAAQrP,EAAU6Q,GAASd,QAEzD1Q,EAAMsF,OAAO0K,YAAkBhK,SAAAxG,WACjCQ,EAAMsF,OAAO0K,GAAO1S,gBAAiBoE,WAAc8P,GACjDxR,EAAMsF,OAAO0K,GAAO1S,MAFxB,QAMF4K,EAAgB,SAASlI,EAAO9B,EAAQ8R,EAAOrP,EAAU8Q,GAC5D9Q,EAASA,SAASN,KAAKL,EAAMsF,OAAO0K,IACpCrP,EAASsQ,KAAK5Q,KAAKL,EAAMsF,OAAO0K,IAE3BwB,IACJxR,EAAM9B,OAAO8R,GAASyB,GAIxB,KAAK,GAAIxU,KAAK+C,GAAMsF,OACnBpH,EAAOwT,iBAAiBzU,EAAEc,EAAI8C,KAAKjE,KAAKoD,EAAM9B,EAAOjB,EAAE0D,IACvDzC,EAAOyT,iBAAiB1U,EAAEiL,EAAIrH,KAAKjE,KAAKoD,EAAM9B,EAAOjB,EAAE0D,GAqCxD,OAjCGX,GAAMqF,OACRnH,EAAOwT,iBAAiB,UAAU,SAAS1R,EAAO9B,EAAQyC,EAAU6Q,GACnE,GAAKxR,EAAMqF,OAOX,MALG1E,GAASqQ,KAAKjK,QAAQ/G,EAAMqF,UAAY,IAC1C1E,EAASA,SAASN,KAAKL,EAAMqF,QAC7B1E,EAASqQ,KAAK3Q,KAAKL,EAAMqF,SAGnBzI,KAAK+T,aAAa3Q,EAAMqF,OAAO1E,EAAS6Q,GAASd,SACvD7P,KAAKjE,KAAKoD,EAAM9B,EAAOyC,EAAS6Q,IAGlCtT,EAAO0T,QAAUlR,OAIfV,EAAMoF,MACRlH,EAAOwT,iBAAiB,SAAS,SAAS1R,EAAO9B,EAAQyC,EAAU6Q,GAClE,GAAKxR,EAAMoF,MAOX,MALGzE,GAASqQ,KAAKjK,QAAQ/G,EAAMoF,MAAMpF,SAAW,IAC/CW,EAASA,SAASN,KAAKL,EAAMoF,MAAMpF,OACnCW,EAASqQ,KAAK3Q,KAAKL,EAAMoF,MAAMpF,QAGzBpD,KAAK+T,aAAa3Q,EAAMoF,MAAMpF,MAAMW,EAAS6Q,GAASd,SAC5D7P,KAAKjE,KAAKoD,EAAM9B,EAAOyC,EAAS6Q,IAGlCtT,EAAO2T,OAASnR,QAIhBgQ,QAASxS,EACTyC,SAAUA,IAGb0P,aT+rDA7T,SAAQgD,QAAU6Q,US7rDlB,IAAAlD,SAAArQ,oBAAA,GACAkJ,QAAAlJ,oBAAA,GACAkR,QAAAlR,oBAAA,ITmsDM,SAAUL,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GUh5DtD,IAAAwU,GAAAhV,EAAA,EAuBgBN,GAAAuF,KAAA+P,EAAAtS,OAtBhB,IAAAuS,GAAAjV,EAAA,GAuBiBN,GAAAwV,MAAAD,EAAAvS,OAtBjB,IAAAyS,GAAAnV,EAAA,GAuBiBN,GAAA0V,MAAAD,EAAAzS,OAtBjB,IAAA2S,GAAArV,EAAA,GAuBoBN,GAAA4V,SAAAD,EAAA3S,OAtBpB,IAAA6S,GAAAvV,EAAA,GAuBmBN,GAAA8V,QAAAD,EAAA7S,OAtBnB,IAAA+S,GAAAzV,EAAA,GAuBiBN,GAAA4E,MAAAmR,EAAA/S,OAtBjB,IAAAgT,GAAA1V,EAAA,GAuBmBN,GAAAiW,QAAAD,EAAAhT,OAtBnB,IAAAkT,GAAA5V,EAAA,GAuBkBN,GAAA0U,OAAAwB,EAAAlT,OAtBlB,IAAAmT,GAAA7V,EAAA,GAuBgBN,GAAAoW,KAAAD,EAAAnT,OAtBhB,IAAAqT,GAAA/V,EAAA,GAuBgBN,GAAAsW,KAAAD,EAAArT,OAtBhB,IAAAuT,GAAAjW,EAAA,GAuBcN,GAAAwW,GAAAD,EAAAvT,OAtBd,IAAAyT,GAAAnW,EAAA,GAuBiBN,GAAA0W,MAAAD,EAAAzT,OAtBjB,IAAA2T,GAAArW,EAAA,GAuBiBN,GAAA4W,MAAAD,EAAA3T,OAtBjB,IAAA6T,GAAAvW,EAAA,GAuBkBN,GAAA8W,OAAAD,EAAA7T,OAtBlB,IAAA+T,GAAAzW,EAAA,GAuBeN,GAAAgX,IAAAD,EAAA/T,OAtBf,IAAAiU,GAAA3W,EAAA,GAuBiBN,GAAA0Q,MAAAuG,EAAAjU,OAtBjB,IAAAkU,GAAA5W,EAAA,GAuBkBN,GAAAmX,OAAAD,EAAAlU,OAtBlB,IAAAoU,GAAA9W,EAAA,GAuBgBN,GAAAqX,KAAAD,EAAApU,OAtBhB,IAAAsU,GAAAhX,EAAA,GAuBiBN,GAAAc,MAAAwW,EAAAtU,OAtBjB,IAAAuU,GAAAjX,EAAA,GAuBmBN,GAAAwX,QAAAD,EAAAvU,OAtBnB,IAAAyU,GAAAnX,EAAA,GAuBgBN,GAAA0X,KAAAD,EAAAzU,SVo5DV,SAAU/C,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GW78DtD,IAAAoS,GAAA5S,EAAA,GACAkR,EAAAlR,EAAA,GAEAqX,EAAA,SAAAzU,GAGC,QAAAyU,GAAYjV,EAAmBS,EAA2BoC,GAA1D,GAAAnC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IX+8DjB,OWh9DmDgD,GAAAmC,OAEzDnC,EAAKR,MX88DQQ,EWt8Df,MAbyCpB,GAAA2V,EAAAzU,GAQjCyU,EAAA/V,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MAEToR,EAAAnM,QAAQjF,KAAKsC,KAAMtC,KAAKmF,KAAMnF,KAAK+C,WAAWrC,QAEhD6W,GAbyCzE,EAAAjQ,cAC1B0U,GAAA7U,GAAa,OX29D5B9C,EAAQgD,QAAU2U,GAKZ,SAAU1X,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GYl/DtD,IAAAoS,GAAA5S,EAAA,GAEAsX,EAAA,SAAA1U,GAGC,QAAA0U,GAAYlV,EAAmBS,EAA2B0U,GAA1D,GAAAzU,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IZo/DjB,OYr/DmDgD,GAAAyU,YAEzDzU,EAAKR,MZm/DQQ,EYx9Df,MAhC0CpB,GAAA4V,EAAA1U,GAQlC0U,EAAAhW,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MAENA,KAAK+C,WAAWrC,QAAUV,KAAK0X,WACjC1X,KAAK2X,WAEE3X,KAAK0X,YACZ1X,KAAK4X,eAICJ,EAAAhW,UAAAmW,SAAR,WACC3X,KAAKsC,KAAKuV,WAAa,IAAI7X,KAAKyX,UAChCzX,KAAKsC,KAAKuV,UAAY7X,KAAKsC,KAAKuV,UAAUvE,QAGnCkE,EAAAhW,UAAAoW,YAAR,WACC5X,KAAKsC,KAAKuV,UAAY7X,KAAKsC,KAAKuV,UAAUhM,QAAQ,GAAIiM,QAAO,UAAW9X,KAAKyX,UAAU,QAAS,KAAM,IACtGzX,KAAKsC,KAAKuV,UAAY7X,KAAKsC,KAAKuV,UAAUvE,QAGnCkE,EAAAhW,UAAAkW,SAAR,WACC,MAAO1X,MAAKsC,KAAKuV,UAAU1N,QAAQnK,KAAKyX,cAAgB,GAE1DD,GAhC0C1E,EAAAjQ,cAC3B2U,GAAA9U,GAAa,QZghE5B9C,EAAQgD,QAAU4U,GAKZ,SAAU3X,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GatiEtD,IAAAoS,GAAA5S,EAAA,GAEA6X,EAAA,SAAAjV,GAGC,QAAAiV,GAAYzV,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IbwiEjB,OatiENgD,GAAKoB,WAAa,SAClBpB,EAAK0B,ebqiEQ1B,EaniEf,MAT0CpB,GAAAmW,EAAAjV,GAS1CiV,GAT0CjF,EAAAjO,aAC3BkT,GAAArV,GAAa,QbgjE5B9C,EAAQgD,QAAUmV,GAKZ,SAAUlY,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GctkEtD,IAAAoS,GAAA5S,EAAA,GAEA8X,EAAA,SAAAlV,GAGC,QAAAkV,GAAY1V,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IdukEjB,OctkENgD,GAAKR,MdskEQQ,EczjEf,MAlB6CpB,GAAAoW,EAAAlV,GAQrCkV,EAAAxW,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MAELA,KAAK+C,WAAWrC,MAInBV,KAAKsC,KAAK8C,aAAa,WAAW,YAHlCpF,KAAKsC,KAAK+C,gBAAgB,aAM7B2S,GAlB6ClF,EAAAjQ,cAC9BmV,GAAAtV,GAAa,WdwlE5B9C,EAAQgD,QAAUoV,GAKZ,SAAUnY,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,Ge9mEtD,IAAAoS,GAAA5S,EAAA,GAEA+X,EAAA,SAAAnV,GAGC,QAAAmV,GAAY3V,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,If+mEjB,Oe9mENgD,GAAKR,Mf8mEQQ,EejmEf,MAlB4CpB,GAAAqW,EAAAnV,GAQpCmV,EAAAzW,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MAENA,KAAK+C,WAAWrC,MAClBV,KAAKsC,KAAK+C,gBAAgB,YAG1BrF,KAAKsC,KAAK8C,aAAa,WAAW,aAGrC6S,GAlB4CnF,EAAAjQ,cAC7BoV,GAAAvV,GAAa,UfgoE5B9C,EAAQgD,QAAUqV,GAKZ,SAAUpY,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GgBtpEtD,IAAAoS,GAAA5S,EAAA,GAEA2E,EAAA,SAAA/B,GAGC,QAAA+B,GAAYvC,EAAmBS,EAAoBmV,GAAnD,GAAAlV,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IhBwpEjB,OgBtpENgD,GAAKoB,WAAa8T,GAClBlV,EAAK0B,ehBqpEQ1B,EgBnpEf,MAT0CpB,GAAAiD,EAAA/B,GAS1C+B,GAT0CiO,EAAAjO,aAC3BA,GAAAnC,GAAa,QhBgqE5B9C,EAAQgD,QAAUiC,GAKZ,SAAUhF,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GiBtrEtD,IAAAoS,GAAA5S,EAAA,GAEAiY,EAAA,SAAArV,GAKC,QAAAqV,GAAY7V,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IAHhBgD,GAAAoV,WAIP,KAAK,GAAI/X,GAAI,EAAGA,EAAI2C,EAAKV,KAAKiP,WAAWhO,OAAQlD,IAChD2C,EAAKoV,SAAS3U,KAAKT,EAAKV,KAAKiP,WAAWlR,GjBwrEnC,OiBtrEN2C,GAAKqV,oBAELrV,EAAKR,MjBorEQQ,EiBvoEf,MAzD4CpB,GAAAuW,EAAArV,GAenCqV,EAAA3W,UAAA8W,gBAAR,WACC,IAAI,GAAIjY,KAAKL,MAAKoY,SACjBpY,KAAKsC,KAAKiW,YAAYvY,KAAKoY,SAAS/X,KAI9B8X,EAAA3W,UAAA6W,kBAAR,WACC,KAAuC,IAAhCrY,KAAKsC,KAAKiP,WAAWhO,QACxBvD,KAAKsC,KAAKyQ,YAAY/S,KAAKsC,KAAKiP,WAAW,KAIzC4G,EAAA3W,UAAAgB,IAAP,WAEC,GAAIY,GAAepD,KAAK+C,WAAWmR,aAAaxT,KAIhD,IAFAV,KAAKqY,sBAEFjV,YAAiBmN,GAAA3N,SAenB,KAAM,IAAI4V,OAAM,0CAdhB,KAAK,GAAInY,GAAI,EAAGA,EAAI+C,EAAMsF,OAAOnF,OAAQlD,IACxC,IAAK,GAAIuH,GAAI,EAAGA,EAAI5H,KAAKoY,SAAS7U,OAAQqE,IAAK,CAC9C,GAAI1C,GAAWlF,KAAKoY,SAASxQ,GAAG6Q,WAAU,EAC1CvT,GAAG3C,UAAYa,EAAMsF,OAAOrI,GAC5B6E,EAAGiM,eAAiBC,EAAAtK,OAAO5B,EAAGiM,gBAC7BuH,OAAQrY,EACRsY,SAAa,GAAHtY,EACVuY,QAASvY,GAAG+C,EAAMsF,OAAOnF,OAAO,IAEjCvD,KAAKsC,KAAKiW,YAAYrT,KASnBiT,EAAA3W,UAAAiB,OAAP,WACCzC,KAAKqY,oBACLvV,EAAAtB,UAAMiB,OAAMlC,KAAAP,MACZA,KAAKsY,mBAEPH,GAzD4CrF,EAAAjQ,cAC7BsV,GAAAzV,GAAa,UACbyV,EAAAxV,SAAmB,EjB2uElC/C,EAAQgD,QAAUuV,CiBlrElB,IAAA/G,GAAAlR,EAAA,GACAqQ,EAAArQ,EAAA,IjBwrEM,SAAUL,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GkBpwEtD,IAAAoS,GAAA5S,EAAA,GAEA2Y,EAAA,SAAA/V,GAGC,QAAA+V,GAAYvW,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IlBqwEjB,OkBpwENgD,GAAKR,MlBowEQQ,EkBvvEf,MAlB2CpB,GAAAiX,EAAA/V,GAQnC+V,EAAArX,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MAENA,KAAK+C,WAAWrC,MAClBV,KAAKsC,KAAKgO,MAAMwI,QAAU,OAG1B9Y,KAAKsC,KAAKgO,MAAMwI,QAAU,IAG7BD,GAlB2C/F,EAAAjQ,cAC5BgW,GAAAnW,GAAa,SlBsxE5B9C,EAAQgD,QAAUiW,GAKZ,SAAUhZ,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GmB5yEtD,IAAAoS,GAAA5S,EAAA,GACAkR,EAAAlR,EAAA,GAEA6Y,EAAA,SAAAjW,GAGC,QAAAiW,GAAYzW,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,InB6yEjB,OmB5yENgD,GAAKR,MnB4yEQQ,EmBpyEf,MAbyCpB,GAAAmX,EAAAjW,GAQjCiW,EAAAvX,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MAEToR,EAAAnM,QAAQjF,KAAKsC,KAAM,OAAQtC,KAAK+C,WAAWrC,QAE7CqY,GAbyCjG,EAAAjQ,cAC1BkW,GAAArW,GAAa,OnByzE5B9C,EAAQgD,QAAUmW,GAKZ,SAAUlZ,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GoBh1EtD,IAAAoS,GAAA5S,EAAA,GAEA8Y,EAAA,SAAAlW,GAIC,QAAAkW,GAAY1W,EAAoBS,GAAhC,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IpBi1EjB,OoB/0ENgD,GAAKiW,QAAUjW,EAAKV,KAAK4W,YACzBlW,EAAKR,MpB80EQQ,EoBl0Ef,MApByCpB,GAAAoX,EAAAlW,GAWjCkW,EAAAxX,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MACTA,KAAKsC,KAAK6W,UAAYnZ,KAAK+C,WAAWrC,OAGhCsY,EAAAxX,UAAAiB,OAAP,WACCK,EAAAtB,UAAMiB,OAAMlC,KAAAP,MACZA,KAAKsC,KAAK4W,YAAclZ,KAAKiZ,SAE/BD,GApByClG,EAAAjQ,cAC1BmW,GAAAtW,GAAa,OpBk2E5B9C,EAAQgD,QAAUoW,GAKZ,SAAUnZ,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GqBx3EtD,IAAAoS,GAAA5S,EAAA,GAEAkZ,EAAA,SAAAtW,GAIC,QAAAsW,GAAY9W,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IAHhBgD,GAAAoV,WAIP,KAAK,GAAI/X,GAAI,EAAGA,EAAI2C,EAAKV,KAAK8V,SAAS7U,OAAQlD,IAC9C2C,EAAKoV,SAAS3U,KAAmBT,EAAKV,KAAK8V,SAAS/X,GrB03E/C,OqBv3EN2C,GAAKR,MrBu3EQQ,EqBx1Ef,MAzCuCpB,GAAAwX,EAAAtW,GAa9BsW,EAAA5X,UAAA8W,gBAAR,WACC,IAAI,GAAIjY,KAAKL,MAAKoY,SACjBpY,KAAKsC,KAAKiW,YAAYvY,KAAKoY,SAAS/X,KAI9B+Y,EAAA5X,UAAA6X,eAAR,WACC,KAAqC,IAA9BrZ,KAAKsC,KAAK8V,SAAS7U,QACtBvD,KAAKsC,KAAKyQ,YAAY/S,KAAKsC,KAAK8V,SAAS,KAIvCgB,EAAA5X,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MAENA,KAAK+C,WAAWrC,MAClBV,KAAKsY,kBAGLtY,KAAKqZ,kBAIAD,EAAA5X,UAAAiB,OAAP,WACCK,EAAAtB,UAAMiB,OAAMlC,KAAAP,MACZA,KAAKqZ,iBACLrZ,KAAKsY,mBAEPc,GAzCuCtG,EAAAjQ,cACxBuW,GAAA1W,GAAa,KrB65E5B9C,EAAQgD,QAAUwW,GAKZ,SAAUvZ,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GsBn7EtD,IAAAoS,GAAA5S,EAAA,GAEAoZ,EAAA,SAAAxW,GAIC,QAAAwW,GAAYhX,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IAHhBgD,GAAAoV,WAIP,KAAK,GAAI/X,GAAI,EAAGA,EAAI2C,EAAKV,KAAK8V,SAAS7U,OAAQlD,IAC9C2C,EAAKoV,SAAS3U,KAAmBT,EAAKV,KAAK8V,SAAS/X,GtBq7E/C,OsBl7EN2C,GAAKR,MtBk7EQQ,EsBn5Ef,MAzC0CpB,GAAA0X,EAAAxW,GAajCwW,EAAA9X,UAAA8W,gBAAR,WACC,IAAI,GAAIjY,KAAKL,MAAKoY,SACjBpY,KAAKsC,KAAKiW,YAAYvY,KAAKoY,SAAS/X,KAI9BiZ,EAAA9X,UAAA6X,eAAR,WACC,KAAqC,IAA9BrZ,KAAKsC,KAAK8V,SAAS7U,QACtBvD,KAAKsC,KAAKyQ,YAAY/S,KAAKsC,KAAK8V,SAAS,KAIvCkB,EAAA9X,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MAELA,KAAK+C,WAAWrC,MAInBV,KAAKqZ,iBAHLrZ,KAAKsY,mBAOAgB,EAAA9X,UAAAiB,OAAP,WACCK,EAAAtB,UAAMiB,OAAMlC,KAAAP,MACZA,KAAKqZ,iBACLrZ,KAAKsY,mBAEPgB,GAzC0CxG,EAAAjQ,cAC3ByW,GAAA5W,GAAa,QtBw9E5B9C,EAAQgD,QAAU0W,GAKZ,SAAUzZ,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GuB9+EtD,IAAAoS,GAAA5S,EAAA,GAEAqZ,EAAA,SAAAzW,GAGC,QAAAyW,GAAmBjX,EAAwBS,GAA3C,GAAAC,GACCF,EAAAvC,KAAAP,KAAoBsC,EAAMS,IAAW/C,IvBi/E/B,OuBl/EYgD,GAAAV,OAGlBU,EAAKoB,WAAa,SAClBpB,EAAK0B,evB8+EQ1B,EuBh+Ef,MArB0CpB,GAAA2X,EAAAzW,GAUlCyW,EAAA/X,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MACTA,KAAKsC,KAAK5B,MAAQV,KAAK+C,WAAWrC,OAG5B6Y,EAAA/X,UAAA+C,OAAP,SAAcC,GACb1B,EAAAtB,UAAM+C,OAAMhE,KAAAP,KAACwE,EACb,IAAI9D,GAAQV,KAAK+C,WAAWmR,aAAaxT,KACtCA,aAAiB0I,GAAAxG,SACnBlC,EAAMoJ,YAAY9J,KAAKsC,KAAK5B,QAE/B6Y,GArB0CzG,EAAA3O,cAC3BoV,GAAA7W,GAAa,QvBmgF5B9C,EAAQgD,QAAU2W,CuB7+ElB,IAAAnQ,GAAAlJ,EAAA,IvBm/EM,SAAUL,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GwB1hFtD,IAAAoS,GAAA5S,EAAA,GAEAsZ,EAAA,SAAA1W,GAKC,QAAA0W,GAAYlX,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IAHhBgD,GAAAoV,WAIP,KAAK,GAAI/X,GAAI,EAAGA,EAAI2C,EAAKV,KAAKiP,WAAWhO,OAAQlD,IAChD2C,EAAKoV,SAAS3U,KAAKT,EAAKV,KAAKiP,WAAWlR,GxB4hFnC,OwB1hFN2C,GAAKqW,iBAELrW,EAAKR,MxBwhFQQ,EwBn/Ef,MAjD2CpB,GAAA4X,EAAA1W,GAelC0W,EAAAhY,UAAA8W,gBAAR,WACC,IAAI,GAAIjY,KAAKL,MAAKoY,SACjBpY,KAAKsC,KAAKiW,YAAYvY,KAAKoY,SAAS/X,KAG9BmZ,EAAAhY,UAAA6X,eAAR,WACC,KAAuC,IAAhCrZ,KAAKsC,KAAKiP,WAAWhO,QACxBvD,KAAKsC,KAAKyQ,YAAY/S,KAAKsC,KAAKiP,WAAW,KAIzCiI,EAAAhY,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MACTA,KAAKqZ,gBAGL,KAAK,GADDI,GAAQzZ,KAAK+C,WAAWrC,MACnBL,EAAI,EAAGA,EAAIoZ,EAAOpZ,IAC1B,IAAK,GAAIuH,GAAI,EAAGA,EAAI5H,KAAKoY,SAAS7U,OAAQqE,IAAK,CAC9C,GAAI1C,GAAWlF,KAAKoY,SAASxQ,GAAG6Q,WAAU,EAC1CvT,GAAGiM,eAAiBC,EAAAtK,OAAO5B,EAAGiM,gBAC7BuH,OAAQrY,EACRsY,SAAe,GAALtY,EACVuY,QAASvY,GAAKoZ,EAAQ,IAEvBzZ,KAAKsC,KAAKiW,YAAYrT,KAKlBsU,EAAAhY,UAAAiB,OAAP,WACCzC,KAAKqZ,iBACLvW,EAAAtB,UAAMiB,OAAMlC,KAAAP,MACZA,KAAKsY,mBAEPkB,GAjD2C1G,EAAAjQ,cAC5B2W,GAAA9W,GAAa,SACb8W,EAAA7W,SAAmB,ExBykFlC/C,EAAQgD,QAAU4W,CwBxhFlB,IAAApI,GAAAlR,EAAA,IxB8hFM,SAAUL,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GyBjmFtD,IAAAoS,GAAA5S,EAAA,GACAkR,EAAAlR,EAAA,GAEAwZ,EAAA,SAAA5W,GAGC,QAAA4W,GAAYpX,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,IzBkmFjB,OyBjmFNgD,GAAKR,MzBimFQQ,EyBzlFf,MAbwCpB,GAAA8X,EAAA5W,GAQhC4W,EAAAlY,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MAEToR,EAAAnM,QAAQjF,KAAKsC,KAAM,MAAOtC,KAAK+C,WAAWrC,QAE5CgZ,GAbwC5G,EAAAjQ,cACzB6W,GAAAhX,GAAa,MzB8mF5B9C,EAAQgD,QAAU8W,GAKZ,SAAU7Z,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G0BroFtD,IAAAoS,GAAA5S,EAAA,GAEAyZ,EAAA,SAAA7W,GAGC,QAAA6W,GAAYrX,EAAmBS,EAA2BuN,GAA1D,GAAAtN,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,I1BuoFjB,O0BxoFmDgD,GAAAsN,QAEzDtN,EAAKR,M1BsoFQQ,E0B9nFf,MAb0CpB,GAAA+X,EAAA7W,GAQlC6W,EAAAnY,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MAETA,KAAKsC,KAAKgO,MAAMtQ,KAAKsQ,OAAStQ,KAAK+C,WAAWrC,OAEhDiZ,GAb0C7G,EAAAjQ,cAC3B8W,GAAAjX,GAAa,Q1BmpF5B9C,EAAQgD,QAAU+W,GAKZ,SAAU9Z,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G2BzqFtD,IAAAoS,GAAA5S,EAAA,GAEA0Z,EAAA,SAAA9W,GAGC,QAAA8W,GAAYtX,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,I3B2qFjB,O2B1qFNgD,GAAKoB,WAAa,UAClBpB,EAAK0B,e3ByqFQ1B,E2BlqFf,MAb2CpB,GAAAgY,EAAA9W,GASnC8W,EAAApY,UAAA+C,OAAP,SAAcC,GACb1B,EAAAtB,UAAM+C,OAAMhE,KAAAP,KAACwE,GACbA,EAAMqV,kBAERD,GAb2C9G,EAAAjO,aAC5B+U,GAAAlX,GAAa,S3BurF5B9C,EAAQgD,QAAUgX,GAKZ,SAAU/Z,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G4B7sFtD,IAAAoS,GAAA5S,EAAA,GAEA4Z,EAAA,SAAAhX,GAIC,QAAAgX,GAAYxX,EAAoBS,GAAhC,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,I5B8sFjB,O4B5sFNgD,GAAKiW,QAAUjW,EAAKV,KAAK4W,YACzBlW,EAAKR,M5B2sFQQ,E4B/rFf,MApByCpB,GAAAkY,EAAAhX,GAWjCgX,EAAAtY,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MACTA,KAAKsC,KAAKyX,UAAY/Z,KAAK+C,WAAWrC,OAGhCoZ,EAAAtY,UAAAiB,OAAP,WACCK,EAAAtB,UAAMiB,OAAMlC,KAAAP,MACZA,KAAKsC,KAAK4W,YAAclZ,KAAKiZ,SAE/Ba,GApByChH,EAAAjQ,cAC1BiX,GAAApX,GAAa,O5B+tF5B9C,EAAQgD,QAAUkX,GAKZ,SAAUja,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G6BrvFtD,IAAAoS,GAAA5S,EAAA,GAEA8Z,EAAA,SAAAlX,GAGC,QAAAkX,GAAmB1X,EAAwBS,GAA3C,GAAAC,GACCF,EAAAvC,KAAAP,KAAoBsC,EAAMS,IAAW/C,I7BwvF/B,O6BzvFYgD,GAAAV,OAGlBU,EAAKoB,WAAa,UAClBpB,EAAK0B,e7BqvFQ1B,E6BruFf,MAvB0CpB,GAAAoY,EAAAlX,GAUlCkX,EAAAxY,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MACTA,KAAKsC,KAAK5B,MAAQV,KAAK+C,WAAWrC,OAG5BsZ,EAAAxY,UAAA+C,OAAP,SAAcC,GACb1B,EAAAtB,UAAM+C,OAAMhE,KAAAP,KAACwE,EAEb,IAAI9D,GAAQV,KAAK+C,WAAWmR,aAAaxT,KACtCA,aAAiB0I,GAAAxG,SACnBlC,EAAMoJ,YAAY9J,KAAKsC,KAAK5B,QAG/BsZ,GAvB0ClH,EAAA3O,cAC3B6V,GAAAtX,GAAa,Q7B2wF5B9C,EAAQgD,QAAUoX,C6BnvFlB,IAAA5Q,GAAAlJ,EAAA,I7ByvFM,SAAUL,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G8BlyFtD,IAAAoS,GAAA5S,EAAA,GAEA+Z,EAAA,SAAAnX,GAGC,QAAAmX,GAAY3X,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,I9BmyFjB,O8BlyFNgD,GAAKR,M9BkyFQQ,E8BvxFf,MAhB4CpB,GAAAqY,EAAAnX,GAQpCmX,EAAAzY,UAAAgB,IAAP,WACCM,EAAAtB,UAAMgB,IAAGjC,KAAAP,MAENA,KAAK+C,WAAWrC,MAClBV,KAAKsC,KAAKgO,MAAMwI,QAAU,GAE1B9Y,KAAKsC,KAAKgO,MAAMwI,QAAU,QAE7BmB,GAhB4CnH,EAAAjQ,cAC7BoX,GAAAvX,GAAa,U9BkzF5B9C,EAAQgD,QAAUqX,GAKZ,SAAUpa,EAAQD,EAASM,GAEjC,YAEA,IAAI0B,GAAa5B,MAAQA,KAAK4B,WAAc,WACxC,GAAIC,GAAgBd,OAAOe,iBACpBC,uBAA2BC,QAAS,SAAUrB,EAAGsB,GAAKtB,EAAEoB,UAAYE,IACvE,SAAUtB,EAAGsB,GAAK,IAAK,GAAIP,KAAKO,GAAOA,EAAER,eAAeC,KAAIf,EAAEe,GAAKO,EAAEP,IACzE,OAAO,UAAUf,EAAGsB,GAEhB,QAASC,KAAOlC,KAAKmC,YAAcxB,EADnCkB,EAAclB,EAAGsB,GAEjBtB,EAAEa,UAAkB,OAANS,EAAalB,OAAOqB,OAAOH,IAAMC,EAAGV,UAAYS,EAAET,UAAW,GAAIU,OAGvFnB,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G+Bx0FtD,IAAAoS,GAAA5S,EAAA,GAEAga,EAAA,SAAApX,GAIC,QAAAoX,GAAY5X,EAAmBS,GAA/B,GAAAC,GACCF,EAAAvC,KAAAP,KAAMsC,EAAMS,IAAW/C,I/Bw0FjB,O+Bv0FNgD,GAAKR,M/Bu0FQQ,E+BtzFf,MAvByCpB,GAAAsY,EAAApX,GASjCoX,EAAA1Y,UAAAgB,IAAP,WAEC,GAAIY,GAAepD,KAAK+C,WAAWmR,aAAaxT,KAEhD,MAAG0C,YAAiBmN,GAAA3N,SAOnB,KAAM,IAAI4V,OAAM,uCANhB,KAAK,GAAInY,GAAI,EAAGA,EAAIL,KAAKsC,KAAKiP,WAAWhO,OAAQlD,IAAI,CACrCL,KAAKsC,KAAKiP,WAAWlR,GACjCkC,UAAYa,IAOnB8W,GAvByCpH,EAAAjQ,cAC1BqX,GAAAxX,GAAa,OACbwX,EAAAvX,SAAmB,E/B81FlC/C,EAAQgD,QAAUsX,C+Bv0FlB,IAAA3J,GAAArQ,EAAA,I/B60FM,SAAUL,EAAQD,EAASM,GAEjC,YAEA,SAASia,GAAS3Z,GACd,IAAK,GAAIkB,KAAKlB,GAAQZ,EAAQ6B,eAAeC,KAAI9B,EAAQ8B,GAAKlB,EAAEkB,IgCj2FpE,QAAA0Y,GAA4BC,EAAqBzK,GAArB,SAAAyK,UAAqB,SAAAzK,SAChD,IAAIpH,GAAe,GAAI8R,GAAA1X,QAAMyX,EAAazK,EAI1C,OAFAyK,GAAYE,UAAY/R,EAEjBA,EAQR,QAAAkI,GAA8BlI,EAAelG,GAAf,SAAAkG,UAAe,SAAAlG,MAAAuN,UACzCrH,YAAiB8R,GAAA1X,QACnB4F,EAAMkI,cAAcpO,GAEbkG,EAAM+R,oBAAqBD,GAAA1X,SAClC4F,EAAM+R,UAAU7J,cAAcpO,GhCi1FhCvB,OAAOC,eAAepB,EAAS,cAAgBc,OAAO,GgC/2FtD,IAAA4Z,GAAApa,EAAA,EACAA,GAAA,GAWAN,EAAAwa,cAaAxa,EAAA8Q,gBASAyJ,EAAAja,EAAA,IACAia,EAAAja,EAAA,IACAia,EAAAja,EAAA,IACAia,EAAAja,EAAA,IACAia,EAAAja,EAAA,IACAia,EAAAja,EAAA,GAEA,IAAA8H,GAAA9H,EAAA,EAICN,GAAAoI,cAHD,IAAAwS,GAAAta,EAAA,EAECN,GAAA4a","file":"bindings.bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bindings\"] = factory();\n\telse\n\t\troot[\"bindings\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bindings\"] = factory();\n\telse\n\t\troot[\"bindings\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 30);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding = (function () {\r\n    function Binding() {\r\n    }\r\n    Object.defineProperty(Binding.prototype, \"scope\", {\r\n        get: function () {\r\n            return this.node.__scope__;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Binding.prototype.run = function () { };\r\n    Binding.prototype.unbind = function () { };\r\n    return Binding;\r\n}());\r\nBinding.id = '';\r\nBinding.priority = 0;\r\nexports.Binding = Binding;\r\nexports.default = Binding;\r\nvar OneWayBinding = (function (_super) {\r\n    __extends(OneWayBinding, _super);\r\n    function OneWayBinding(node, expression) {\r\n        var _this = _super.call(this) || this;\r\n        _this.node = node;\r\n        /** a list of scopes or values this binding is listening to */\r\n        _this.dependencies = [];\r\n        _this.updateDependenciesOnChange = false;\r\n        _this.expression = new Expression_1.default(node, expression, _this.scope);\r\n        _this.updateDependencies();\r\n        return _this;\r\n    }\r\n    /** this is called when one of the dependencies change */\r\n    OneWayBinding.prototype.dependencyChange = function () {\r\n        if (this.updateDependenciesOnChange) {\r\n            this.updateDependencies();\r\n        }\r\n        this.run();\r\n    };\r\n    /** this is called when the expresion changes */\r\n    OneWayBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.expression.run();\r\n        if (this.dependencies.length == 0 && !this.expression.success) {\r\n            this.dependencies.push(this.scope);\r\n            this.bindDependencies();\r\n            this.updateDependenciesOnChange = true; //when dependecies change update them\r\n        }\r\n    };\r\n    /** unbinds the binding from the html node */\r\n    OneWayBinding.prototype.unbind = function () {\r\n        this.unbindDependencies();\r\n    };\r\n    OneWayBinding.prototype.getDependencies = function (refresh) {\r\n        if (refresh === void 0) { refresh = false; }\r\n        if (refresh || this.dependencies == undefined) {\r\n            //get dependencies\r\n            this.dependencies = this.expression.getDependencies().requires;\r\n        }\r\n        return this.dependencies;\r\n    };\r\n    OneWayBinding.prototype.updateDependencies = function () {\r\n        this.unbindDependencies();\r\n        this.getDependencies(true);\r\n        this.bindDependencies();\r\n    };\r\n    OneWayBinding.prototype.bindDependencies = function () {\r\n        for (var i = 0; i < this.dependencies.length; i++) {\r\n            this.dependencies[i].on('change', this.dependencyChange.bind(this));\r\n        }\r\n    };\r\n    OneWayBinding.prototype.unbindDependencies = function () {\r\n        for (var i = 0; i < this.dependencies.length; i++) {\r\n            this.dependencies[i].off('change', this.dependencyChange.bind(this));\r\n        }\r\n    };\r\n    return OneWayBinding;\r\n}(Binding));\r\nexports.OneWayBinding = OneWayBinding;\r\nvar TwoWayBinding = (function (_super) {\r\n    __extends(TwoWayBinding, _super);\r\n    function TwoWayBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.domEvents = []; //add events to this list to bind to them\r\n        _this.dontUpdate = false;\r\n        //update the node\r\n        _this.run();\r\n        _this.bindEvents();\r\n        return _this;\r\n    }\r\n    /** this is called when the dom changes */\r\n    TwoWayBinding.prototype.change = function (event) {\r\n        this.dontUpdate = true; //dont update (call this.run) the node\r\n    };\r\n    TwoWayBinding.prototype.dependencyChange = function () {\r\n        if (!this.dontUpdate) {\r\n            _super.prototype.dependencyChange.call(this);\r\n        }\r\n        this.dontUpdate = false;\r\n    };\r\n    TwoWayBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.unbindEvents();\r\n    };\r\n    TwoWayBinding.prototype.updateEvents = function () {\r\n        this.unbindEvents();\r\n        this.bindEvents();\r\n    };\r\n    TwoWayBinding.prototype.bindEvents = function () {\r\n        for (var i = 0; i < this.domEvents.length; i++) {\r\n            this.node.addEventListener(this.domEvents[i], this.change.bind(this));\r\n        }\r\n    };\r\n    TwoWayBinding.prototype.unbindEvents = function () {\r\n        for (var i = 0; i < this.domEvents.length; i++) {\r\n            this.node.removeEventListener(this.domEvents[i], this.change.bind(this));\r\n        }\r\n    };\r\n    return TwoWayBinding;\r\n}(OneWayBinding));\r\nexports.TwoWayBinding = TwoWayBinding;\r\nvar EventBinding = (function (_super) {\r\n    __extends(EventBinding, _super);\r\n    function EventBinding(node, expression) {\r\n        var _this = _super.call(this) || this;\r\n        _this.node = node;\r\n        _this.domEvents = [];\r\n        _this.expression = new Expression_1.default(node, expression, _this.scope);\r\n        _this.bindEvents();\r\n        return _this;\r\n    }\r\n    EventBinding.prototype.change = function (event) {\r\n        this.expression.run();\r\n        if (this.expression.value instanceof Function && this.scope) {\r\n            //run it on the scope\r\n            this.expression.value.call(this.scope.object, event);\r\n        }\r\n    };\r\n    EventBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.unbindEvents();\r\n    };\r\n    EventBinding.prototype.updateEvents = function () {\r\n        this.unbindEvents();\r\n        this.bindEvents();\r\n    };\r\n    EventBinding.prototype.bindEvents = function () {\r\n        for (var i = 0; i < this.domEvents.length; i++) {\r\n            this.node.addEventListener(this.domEvents[i], this.change.bind(this));\r\n        }\r\n    };\r\n    EventBinding.prototype.unbindEvents = function () {\r\n        for (var i = 0; i < this.domEvents.length; i++) {\r\n            this.node.removeEventListener(this.domEvents[i], this.change.bind(this));\r\n        }\r\n    };\r\n    return EventBinding;\r\n}(Binding));\r\nexports.EventBinding = EventBinding;\r\nvar InlineBinding = (function (_super) {\r\n    __extends(InlineBinding, _super);\r\n    function InlineBinding(node) {\r\n        var _this = _super.call(this) || this;\r\n        _this.node = node;\r\n        _this.dependencies = []; //a list of scopes and values this bindings uses\r\n        _this.updateDependenciesOnChange = false;\r\n        _this.expression = new Expression_1.default(node, node.nodeValue, _this.scope);\r\n        _this.updateDependencies();\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(InlineBinding.prototype, \"scope\", {\r\n        get: function () {\r\n            return this.node.__scope__;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InlineBinding.prototype.dependencyChange = function () {\r\n        if (this.updateDependenciesOnChange) {\r\n            this.updateDependencies();\r\n        }\r\n        this.run();\r\n    };\r\n    InlineBinding.prototype.run = function () {\r\n        this.expression.run();\r\n        this.node.nodeValue = this.expression.value;\r\n        if (this.dependencies.length == 0 && !this.expression.success) {\r\n            this.dependencies.push(this.scope);\r\n            this.bindDependencies();\r\n            this.updateDependenciesOnChange = true; //when dependecies change update them\r\n        }\r\n    };\r\n    InlineBinding.prototype.unbind = function () {\r\n        this.unbindDependencies();\r\n    };\r\n    InlineBinding.prototype.getDependencies = function (refresh) {\r\n        if (refresh === void 0) { refresh = false; }\r\n        if (refresh || this.dependencies == undefined) {\r\n            //get dependencies\r\n            this.dependencies = this.expression.getDependencies().requires;\r\n        }\r\n        return this.dependencies;\r\n    };\r\n    InlineBinding.prototype.updateDependencies = function () {\r\n        this.unbindDependencies();\r\n        this.getDependencies(true);\r\n        this.bindDependencies();\r\n    };\r\n    InlineBinding.prototype.bindDependencies = function () {\r\n        for (var i = 0; i < this.dependencies.length; i++) {\r\n            this.dependencies[i].on('change', this.dependencyChange.bind(this));\r\n        }\r\n    };\r\n    InlineBinding.prototype.unbindDependencies = function () {\r\n        for (var i = 0; i < this.dependencies.length; i++) {\r\n            this.dependencies[i].off('change', this.dependencyChange.bind(this));\r\n        }\r\n    };\r\n    return InlineBinding;\r\n}(Binding));\r\nexports.InlineBinding = InlineBinding;\r\nvar Expression_1 = __webpack_require__(7);\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction setAttr(el, attr, value) {\r\n    if (value != null)\r\n        el.setAttribute(attr, value);\r\n    else\r\n        el.removeAttribute(attr);\r\n}\r\nexports.setAttr = setAttr;\r\nfunction loadJSON(url, cb, defaultObject) {\r\n    var func = loadJSON;\r\n    func.callbacks = func.callbacks || {};\r\n    func.cache = func.cache || {};\r\n    func.loading = func.loading || {};\r\n    if (!func.cache[url]) {\r\n        func.cache[url] = defaultObject || {};\r\n        this.getJSON(url, 'GET', function (json) {\r\n            func.cache[url].__proto__ = json.__proto__;\r\n            if (json instanceof Array) {\r\n                for (var i = 0; i < json.length; i++) {\r\n                    func.cache[url].push(json[i]);\r\n                }\r\n                ;\r\n            }\r\n            else {\r\n                for (var i in json) {\r\n                    if (json[i] != null)\r\n                        func.cache[url][i] = json[i];\r\n                }\r\n            }\r\n            if (cb)\r\n                cb(json);\r\n            if (func.callbacks[url]) {\r\n                for (var i = 0; i < func.callbacks[url].length; i++) {\r\n                    func.callbacks[url][i](json);\r\n                }\r\n                ;\r\n            }\r\n        }, function (err) {\r\n            if (cb)\r\n                cb(false);\r\n            if (func.callbacks[url]) {\r\n                for (var i = 0; i < func.callbacks[url].length; i++) {\r\n                    func.callbacks[url][i](false);\r\n                }\r\n                ;\r\n            }\r\n        });\r\n    }\r\n    else if (func.loading[url]) {\r\n        func.callbacks[url] = func.callbacks[url] || [];\r\n        func.callbacks[url].push(cb);\r\n    }\r\n    else {\r\n        if (cb)\r\n            cb(func.cache[url]);\r\n    }\r\n    return func.cache[url];\r\n}\r\nexports.loadJSON = loadJSON;\r\nfunction getJSON(url, mode, resolve, reject) {\r\n    if (mode === void 0) { mode = 'GET'; }\r\n    var xhttp = new XMLHttpRequest();\r\n    xhttp.onloadend = function () {\r\n        var json;\r\n        try {\r\n            json = JSON.parse(xhttp.responseText);\r\n            resolve && resolve(json);\r\n        }\r\n        catch (e) {\r\n            reject && reject(e);\r\n        }\r\n    };\r\n    xhttp.open(mode.toUpperCase(), url, true);\r\n    xhttp.send();\r\n}\r\nexports.getJSON = getJSON;\r\nfunction extend(obj, obj2) {\r\n    obj = obj || {};\r\n    obj2 = obj2 || {};\r\n    for (var i in obj2) {\r\n        obj[i] = obj2[i];\r\n    }\r\n    return obj;\r\n}\r\nexports.extend = extend;\r\nfunction noop() { }\r\nexports.noop = noop;\r\nfunction clone(obj) {\r\n    if (typeof obj == 'object') {\r\n        return JSON.parse(JSON.stringify(obj));\r\n    }\r\n}\r\nexports.clone = clone;\r\nfunction extendNew(o1, o2, o3, o4) {\r\n    if (o1 === void 0) { o1 = {}; }\r\n    if (o2 === void 0) { o2 = {}; }\r\n    if (o3 === void 0) { o3 = {}; }\r\n    if (o4 === void 0) { o4 = {}; }\r\n    var o = {};\r\n    for (var i in arguments) {\r\n        this.extend(o, arguments[i]);\r\n    }\r\n    return o;\r\n}\r\nexports.extendNew = extendNew;\r\nfunction duplicateObject(obj2, count) {\r\n    if (count === void 0) { count = 20; }\r\n    if (obj2 instanceof Object && obj2 !== null) {\r\n        // count = (count !== undefined)? count : 20;\r\n        var obj = {};\r\n        if (count > 0) {\r\n            // see if its an array\r\n            if (obj2.hasOwnProperty('length')) {\r\n                obj = new Array(0);\r\n                for (var i = 0; i < obj2.length; i++) {\r\n                    if (typeof obj2[i] !== 'object') {\r\n                        obj[i] = obj2[i];\r\n                    }\r\n                    else {\r\n                        obj[i] = this.duplicateObject(obj2[i], count - 1);\r\n                    }\r\n                }\r\n                ;\r\n            }\r\n            else {\r\n                for (var k in obj2) {\r\n                    if (!(obj2[k] instanceof Object)) {\r\n                        obj[k] = obj2[k];\r\n                    }\r\n                    else {\r\n                        obj[k] = this.duplicateObject(obj2[k], count - 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n    else {\r\n        return obj2;\r\n    }\r\n}\r\nexports.duplicateObject = duplicateObject;\r\nfunction getBinding(type) {\r\n    var binding;\r\n    for (var i in bindingTypes) {\r\n        if (bindingTypes[i].id == type) {\r\n            return bindingTypes[i];\r\n        }\r\n    }\r\n    return binding;\r\n}\r\nexports.getBinding = getBinding;\r\nfunction createBinding(type, node, expression) {\r\n    if (!(type instanceof Array)) {\r\n        type = [type];\r\n    }\r\n    var binding;\r\n    var id = type[0];\r\n    type.splice(0, 1); //remove first entry\r\n    var data = type.join('-');\r\n    for (var i in bindingTypes) {\r\n        if (bindingTypes[i].id == id) {\r\n            binding = new bindingTypes[i](node, expression, data);\r\n            break;\r\n        }\r\n    }\r\n    return binding;\r\n}\r\nexports.createBinding = createBinding;\r\nvar bindingTypes = __webpack_require__(8);\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventEmiter_1 = __webpack_require__(4);\r\n__webpack_require__(5);\r\nvar Scope = (function (_super) {\r\n    __extends(Scope, _super);\r\n    function Scope(key, object, modal, parent) {\r\n        if (parent === void 0) { parent = undefined; }\r\n        var _this = _super.call(this) || this;\r\n        _this.key = key;\r\n        _this.object = object;\r\n        _this.modal = modal;\r\n        _this.parent = parent;\r\n        _this.values = (object instanceof Array) ? [] : {};\r\n        _this.setKeys(_this.object);\r\n        //watch for changes\r\n        _this.observer = _this.objectChange.bind(_this);\r\n        Object.observe(_this.object, _this.observer);\r\n        return _this;\r\n    }\r\n    Scope.prototype.dispose = function () {\r\n        Object.unobserve(this.object, this.observer);\r\n    };\r\n    Scope.prototype.getKey = function (value) {\r\n        for (var i in this.values) {\r\n            if (this.values[i].value == value) {\r\n                return i;\r\n            }\r\n        }\r\n        ;\r\n    };\r\n    Scope.prototype.setKey = function (key, value, dontFire) {\r\n        if (dontFire === void 0) { dontFire = false; }\r\n        if (this.values[key] == undefined) {\r\n            //add it\r\n            if (typeof value == 'object') {\r\n                this.values[key] = new Scope(key, value, this.modal, this);\r\n            }\r\n            else {\r\n                this.values[key] = new Value_1.default(key, value, this);\r\n            }\r\n        }\r\n        if (this.values[key] instanceof Value_1.default) {\r\n            this.values[key].setValue(value);\r\n        }\r\n        else if (this.values[key] instanceof Scope) {\r\n            this.values[key].setKeys(value);\r\n        }\r\n        if (!dontFire)\r\n            this.update();\r\n    };\r\n    Scope.prototype.setKeys = function (keys, dontFire) {\r\n        if (dontFire === void 0) { dontFire = false; }\r\n        for (var i in keys) {\r\n            this.setKey(i, keys[i], true);\r\n        }\r\n        ;\r\n        if (!dontFire)\r\n            this.update();\r\n    };\r\n    Scope.prototype.removeKey = function (key, dontFire) {\r\n        if (dontFire === void 0) { dontFire = false; }\r\n        this.values[key].dispose();\r\n        delete this.values[key];\r\n        if (!dontFire)\r\n            this.emit('change', this);\r\n    };\r\n    Scope.prototype.updateKey = function (key, value) {\r\n        this.object[key] = value;\r\n    };\r\n    Scope.prototype.updateKeys = function (keys) {\r\n        for (var i in keys) {\r\n            this.updateKey(i, keys[i]);\r\n        }\r\n    };\r\n    Scope.prototype.update = function () {\r\n        this.emit('change', this.object);\r\n    };\r\n    Scope.prototype.objectChange = function (data) {\r\n        for (var i = 0; i < data.length; i++) {\r\n            if (data[i].name == '_bindings')\r\n                continue;\r\n            switch (data[i].type) {\r\n                case 'add':\r\n                    this.setKey(data[i].name, data[i].object[data[i].name], true);\r\n                    this.update();\r\n                    break;\r\n                case 'update':\r\n                    this.setKey(data[i].name, data[i].object[data[i].name], true);\r\n                    break;\r\n                case 'delete':\r\n                    this.removeKey(data[i].name, true);\r\n                    this.update();\r\n                    break;\r\n            }\r\n        }\r\n        // this.update(); dont update at end, only update if a key is delete/added\r\n    };\r\n    Scope.prototype.emit = function (event, data, direction) {\r\n        if (data === void 0) { data = undefined; }\r\n        if (direction === void 0) { direction = ''; }\r\n        _super.prototype.emit.call(this, event, data);\r\n        switch (direction) {\r\n            case 'down':\r\n                for (var i in this.values) {\r\n                    if (this.values[i] instanceof Scope) {\r\n                        this.values[i].emit(event, data, direction);\r\n                    }\r\n                    else {\r\n                        this.values[i].emit(event, data);\r\n                    }\r\n                }\r\n                break;\r\n            case 'up':\r\n                if (this.parent) {\r\n                    this.parent.emit(event, data, direction);\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    return Scope;\r\n}(EventEmiter_1.default));\r\nexports.default = Scope;\r\nvar Value_1 = __webpack_require__(3);\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventEmiter_1 = __webpack_require__(4);\r\nvar Value = (function (_super) {\r\n    __extends(Value, _super);\r\n    function Value(key, value, parent) {\r\n        if (key === void 0) { key = ''; }\r\n        var _this = _super.call(this) || this;\r\n        _this.key = key;\r\n        _this.value = value;\r\n        _this.parent = parent;\r\n        return _this;\r\n    }\r\n    Value.prototype.dispose = function () {\r\n    };\r\n    Value.prototype.setValue = function (value) {\r\n        this.value = value;\r\n        this.update();\r\n        return this.value;\r\n    };\r\n    Value.prototype.updateValue = function (value) {\r\n        this.parent.updateKey(this.key, value);\r\n    };\r\n    /**\r\n     * fires the change evnet\r\n     */\r\n    Value.prototype.update = function () {\r\n        this.emit('change', this.value);\r\n    };\r\n    return Value;\r\n}(EventEmiter_1.default));\r\nexports.default = Value;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventEmiter = (function () {\r\n    /**\r\n        @constructs EventEmiter\r\n    */\r\n    function EventEmiter() {\r\n        /**\r\n            an array of event listeners\\\r\n            @member\r\n            @private\r\n            @type {Object[]}\r\n        */\r\n        this.events = {};\r\n    }\r\n    /**\r\n        binds a listener to an event\r\n        @public\r\n        @param {string} event\r\n        @param {function} listener\r\n        @param {Object} [ctx] - the object to run the call back on\r\n    */\r\n    EventEmiter.prototype.on = function (event, fn, ctx) {\r\n        if (ctx === void 0) { ctx = undefined; }\r\n        if (!this.events[event]) {\r\n            this.events[event] = [];\r\n        }\r\n        if (ctx)\r\n            fn = fn.bind(ctx);\r\n        this.events[event].push(fn);\r\n    };\r\n    /**\r\n        unbinds a listener from an event\r\n        @public\r\n        @param {string} event\r\n        @param {function} listener\r\n    */\r\n    EventEmiter.prototype.off = function (event, fn) {\r\n        if (!this.events[event]) {\r\n            this.events[event] = [];\r\n        }\r\n        if (this.events[event].indexOf(fn) !== -1) {\r\n            this.events[event].splice(this.events[event].indexOf(fn), 1);\r\n        }\r\n    };\r\n    /**\r\n        binds a listener that is only called once to an event\r\n        @public\r\n        @param {string} event\r\n        @param {function} listener\r\n        @param {Object} [ctx] - the object to run the call back on\r\n    */\r\n    EventEmiter.prototype.once = function (event, fn, ctx) {\r\n        if (ctx === void 0) { ctx = undefined; }\r\n        this.on(event, function (event, _this) {\r\n            if (fn)\r\n                fn();\r\n            this.off(event, _this);\r\n        }.bind(this), ctx);\r\n    };\r\n    /**\r\n        fires an event\r\n        @public\r\n        @param {string} event\r\n        @param {*} [data]\r\n    */\r\n    EventEmiter.prototype.emit = function (event, data) {\r\n        if (data === void 0) { data = undefined; }\r\n        if (!this.events[event]) {\r\n            this.events[event] = [];\r\n        }\r\n        for (var i = 0; i < this.events[event].length; i++) {\r\n            this.events[event][i](data);\r\n        }\r\n        ;\r\n    };\r\n    return EventEmiter;\r\n}());\r\nexports.default = EventEmiter;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n/*!\r\n * Object.observe polyfill - v0.2.4\r\n * by Massimo Artizzu (MaxArt2501)\r\n *\r\n * https://github.com/MaxArt2501/object-observe\r\n *\r\n * Licensed under the MIT License\r\n * See LICENSE for details\r\n */\r\n\r\n// Some type definitions\r\n/**\r\n * This represents the data relative to an observed object\r\n * @typedef  {Object}                     ObjectData\r\n * @property {Map<Handler, HandlerData>}  handlers\r\n * @property {String[]}                   properties\r\n * @property {*[]}                        values\r\n * @property {Descriptor[]}               descriptors\r\n * @property {Notifier}                   notifier\r\n * @property {Boolean}                    frozen\r\n * @property {Boolean}                    extensible\r\n * @property {Object}                     proto\r\n */\r\n/**\r\n * Function definition of a handler\r\n * @callback Handler\r\n * @param {ChangeRecord[]}                changes\r\n*/\r\n/**\r\n * This represents the data relative to an observed object and one of its\r\n * handlers\r\n * @typedef  {Object}                     HandlerData\r\n * @property {Map<Object, ObservedData>}  observed\r\n * @property {ChangeRecord[]}             changeRecords\r\n */\r\n/**\r\n * @typedef  {Object}                     ObservedData\r\n * @property {String[]}                   acceptList\r\n * @property {ObjectData}                 data\r\n*/\r\n/**\r\n * Type definition for a change. Any other property can be added using\r\n * the notify() or performChange() methods of the notifier.\r\n * @typedef  {Object}                     ChangeRecord\r\n * @property {String}                     type\r\n * @property {Object}                     object\r\n * @property {String}                     [name]\r\n * @property {*}                          [oldValue]\r\n * @property {Number}                     [index]\r\n */\r\n/**\r\n * Type definition for a notifier (what Object.getNotifier returns)\r\n * @typedef  {Object}                     Notifier\r\n * @property {Function}                   notify\r\n * @property {Function}                   performChange\r\n */\r\n/**\r\n * Function called with Notifier.performChange. It may optionally return a\r\n * ChangeRecord that gets automatically notified, but `type` and `object`\r\n * properties are overridden.\r\n * @callback Performer\r\n * @returns {ChangeRecord|undefined}\r\n */\r\n\r\nObject.observe || (function(O, A, root, _undefined) {\r\n    \"use strict\";\r\n\r\n        /**\r\n         * Relates observed objects and their data\r\n         * @type {Map<Object, ObjectData}\r\n         */\r\n    var observed,\r\n        /**\r\n         * List of handlers and their data\r\n         * @type {Map<Handler, Map<Object, HandlerData>>}\r\n         */\r\n        handlers,\r\n\r\n        defaultAcceptList = [ \"add\", \"update\", \"delete\", \"reconfigure\", \"setPrototype\", \"preventExtensions\" ];\r\n\r\n    // Functions for internal usage\r\n\r\n        /**\r\n         * Checks if the argument is an Array object. Polyfills Array.isArray.\r\n         * @function isArray\r\n         * @param {?*} object\r\n         * @returns {Boolean}\r\n         */\r\n    var isArray = A.isArray || (function(toString) {\r\n            return function (object) { return toString.call(object) === \"[object Array]\"; };\r\n        })(O.prototype.toString),\r\n\r\n        /**\r\n         * Returns the index of an item in a collection, or -1 if not found.\r\n         * Uses the generic Array.indexOf or Array.prototype.indexOf if available.\r\n         * @function inArray\r\n         * @param {Array} array\r\n         * @param {*} pivot           Item to look for\r\n         * @param {Number} [start=0]  Index to start from\r\n         * @returns {Number}\r\n         */\r\n        inArray = A.prototype.indexOf ? A.indexOf || function(array, pivot, start) {\r\n            return A.prototype.indexOf.call(array, pivot, start);\r\n        } : function(array, pivot, start) {\r\n            for (var i = start || 0; i < array.length; i++)\r\n                if (array[i] === pivot)\r\n                    return i;\r\n            return -1;\r\n        },\r\n\r\n        /**\r\n         * Returns an instance of Map, or a Map-like object is Map is not\r\n         * supported or doesn't support forEach()\r\n         * @function createMap\r\n         * @returns {Map}\r\n         */\r\n        createMap = root.Map === _undefined || !Map.prototype.forEach ? function() {\r\n            // Lightweight shim of Map. Lacks clear(), entries(), keys() and\r\n            // values() (the last 3 not supported by IE11, so can't use them),\r\n            // it doesn't handle the constructor's argument (like IE11) and of\r\n            // course it doesn't support for...of.\r\n            // Chrome 31-35 and Firefox 13-24 have a basic support of Map, but\r\n            // they lack forEach(), so their native implementation is bad for\r\n            // this polyfill. (Chrome 36+ supports Object.observe.)\r\n            var keys = [], values = [];\r\n\r\n            return {\r\n                size: 0,\r\n                has: function(key) { return inArray(keys, key) > -1; },\r\n                get: function(key) { return values[inArray(keys, key)]; },\r\n                set: function(key, value) {\r\n                    var i = inArray(keys, key);\r\n                    if (i === -1) {\r\n                        keys.push(key);\r\n                        values.push(value);\r\n                        this.size++;\r\n                    } else values[i] = value;\r\n                },\r\n                \"delete\": function(key) {\r\n                    var i = inArray(keys, key);\r\n                    if (i > -1) {\r\n                        keys.splice(i, 1);\r\n                        values.splice(i, 1);\r\n                        this.size--;\r\n                    }\r\n                },\r\n                forEach: function(callback/*, thisObj*/) {\r\n                    for (var i = 0; i < keys.length; i++)\r\n                        callback.call(arguments[1], values[i], keys[i], this);\r\n                }\r\n            };\r\n        } : function() { return new Map(); },\r\n\r\n        /**\r\n         * Simple shim for Object.getOwnPropertyNames when is not available\r\n         * Misses checks on object, don't use as a replacement of Object.keys/getOwnPropertyNames\r\n         * @function getProps\r\n         * @param {Object} object\r\n         * @returns {String[]}\r\n         */\r\n        getProps = O.getOwnPropertyNames ? (function() {\r\n            var func = O.getOwnPropertyNames;\r\n            try {\r\n                arguments.callee;\r\n            } catch (e) {\r\n                // Strict mode is supported\r\n\r\n                // In strict mode, we can't access to \"arguments\", \"caller\" and\r\n                // \"callee\" properties of functions. Object.getOwnPropertyNames\r\n                // returns [ \"prototype\", \"length\", \"name\" ] in Firefox; it returns\r\n                // \"caller\" and \"arguments\" too in Chrome and in Internet\r\n                // Explorer, so those values must be filtered.\r\n                var avoid = (func(inArray).join(\" \") + \" \").replace(/prototype |length |name /g, \"\").slice(0, -1).split(\" \");\r\n                if (avoid.length) func = function(object) {\r\n                    var props = O.getOwnPropertyNames(object);\r\n                    if (typeof object === \"function\")\r\n                        for (var i = 0, j; i < avoid.length;)\r\n                            if ((j = inArray(props, avoid[i++])) > -1)\r\n                                props.splice(j, 1);\r\n\r\n                    return props;\r\n                };\r\n            }\r\n            return func;\r\n        })() : function(object) {\r\n            // Poor-mouth version with for...in (IE8-)\r\n            var props = [], prop, hop;\r\n            if (\"hasOwnProperty\" in object) {\r\n                for (prop in object)\r\n                    if (object.hasOwnProperty(prop))\r\n                        props.push(prop);\r\n            } else {\r\n                hop = O.hasOwnProperty;\r\n                for (prop in object)\r\n                    if (hop.call(object, prop))\r\n                        props.push(prop);\r\n            }\r\n\r\n            // Inserting a common non-enumerable property of arrays\r\n            if (isArray(object))\r\n                props.push(\"length\");\r\n\r\n            return props;\r\n        },\r\n\r\n        /**\r\n         * Return the prototype of the object... if defined.\r\n         * @function getPrototype\r\n         * @param {Object} object\r\n         * @returns {Object}\r\n         */\r\n        getPrototype = O.getPrototypeOf,\r\n\r\n        /**\r\n         * Return the descriptor of the object... if defined.\r\n         * IE8 supports a (useless) Object.getOwnPropertyDescriptor for DOM\r\n         * nodes only, so defineProperties is checked instead.\r\n         * @function getDescriptor\r\n         * @param {Object} object\r\n         * @param {String} property\r\n         * @returns {Descriptor}\r\n         */\r\n        getDescriptor = O.defineProperties && O.getOwnPropertyDescriptor,\r\n\r\n        /**\r\n         * Sets up the next check and delivering iteration, using\r\n         * requestAnimationFrame or a (close) polyfill.\r\n         * @function nextFrame\r\n         * @param {function} func\r\n         * @returns {number}\r\n         */\r\n        nextFrame = root.requestAnimationFrame || root.webkitRequestAnimationFrame || (function() {\r\n            var initial = +new Date,\r\n                last = initial;\r\n            return function(func) {\r\n                return setTimeout(function() {\r\n                    func((last = +new Date) - initial);\r\n                }, 17);\r\n            };\r\n        })(),\r\n\r\n        /**\r\n         * Sets up the observation of an object\r\n         * @function doObserve\r\n         * @param {Object} object\r\n         * @param {Handler} handler\r\n         * @param {String[]} [acceptList]\r\n         */\r\n        doObserve = function(object, handler, acceptList) {\r\n            var data = observed.get(object);\r\n\r\n            if (data) {\r\n                performPropertyChecks(data, object);\r\n                setHandler(object, data, handler, acceptList);\r\n            } else {\r\n                data = createObjectData(object);\r\n                setHandler(object, data, handler, acceptList);\r\n\r\n                if (observed.size === 1)\r\n                    // Let the observation begin!\r\n                    nextFrame(runGlobalLoop);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates the initial data for an observed object\r\n         * @function createObjectData\r\n         * @param {Object} object\r\n         */\r\n        createObjectData = function(object, data) {\r\n            var props = getProps(object),\r\n                values = [], descs, i = 0,\r\n                data = {\r\n                    handlers: createMap(),\r\n                    frozen: O.isFrozen ? O.isFrozen(object) : false,\r\n                    extensible: O.isExtensible ? O.isExtensible(object) : true,\r\n                    proto: getPrototype && getPrototype(object),\r\n                    properties: props,\r\n                    values: values,\r\n                    notifier: retrieveNotifier(object, data)\r\n                };\r\n\r\n            if (getDescriptor) {\r\n                descs = data.descriptors = [];\r\n                while (i < props.length) {\r\n                    descs[i] = getDescriptor(object, props[i]);\r\n                    values[i] = object[props[i++]];\r\n                }\r\n            } else while (i < props.length)\r\n                values[i] = object[props[i++]];\r\n\r\n            observed.set(object, data);\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Performs basic property value change checks on an observed object\r\n         * @function performPropertyChecks\r\n         * @param {ObjectData} data\r\n         * @param {Object} object\r\n         * @param {String} [except]  Doesn't deliver the changes to the\r\n         *                           handlers that accept this type\r\n         */\r\n        performPropertyChecks = (function() {\r\n            var updateCheck = getDescriptor ? function(object, data, idx, except, descr) {\r\n                var key = data.properties[idx],\r\n                    value = object[key],\r\n                    ovalue = data.values[idx],\r\n                    odesc = data.descriptors[idx];\r\n\r\n                if (\"value\" in descr && (ovalue === value\r\n                        ? ovalue === 0 && 1/ovalue !== 1/value\r\n                        : ovalue === ovalue || value === value)) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"update\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.values[idx] = value;\r\n                }\r\n                if (odesc.configurable && (!descr.configurable\r\n                        || descr.writable !== odesc.writable\r\n                        || descr.enumerable !== odesc.enumerable\r\n                        || descr.get !== odesc.get\r\n                        || descr.set !== odesc.set)) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"reconfigure\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.descriptors[idx] = descr;\r\n                }\r\n            } : function(object, data, idx, except) {\r\n                var key = data.properties[idx],\r\n                    value = object[key],\r\n                    ovalue = data.values[idx];\r\n\r\n                if (ovalue === value ? ovalue === 0 && 1/ovalue !== 1/value\r\n                        : ovalue === ovalue || value === value) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"update\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.values[idx] = value;\r\n                }\r\n            };\r\n\r\n            // Checks if some property has been deleted\r\n            var deletionCheck = getDescriptor ? function(object, props, proplen, data, except) {\r\n                var i = props.length, descr;\r\n                while (proplen && i--) {\r\n                    if (props[i] !== null) {\r\n                        descr = getDescriptor(object, props[i]);\r\n                        proplen--;\r\n\r\n                        // If there's no descriptor, the property has really\r\n                        // been deleted; otherwise, it's been reconfigured so\r\n                        // that's not enumerable anymore\r\n                        if (descr) updateCheck(object, data, i, except, descr);\r\n                        else {\r\n                            addChangeRecord(object, data, {\r\n                                name: props[i],\r\n                                type: \"delete\",\r\n                                object: object,\r\n                                oldValue: data.values[i]\r\n                            }, except);\r\n                            data.properties.splice(i, 1);\r\n                            data.values.splice(i, 1);\r\n                            data.descriptors.splice(i, 1);\r\n                        }\r\n                    }\r\n                }\r\n            } : function(object, props, proplen, data, except) {\r\n                var i = props.length;\r\n                while (proplen && i--)\r\n                    if (props[i] !== null) {\r\n                        addChangeRecord(object, data, {\r\n                            name: props[i],\r\n                            type: \"delete\",\r\n                            object: object,\r\n                            oldValue: data.values[i]\r\n                        }, except);\r\n                        data.properties.splice(i, 1);\r\n                        data.values.splice(i, 1);\r\n                        proplen--;\r\n                    }\r\n            };\r\n\r\n            return function(data, object, except) {\r\n                if (!data.handlers.size || data.frozen) return;\r\n\r\n                var props, proplen, keys,\r\n                    values = data.values,\r\n                    descs = data.descriptors,\r\n                    i = 0, idx,\r\n                    key, value,\r\n                    proto, descr;\r\n\r\n                // If the object isn't extensible, we don't need to check for new\r\n                // or deleted properties\r\n                if (data.extensible) {\r\n\r\n                    props = data.properties.slice();\r\n                    proplen = props.length;\r\n                    keys = getProps(object);\r\n\r\n                    if (descs) {\r\n                        while (i < keys.length) {\r\n                            key = keys[i++];\r\n                            idx = inArray(props, key);\r\n                            descr = getDescriptor(object, key);\r\n\r\n                            if (idx === -1) {\r\n                                addChangeRecord(object, data, {\r\n                                    name: key,\r\n                                    type: \"add\",\r\n                                    object: object\r\n                                }, except);\r\n                                data.properties.push(key);\r\n                                values.push(object[key]);\r\n                                descs.push(descr);\r\n                            } else {\r\n                                props[idx] = null;\r\n                                proplen--;\r\n                                updateCheck(object, data, idx, except, descr);\r\n                            }\r\n                        }\r\n                        deletionCheck(object, props, proplen, data, except);\r\n\r\n                        if (!O.isExtensible(object)) {\r\n                            data.extensible = false;\r\n                            addChangeRecord(object, data, {\r\n                                type: \"preventExtensions\",\r\n                                object: object\r\n                            }, except);\r\n\r\n                            data.frozen = O.isFrozen(object);\r\n                        }\r\n                    } else {\r\n                        while (i < keys.length) {\r\n                            key = keys[i++];\r\n                            idx = inArray(props, key);\r\n                            value = object[key];\r\n\r\n                            if (idx === -1) {\r\n                                addChangeRecord(object, data, {\r\n                                    name: key,\r\n                                    type: \"add\",\r\n                                    object: object\r\n                                }, except);\r\n                                data.properties.push(key);\r\n                                values.push(value);\r\n                            } else {\r\n                                props[idx] = null;\r\n                                proplen--;\r\n                                updateCheck(object, data, idx, except);\r\n                            }\r\n                        }\r\n                        deletionCheck(object, props, proplen, data, except);\r\n                    }\r\n\r\n                } else if (!data.frozen) {\r\n\r\n                    // If the object is not extensible, but not frozen, we just have\r\n                    // to check for value changes\r\n                    for (; i < props.length; i++) {\r\n                        key = props[i];\r\n                        updateCheck(object, data, i, except, getDescriptor(object, key));\r\n                    }\r\n\r\n                    if (O.isFrozen(object))\r\n                        data.frozen = true;\r\n                }\r\n\r\n                if (getPrototype) {\r\n                    proto = getPrototype(object);\r\n                    if (proto !== data.proto) {\r\n                        addChangeRecord(object, data, {\r\n                            type: \"setPrototype\",\r\n                            name: \"__proto__\",\r\n                            object: object,\r\n                            oldValue: data.proto\r\n                        });\r\n                        data.proto = proto;\r\n                    }\r\n                }\r\n            };\r\n        })(),\r\n\r\n        /**\r\n         * Sets up the main loop for object observation and change notification\r\n         * It stops if no object is observed.\r\n         * @function runGlobalLoop\r\n         */\r\n        runGlobalLoop = function() {\r\n            if (observed.size) {\r\n                observed.forEach(performPropertyChecks);\r\n                handlers.forEach(deliverHandlerRecords);\r\n                nextFrame(runGlobalLoop);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Deliver the change records relative to a certain handler, and resets\r\n         * the record list.\r\n         * @param {HandlerData} hdata\r\n         * @param {Handler} handler\r\n         */\r\n        deliverHandlerRecords = function(hdata, handler) {\r\n            var records = hdata.changeRecords;\r\n            if (records.length) {\r\n                hdata.changeRecords = [];\r\n                handler(records);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns the notifier for an object - whether it's observed or not\r\n         * @function retrieveNotifier\r\n         * @param {Object} object\r\n         * @param {ObjectData} [data]\r\n         * @returns {Notifier}\r\n         */\r\n        retrieveNotifier = function(object, data) {\r\n            if (arguments.length < 2)\r\n                data = observed.get(object);\r\n\r\n            /** @type {Notifier} */\r\n            return data && data.notifier || {\r\n                /**\r\n                 * @method notify\r\n                 * @see http://arv.github.io/ecmascript-object-observe/#notifierprototype._notify\r\n                 * @memberof Notifier\r\n                 * @param {ChangeRecord} changeRecord\r\n                 */\r\n                notify: function(changeRecord) {\r\n                    changeRecord.type; // Just to check the property is there...\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    var data = observed.get(object);\r\n                    if (data) {\r\n                        var recordCopy = { object: object }, prop;\r\n                        for (prop in changeRecord)\r\n                            if (prop !== \"object\")\r\n                                recordCopy[prop] = changeRecord[prop];\r\n                        addChangeRecord(object, data, recordCopy);\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * @method performChange\r\n                 * @see http://arv.github.io/ecmascript-object-observe/#notifierprototype_.performchange\r\n                 * @memberof Notifier\r\n                 * @param {String} changeType\r\n                 * @param {Performer} func     The task performer\r\n                 * @param {*} [thisObj]        Used to set `this` when calling func\r\n                 */\r\n                performChange: function(changeType, func/*, thisObj*/) {\r\n                    if (typeof changeType !== \"string\")\r\n                        throw new TypeError(\"Invalid non-string changeType\");\r\n\r\n                    if (typeof func !== \"function\")\r\n                        throw new TypeError(\"Cannot perform non-function\");\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    var data = observed.get(object),\r\n                        prop, changeRecord,\r\n                        thisObj = arguments[2],\r\n                        result = thisObj === _undefined ? func() : func.call(thisObj);\r\n\r\n                    data && performPropertyChecks(data, object, changeType);\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    if (data && result && typeof result === \"object\") {\r\n                        changeRecord = { object: object, type: changeType };\r\n                        for (prop in result)\r\n                            if (prop !== \"object\" && prop !== \"type\")\r\n                                changeRecord[prop] = result[prop];\r\n                        addChangeRecord(object, data, changeRecord);\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Register (or redefines) an handler in the collection for a given\r\n         * object and a given type accept list.\r\n         * @function setHandler\r\n         * @param {Object} object\r\n         * @param {ObjectData} data\r\n         * @param {Handler} handler\r\n         * @param {String[]} acceptList\r\n         */\r\n        setHandler = function(object, data, handler, acceptList) {\r\n            var hdata = handlers.get(handler);\r\n            if (!hdata)\r\n                handlers.set(handler, hdata = {\r\n                    observed: createMap(),\r\n                    changeRecords: []\r\n                });\r\n            hdata.observed.set(object, {\r\n                acceptList: acceptList.slice(),\r\n                data: data\r\n            });\r\n            data.handlers.set(handler, hdata);\r\n        },\r\n\r\n        /**\r\n         * Adds a change record in a given ObjectData\r\n         * @function addChangeRecord\r\n         * @param {Object} object\r\n         * @param {ObjectData} data\r\n         * @param {ChangeRecord} changeRecord\r\n         * @param {String} [except]\r\n         */\r\n        addChangeRecord = function(object, data, changeRecord, except) {\r\n            data.handlers.forEach(function(hdata) {\r\n                var acceptList = hdata.observed.get(object).acceptList;\r\n                // If except is defined, Notifier.performChange has been\r\n                // called, with except as the type.\r\n                // All the handlers that accepts that type are skipped.\r\n                if ((typeof except !== \"string\"\r\n                        || inArray(acceptList, except) === -1)\r\n                        && inArray(acceptList, changeRecord.type) > -1)\r\n                    hdata.changeRecords.push(changeRecord);\r\n            });\r\n        };\r\n\r\n    observed = createMap();\r\n    handlers = createMap();\r\n\r\n    /**\r\n     * @function Object.observe\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.observe\r\n     * @param {Object} object\r\n     * @param {Handler} handler\r\n     * @param {String[]} [acceptList]\r\n     * @throws {TypeError}\r\n     * @returns {Object}               The observed object\r\n     */\r\n    O.observe = function observe(object, handler, acceptList) {\r\n        if (!object || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.observe cannot observe non-object\");\r\n\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.observe cannot deliver to non-function\");\r\n\r\n        if (O.isFrozen && O.isFrozen(handler))\r\n            throw new TypeError(\"Object.observe cannot deliver to a frozen function object\");\r\n\r\n        if (acceptList === _undefined)\r\n            acceptList = defaultAcceptList;\r\n        else if (!acceptList || typeof acceptList !== \"object\")\r\n            throw new TypeError(\"Third argument to Object.observe must be an array of strings.\");\r\n\r\n        doObserve(object, handler, acceptList);\r\n\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * @function Object.unobserve\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.unobserve\r\n     * @param {Object} object\r\n     * @param {Handler} handler\r\n     * @throws {TypeError}\r\n     * @returns {Object}         The given object\r\n     */\r\n    O.unobserve = function unobserve(object, handler) {\r\n        if (object === null || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.unobserve cannot unobserve non-object\");\r\n\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.unobserve cannot deliver to non-function\");\r\n\r\n        var hdata = handlers.get(handler), odata;\r\n\r\n        if (hdata && (odata = hdata.observed.get(object))) {\r\n            hdata.observed.forEach(function(odata, object) {\r\n                performPropertyChecks(odata.data, object);\r\n            });\r\n            nextFrame(function() {\r\n                deliverHandlerRecords(hdata, handler);\r\n            });\r\n\r\n            // In Firefox 13-18, size is a function, but createMap should fall\r\n            // back to the shim for those versions\r\n            if (hdata.observed.size === 1 && hdata.observed.has(object))\r\n                handlers[\"delete\"](handler);\r\n            else hdata.observed[\"delete\"](object);\r\n\r\n            if (odata.data.handlers.size === 1)\r\n                observed[\"delete\"](object);\r\n            else odata.data.handlers[\"delete\"](handler);\r\n        }\r\n\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * @function Object.getNotifier\r\n     * @see http://arv.github.io/ecmascript-object-observe/#GetNotifier\r\n     * @param {Object} object\r\n     * @throws {TypeError}\r\n     * @returns {Notifier}\r\n     */\r\n    O.getNotifier = function getNotifier(object) {\r\n        if (object === null || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.getNotifier cannot getNotifier non-object\");\r\n\r\n        if (O.isFrozen && O.isFrozen(object)) return null;\r\n\r\n        return retrieveNotifier(object);\r\n    };\r\n\r\n    /**\r\n     * @function Object.deliverChangeRecords\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.deliverChangeRecords\r\n     * @see http://arv.github.io/ecmascript-object-observe/#DeliverChangeRecords\r\n     * @param {Handler} handler\r\n     * @throws {TypeError}\r\n     */\r\n    O.deliverChangeRecords = function deliverChangeRecords(handler) {\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.deliverChangeRecords cannot deliver to non-function\");\r\n\r\n        var hdata = handlers.get(handler);\r\n        if (hdata) {\r\n            hdata.observed.forEach(function(odata, object) {\r\n                performPropertyChecks(odata.data, object);\r\n            });\r\n            deliverHandlerRecords(hdata, handler);\r\n        }\r\n    };\r\n\r\n})(Object, Array, this);\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(5);\r\nvar Modal = (function () {\r\n    function Modal(object, options, node) {\r\n        if (options === void 0) { options = {}; }\r\n        if (node === void 0) { node = document.body; }\r\n        this.object = object;\r\n        /** an array of bindings for this modal */\r\n        this.bindings = [];\r\n        this.options = {\r\n            prefix: 'bind',\r\n            inlineDelimiters: ['{', '}'],\r\n            excludedElements: {\r\n                script: true,\r\n                link: true,\r\n                meta: true,\r\n                style: true\r\n            }\r\n        };\r\n        this.scope = new Scope_1.default('', object, this);\r\n        this.node = node;\r\n        for (var i in options) {\r\n            this.options[i] = options[i];\r\n        }\r\n        this.observer = new MutationObserver(this.ElementChange.bind(this));\r\n    }\r\n    Modal.prototype.applyBindings = function (node) {\r\n        if (node === void 0) { node = undefined; }\r\n        //remove old event\r\n        this.observer.disconnect();\r\n        if (node)\r\n            this.node = node;\r\n        this.bindings = this.buildBindings();\r\n        // watch the new node\r\n        this.observer.observe(this.node, {\r\n            childList: true\r\n        });\r\n    };\r\n    /** loop through this.nodes children and create the bindings */\r\n    Modal.prototype.buildBindings = function (node, scope) {\r\n        if (node === void 0) { node = this.node; }\r\n        if (scope === void 0) { scope = node.__scope__ || this.scope; }\r\n        var bindingsCreated = [];\r\n        if (node.nodeName.toLowerCase() in this.options.excludedElements)\r\n            return;\r\n        //remove old bindings\r\n        if (node.__bindings__) {\r\n            for (var i = 0; i < node.__bindings__.length; i++) {\r\n                node.__bindings__[i].unbind();\r\n            }\r\n            ;\r\n            node.__bindings__ = [];\r\n        }\r\n        //set scope\r\n        node.__scope__ = node.__scope__ || scope;\r\n        if (node.parentNode) {\r\n            node.__addedScope__ = utils_1.extendNew(node.parentNode.__addedScope__ || {}, node.__addedScope__ || {});\r\n        }\r\n        bindingsCreated = bindingsCreated.concat(this.createBindings(node)); //createBindings handles setting __bindings__\r\n        //if node was a text node then it will not have any children even though createInlineBindings splits it into mutiple textNodes\r\n        //loop through and bind children\r\n        for (var i = 0; i < node.childNodes.length; i++) {\r\n            var childNode = node.childNodes[i];\r\n            if (childNode.nodeName.toLowerCase() in this.options.excludedElements)\r\n                continue;\r\n            bindingsCreated = bindingsCreated.concat(this.buildBindings(childNode, childNode.__scope__ || scope));\r\n        }\r\n        ;\r\n        return bindingsCreated;\r\n    };\r\n    Modal.prototype.createBindings = function (node) {\r\n        var bindingsCreated = [];\r\n        switch (node.nodeType) {\r\n            case node.ELEMENT_NODE:\r\n                bindingsCreated = this.createAttrBindings(node);\r\n                break;\r\n            case node.TEXT_NODE:\r\n                bindingsCreated = this.createInlineBindings(node);\r\n                break;\r\n        }\r\n        return bindingsCreated;\r\n    };\r\n    Modal.prototype.createAttrBindings = function (node) {\r\n        var bindingsCreated = [];\r\n        var attrs = node.attributes;\r\n        var types = [];\r\n        //find the bindings\r\n        for (var i = 0; i < attrs.length; i++) {\r\n            var attr = attrs.item(i);\r\n            var _types = attr.name.split('-');\r\n            if (_types[0] == this.options.prefix) {\r\n                _types.splice(0, 1); //remove the prefix\r\n                var fn = utils_1.getBinding(_types[0]);\r\n                if (fn) {\r\n                    types.push({\r\n                        types: _types,\r\n                        attr: attr,\r\n                        constructor: fn\r\n                    });\r\n                }\r\n                else {\r\n                    console.error('cant find binding: ' + attr.name);\r\n                }\r\n            }\r\n        }\r\n        ;\r\n        //sort by priority\r\n        types.sort(function (a, b) {\r\n            if (a.constructor.priority < b.constructor.priority) {\r\n                return 1;\r\n            }\r\n            else if (a.constructor.priority > b.constructor.priority) {\r\n                return -1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        });\r\n        //create the bindings\r\n        for (var i = 0; i < types.length; i++) {\r\n            var t = types[i];\r\n            try {\r\n                bindingsCreated.push(utils_1.createBinding(t.types, node, t.attr.value));\r\n            }\r\n            catch (e) {\r\n                console.error('failed to create binding: ' + t.attr.name);\r\n                console.error(e);\r\n            }\r\n        }\r\n        node.__bindings__ = bindingsCreated;\r\n        return bindingsCreated;\r\n    };\r\n    Modal.prototype.createInlineBindings = function (node) {\r\n        var bindingsCreated = [];\r\n        var tokens = this.parseInlineBindings(node.nodeValue, this.options.inlineDelimiters);\r\n        if (!(tokens.length === 1 && tokens[0].type === 'text')) {\r\n            for (var i = 0; i < tokens.length; i++) {\r\n                var token = tokens[i];\r\n                var textNode = document.createTextNode(token.value);\r\n                //copy scopes\r\n                // textNode.__bindings__ = clone(node.__bindings__); dont clone the bindings array because no two nodes should have the same bindigns\r\n                textNode.__bindings__ = [];\r\n                textNode.__scope__ = node.__scope__;\r\n                textNode.__addedScope__ = utils_1.clone(node.__addedScope__);\r\n                node.parentNode.insertBefore(textNode, node);\r\n                if (token.type === 'binding') {\r\n                    var b = new Binding_1.InlineBinding(textNode);\r\n                    textNode.__bindings__ = [b];\r\n                    bindingsCreated.push(b);\r\n                }\r\n            }\r\n            node.parentNode.removeChild(node);\r\n        }\r\n        return bindingsCreated;\r\n    };\r\n    Modal.prototype.parseInlineBindings = function (template, delimiters) {\r\n        var index = 0, lastIndex = 0, lastToken, length = template.length, substring, tokens = [], value;\r\n        while (lastIndex < length) {\r\n            index = template.indexOf(delimiters[0], lastIndex);\r\n            if (index < 0) {\r\n                tokens.push({\r\n                    type: 'text',\r\n                    value: template.slice(lastIndex)\r\n                });\r\n                break;\r\n            }\r\n            else {\r\n                if (index > 0 && lastIndex < index) {\r\n                    tokens.push({\r\n                        type: 'text',\r\n                        value: template.slice(lastIndex, index)\r\n                    });\r\n                }\r\n                lastIndex = index + delimiters[0].length;\r\n                index = template.indexOf(delimiters[1], lastIndex);\r\n                if (index < 0) {\r\n                    substring = template.slice(lastIndex - delimiters[1].length);\r\n                    lastToken = tokens[tokens.length - 1];\r\n                    if ((lastToken != null ? lastToken.type : void 0) === 'text') {\r\n                        lastToken.value += substring;\r\n                    }\r\n                    else {\r\n                        tokens.push({\r\n                            type: 'text',\r\n                            value: substring\r\n                        });\r\n                    }\r\n                    break;\r\n                }\r\n                value = template.slice(lastIndex, index).trim();\r\n                tokens.push({\r\n                    type: 'binding',\r\n                    value: value\r\n                });\r\n                lastIndex = index + delimiters[1].length;\r\n            }\r\n        }\r\n        return tokens;\r\n    };\r\n    Modal.prototype.ElementChange = function (event) {\r\n        event.stopPropagation();\r\n        var el = event.target;\r\n        if (el.nodeType !== 3) {\r\n            this.buildBindings(el);\r\n        }\r\n    };\r\n    return Modal;\r\n}());\r\nexports.default = Modal;\r\nvar Scope_1 = __webpack_require__(2);\r\nvar Binding_1 = __webpack_require__(0);\r\nvar utils_1 = __webpack_require__(1);\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Expression = (function () {\r\n    /**\r\n        @constructs Expression\r\n        @param {node} node - the node to use for this expression\r\n        @param {string} expression\r\n        @param {Scope} scope\r\n    */\r\n    function Expression(node, expression, scope) {\r\n        this.node = node;\r\n        this.expression = expression;\r\n        this.scope = scope;\r\n        this.success = true;\r\n        this.value = undefined;\r\n        this.dependencies = [];\r\n    }\r\n    /**\r\n        @public\r\n    */\r\n    Expression.prototype.run = function () {\r\n        var data = {\r\n            value: undefined,\r\n            success: true,\r\n            error: undefined\r\n        };\r\n        var variables = {\r\n            $node: this.node\r\n        };\r\n        var funcString = 'new Function(\"variables\",\"addedScope\",\"', args = [];\r\n        var context = this.buildContext(this.scope).context;\r\n        args.push(variables);\r\n        args.push(this.node.__addedScope__ || {});\r\n        funcString += 'with(this){';\r\n        funcString += 'with(variables){';\r\n        funcString += 'with(addedScope){';\r\n        funcString += 'return ';\r\n        funcString += this.expression;\r\n        funcString += '}';\r\n        funcString += '}';\r\n        funcString += '}';\r\n        funcString += '\")';\r\n        var func = eval(funcString);\r\n        try {\r\n            data.value = func.apply(context, args);\r\n        }\r\n        catch (e) {\r\n            data.success = false;\r\n            data.error = e;\r\n        }\r\n        this.value = data.value;\r\n        this.success = data.success;\r\n        return data;\r\n    };\r\n    Expression.prototype.runOnScope = function () {\r\n        var data = {\r\n            value: undefined,\r\n            success: false\r\n        };\r\n        var _data = this.getDependencies();\r\n        data.value = _data.gets[_data.gets.length - 1];\r\n        data.success = !!data.value;\r\n        return data;\r\n    };\r\n    Expression.prototype.getDependencies = function () {\r\n        var data = {\r\n            success: true,\r\n            error: undefined,\r\n            requires: [],\r\n            gets: [],\r\n            sets: []\r\n        };\r\n        var hidden = {\r\n            console: {},\r\n            window: {},\r\n            navigator: {},\r\n            localStorage: {},\r\n            location: {},\r\n            alert: utils_1.noop,\r\n            eval: utils_1.noop\r\n        };\r\n        var variables = {\r\n            $node: this.node\r\n        };\r\n        var funcString = 'new Function(\"hidden\",\"variables\",\"addedScope\",', args = [];\r\n        args.push(hidden);\r\n        args.push(variables);\r\n        args.push(this.node.__addedScope__ || {});\r\n        //build context\r\n        var context = this.buildContext(this.scope, data, true);\r\n        funcString += '\"';\r\n        funcString += 'with(this){';\r\n        funcString += 'with(hidden){';\r\n        funcString += 'with(variables){';\r\n        funcString += 'with(addedScope){';\r\n        funcString += 'return ';\r\n        funcString += this.expression;\r\n        funcString += '}';\r\n        funcString += '}';\r\n        funcString += '}';\r\n        funcString += '}';\r\n        funcString += '\")';\r\n        var func = eval(funcString);\r\n        try {\r\n            func.apply(context.context, args);\r\n        }\r\n        catch (e) {\r\n            data.success = false;\r\n            data.error = e;\r\n        }\r\n        this.dependencies = data.requires;\r\n        return data;\r\n    };\r\n    Expression.prototype.buildContext = function (scope, requires, dontSet) {\r\n        if (requires === void 0) { requires = { requires: [], gets: [], sets: [] }; }\r\n        if (dontSet === void 0) { dontSet = false; }\r\n        var object = (scope.object instanceof Array) ? [] : {};\r\n        var get = function (scope, object, index, requires) {\r\n            if (requires.gets.indexOf(scope.values[index]) == -1) {\r\n                requires.requires.push(scope.values[index]);\r\n                requires.gets.push(scope.values[index]);\r\n            }\r\n            if (scope.values[index] instanceof Scope_1.default) {\r\n                return this.buildContext(scope.values[index], requires, dontSet).context;\r\n            }\r\n            else if (scope.values[index] instanceof Value_1.default) {\r\n                if (!(scope.values[index].value instanceof Function) || !dontSet) {\r\n                    return scope.values[index].value;\r\n                }\r\n            }\r\n        };\r\n        var set = function (scope, object, index, requires, val) {\r\n            requires.requires.push(scope.values[index]);\r\n            requires.sets.push(scope.values[index]);\r\n            if (!dontSet) {\r\n                scope.object[index] = val;\r\n            }\r\n        };\r\n        for (var i in scope.values) {\r\n            object.__defineGetter__(i, get.bind(this, scope, object, i, requires));\r\n            object.__defineSetter__(i, set.bind(this, scope, object, i, requires));\r\n        }\r\n        ;\r\n        //$parent\r\n        if (scope.parent) {\r\n            object.__defineGetter__('$parent', function (scope, object, requires, dontSet) {\r\n                if (!scope.parent)\r\n                    return;\r\n                if (requires.gets.indexOf(scope.parent) == -1) {\r\n                    requires.requires.push(scope.parent);\r\n                    requires.gets.push(scope.parent);\r\n                }\r\n                return this.buildContext(scope.parent, requires, dontSet).context;\r\n            }.bind(this, scope, object, requires, dontSet));\r\n        }\r\n        else {\r\n            object.$parent = undefined;\r\n        }\r\n        // $Modal\r\n        if (scope.modal) {\r\n            object.__defineGetter__('$modal', function (scope, object, requires, dontSet) {\r\n                if (!scope.modal)\r\n                    return;\r\n                if (requires.gets.indexOf(scope.modal.scope) == -1) {\r\n                    requires.requires.push(scope.modal.scope);\r\n                    requires.gets.push(scope.modal.scope);\r\n                }\r\n                return this.buildContext(scope.modal.scope, requires, dontSet).context;\r\n            }.bind(this, scope, object, requires, dontSet));\r\n        }\r\n        else {\r\n            object.$modal = undefined;\r\n        }\r\n        return {\r\n            context: object,\r\n            requires: requires\r\n        };\r\n    };\r\n    return Expression;\r\n}());\r\nexports.default = Expression;\r\nvar Scope_1 = __webpack_require__(2);\r\nvar Value_1 = __webpack_require__(3);\r\nvar utils_1 = __webpack_require__(1);\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attr_1 = __webpack_require__(9);\r\nexports.attr = attr_1.default;\r\nvar class_1 = __webpack_require__(10);\r\nexports.class = class_1.default;\r\nvar click_1 = __webpack_require__(11);\r\nexports.click = click_1.default;\r\nvar disabled_1 = __webpack_require__(12);\r\nexports.disabled = disabled_1.default;\r\nvar enabled_1 = __webpack_require__(13);\r\nexports.enabled = enabled_1.default;\r\nvar event_1 = __webpack_require__(14);\r\nexports.event = event_1.default;\r\nvar foreach_1 = __webpack_require__(15);\r\nexports.foreach = foreach_1.default;\r\nvar hidden_1 = __webpack_require__(16);\r\nexports.hidden = hidden_1.default;\r\nvar href_1 = __webpack_require__(17);\r\nexports.href = href_1.default;\r\nvar html_1 = __webpack_require__(18);\r\nexports.html = html_1.default;\r\nvar if_1 = __webpack_require__(19);\r\nexports.if = if_1.default;\r\nvar ifnot_1 = __webpack_require__(20);\r\nexports.ifnot = ifnot_1.default;\r\nvar input_1 = __webpack_require__(21);\r\nexports.input = input_1.default;\r\nvar repeat_1 = __webpack_require__(22);\r\nexports.repeat = repeat_1.default;\r\nvar src_1 = __webpack_require__(23);\r\nexports.src = src_1.default;\r\nvar style_1 = __webpack_require__(24);\r\nexports.style = style_1.default;\r\nvar submit_1 = __webpack_require__(25);\r\nexports.submit = submit_1.default;\r\nvar text_1 = __webpack_require__(26);\r\nexports.text = text_1.default;\r\nvar value_1 = __webpack_require__(27);\r\nexports.value = value_1.default;\r\nvar visible_1 = __webpack_require__(28);\r\nexports.visible = visible_1.default;\r\nvar with_1 = __webpack_require__(29);\r\nexports.with = with_1.default;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar utils_1 = __webpack_require__(1);\r\nvar AttrBinding = (function (_super) {\r\n    __extends(AttrBinding, _super);\r\n    function AttrBinding(node, expression, attr) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.attr = attr;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    AttrBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        utils_1.setAttr(this.node, this.attr, this.expression.value);\r\n    };\r\n    return AttrBinding;\r\n}(Binding_1.OneWayBinding));\r\nAttrBinding.id = 'attr';\r\nexports.default = AttrBinding;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar ClassBinding = (function (_super) {\r\n    __extends(ClassBinding, _super);\r\n    function ClassBinding(node, expression, bindClass) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.bindClass = bindClass;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    ClassBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (this.expression.value && !this.hasClass()) {\r\n            this.addClass();\r\n        }\r\n        else if (this.hasClass()) {\r\n            this.removeClass();\r\n        }\r\n    };\r\n    ClassBinding.prototype.addClass = function () {\r\n        this.node.className += ' ' + this.bindClass;\r\n        this.node.className = this.node.className.trim();\r\n    };\r\n    ClassBinding.prototype.removeClass = function () {\r\n        this.node.className = this.node.className.replace(new RegExp('(?:^|\\s)' + this.bindClass + '(?!\\S)', 'g'), '');\r\n        this.node.className = this.node.className.trim();\r\n    };\r\n    ClassBinding.prototype.hasClass = function () {\r\n        return this.node.className.indexOf(this.bindClass) !== -1;\r\n    };\r\n    return ClassBinding;\r\n}(Binding_1.OneWayBinding));\r\nClassBinding.id = 'class';\r\nexports.default = ClassBinding;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar ClickBinding = (function (_super) {\r\n    __extends(ClickBinding, _super);\r\n    function ClickBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.domEvents = ['click'];\r\n        _this.updateEvents();\r\n        return _this;\r\n    }\r\n    return ClickBinding;\r\n}(Binding_1.EventBinding));\r\nClickBinding.id = 'event';\r\nexports.default = ClickBinding;\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar DisabledBinding = (function (_super) {\r\n    __extends(DisabledBinding, _super);\r\n    function DisabledBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    DisabledBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (!this.expression.value) {\r\n            this.node.removeAttribute('disabled');\r\n        }\r\n        else {\r\n            this.node.setAttribute('disabled', 'disabled');\r\n        }\r\n    };\r\n    return DisabledBinding;\r\n}(Binding_1.OneWayBinding));\r\nDisabledBinding.id = 'disabled';\r\nexports.default = DisabledBinding;\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar EnabledBinding = (function (_super) {\r\n    __extends(EnabledBinding, _super);\r\n    function EnabledBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    EnabledBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (this.expression.value) {\r\n            this.node.removeAttribute('disabled');\r\n        }\r\n        else {\r\n            this.node.setAttribute('disabled', 'disabled');\r\n        }\r\n    };\r\n    return EnabledBinding;\r\n}(Binding_1.OneWayBinding));\r\nEnabledBinding.id = 'enabled';\r\nexports.default = EnabledBinding;\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar EventBinding = (function (_super) {\r\n    __extends(EventBinding, _super);\r\n    function EventBinding(node, expression, bindEvent) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.domEvents = [bindEvent];\r\n        _this.updateEvents();\r\n        return _this;\r\n    }\r\n    return EventBinding;\r\n}(Binding_1.EventBinding));\r\nEventBinding.id = 'event';\r\nexports.default = EventBinding;\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar ForEachBinding = (function (_super) {\r\n    __extends(ForEachBinding, _super);\r\n    function ForEachBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.children = [];\r\n        for (var i = 0; i < _this.node.childNodes.length; i++) {\r\n            _this.children.push(_this.node.childNodes[i]);\r\n        }\r\n        _this.removeAllChildren();\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    ForEachBinding.prototype.restoreChildren = function () {\r\n        for (var i in this.children) {\r\n            this.node.appendChild(this.children[i]);\r\n        }\r\n    };\r\n    ForEachBinding.prototype.removeAllChildren = function () {\r\n        while (this.node.childNodes.length !== 0) {\r\n            this.node.removeChild(this.node.childNodes[0]);\r\n        }\r\n    };\r\n    ForEachBinding.prototype.run = function () {\r\n        // super.run(); dont run because we arnt going to use .run on are expression\r\n        var scope = this.expression.runOnScope().value;\r\n        this.removeAllChildren();\r\n        if (scope instanceof Scope_1.default) {\r\n            for (var i = 0; i < scope.values.length; i++) {\r\n                for (var k = 0; k < this.children.length; k++) {\r\n                    var el = this.children[k].cloneNode(true);\r\n                    el.__scope__ = scope.values[i];\r\n                    el.__addedScope__ = utils_1.extend(el.__addedScope__, {\r\n                        $index: i,\r\n                        $isFirst: i == 0,\r\n                        $isLast: i == scope.values.length - 1\r\n                    });\r\n                    this.node.appendChild(el);\r\n                }\r\n                ;\r\n            }\r\n            ;\r\n        }\r\n        else {\r\n            throw new Error('bind-foreach requires a Object or Array');\r\n        }\r\n    };\r\n    ForEachBinding.prototype.unbind = function () {\r\n        this.removeAllChildren();\r\n        _super.prototype.unbind.call(this);\r\n        this.restoreChildren();\r\n    };\r\n    return ForEachBinding;\r\n}(Binding_1.OneWayBinding));\r\nForEachBinding.id = 'foreach';\r\nForEachBinding.priority = 3;\r\nexports.default = ForEachBinding;\r\nvar utils_1 = __webpack_require__(1);\r\nvar Scope_1 = __webpack_require__(2);\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar HiddenBinding = (function (_super) {\r\n    __extends(HiddenBinding, _super);\r\n    function HiddenBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    HiddenBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (this.expression.value) {\r\n            this.node.style.display = 'none';\r\n        }\r\n        else {\r\n            this.node.style.display = '';\r\n        }\r\n    };\r\n    return HiddenBinding;\r\n}(Binding_1.OneWayBinding));\r\nHiddenBinding.id = 'hidden';\r\nexports.default = HiddenBinding;\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar utils_1 = __webpack_require__(1);\r\nvar HrefBinding = (function (_super) {\r\n    __extends(HrefBinding, _super);\r\n    function HrefBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    HrefBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        utils_1.setAttr(this.node, 'href', this.expression.value);\r\n    };\r\n    return HrefBinding;\r\n}(Binding_1.OneWayBinding));\r\nHrefBinding.id = 'href';\r\nexports.default = HrefBinding;\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar HTMLBinding = (function (_super) {\r\n    __extends(HTMLBinding, _super);\r\n    function HTMLBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.oldText = _this.node.textContent;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    HTMLBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.node.innerHTML = this.expression.value;\r\n    };\r\n    HTMLBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.node.textContent = this.oldText;\r\n    };\r\n    return HTMLBinding;\r\n}(Binding_1.OneWayBinding));\r\nHTMLBinding.id = 'html';\r\nexports.default = HTMLBinding;\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar IfBinding = (function (_super) {\r\n    __extends(IfBinding, _super);\r\n    function IfBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.children = [];\r\n        for (var i = 0; i < _this.node.children.length; i++) {\r\n            _this.children.push(_this.node.children[i]);\r\n        }\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    IfBinding.prototype.restoreChildren = function () {\r\n        for (var i in this.children) {\r\n            this.node.appendChild(this.children[i]);\r\n        }\r\n    };\r\n    IfBinding.prototype.removeChildren = function () {\r\n        while (this.node.children.length !== 0) {\r\n            this.node.removeChild(this.node.children[0]);\r\n        }\r\n    };\r\n    IfBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (this.expression.value) {\r\n            this.restoreChildren();\r\n        }\r\n        else {\r\n            this.removeChildren();\r\n        }\r\n    };\r\n    IfBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.removeChildren();\r\n        this.restoreChildren();\r\n    };\r\n    return IfBinding;\r\n}(Binding_1.OneWayBinding));\r\nIfBinding.id = 'if';\r\nexports.default = IfBinding;\r\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar IfNotBinding = (function (_super) {\r\n    __extends(IfNotBinding, _super);\r\n    function IfNotBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.children = [];\r\n        for (var i = 0; i < _this.node.children.length; i++) {\r\n            _this.children.push(_this.node.children[i]);\r\n        }\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    IfNotBinding.prototype.restoreChildren = function () {\r\n        for (var i in this.children) {\r\n            this.node.appendChild(this.children[i]);\r\n        }\r\n    };\r\n    IfNotBinding.prototype.removeChildren = function () {\r\n        while (this.node.children.length !== 0) {\r\n            this.node.removeChild(this.node.children[0]);\r\n        }\r\n    };\r\n    IfNotBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (!this.expression.value) {\r\n            this.restoreChildren();\r\n        }\r\n        else {\r\n            this.removeChildren();\r\n        }\r\n    };\r\n    IfNotBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.removeChildren();\r\n        this.restoreChildren();\r\n    };\r\n    return IfNotBinding;\r\n}(Binding_1.OneWayBinding));\r\nIfNotBinding.id = 'ifnot';\r\nexports.default = IfNotBinding;\r\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar InputBinding = (function (_super) {\r\n    __extends(InputBinding, _super);\r\n    function InputBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.node = node;\r\n        _this.domEvents = ['input'];\r\n        _this.updateEvents();\r\n        return _this;\r\n    }\r\n    InputBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.node.value = this.expression.value;\r\n    };\r\n    InputBinding.prototype.change = function (event) {\r\n        _super.prototype.change.call(this, event);\r\n        var value = this.expression.runOnScope().value;\r\n        if (value instanceof Value_1.default)\r\n            value.updateValue(this.node.value);\r\n    };\r\n    return InputBinding;\r\n}(Binding_1.TwoWayBinding));\r\nInputBinding.id = 'input';\r\nexports.default = InputBinding;\r\nvar Value_1 = __webpack_require__(3);\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar RepeatBinding = (function (_super) {\r\n    __extends(RepeatBinding, _super);\r\n    function RepeatBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.children = [];\r\n        for (var i = 0; i < _this.node.childNodes.length; i++) {\r\n            _this.children.push(_this.node.childNodes[i]);\r\n        }\r\n        _this.removeChildren();\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    RepeatBinding.prototype.restoreChildren = function () {\r\n        for (var i in this.children) {\r\n            this.node.appendChild(this.children[i]);\r\n        }\r\n    };\r\n    RepeatBinding.prototype.removeChildren = function () {\r\n        while (this.node.childNodes.length !== 0) {\r\n            this.node.removeChild(this.node.childNodes[0]);\r\n        }\r\n    };\r\n    RepeatBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.removeChildren();\r\n        var times = this.expression.value;\r\n        for (var i = 0; i < times; i++) {\r\n            for (var k = 0; k < this.children.length; k++) {\r\n                var el = this.children[k].cloneNode(true);\r\n                el.__addedScope__ = utils_1.extend(el.__addedScope__, {\r\n                    $index: i,\r\n                    $isFirst: i == 0,\r\n                    $isLast: i == times - 1\r\n                });\r\n                this.node.appendChild(el);\r\n            }\r\n            ;\r\n        }\r\n        ;\r\n    };\r\n    RepeatBinding.prototype.unbind = function () {\r\n        this.removeChildren();\r\n        _super.prototype.unbind.call(this);\r\n        this.restoreChildren();\r\n    };\r\n    return RepeatBinding;\r\n}(Binding_1.OneWayBinding));\r\nRepeatBinding.id = 'repeat';\r\nRepeatBinding.priority = 1;\r\nexports.default = RepeatBinding;\r\nvar utils_1 = __webpack_require__(1);\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar utils_1 = __webpack_require__(1);\r\nvar SrcBinding = (function (_super) {\r\n    __extends(SrcBinding, _super);\r\n    function SrcBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    SrcBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        utils_1.setAttr(this.node, 'src', this.expression.value);\r\n    };\r\n    return SrcBinding;\r\n}(Binding_1.OneWayBinding));\r\nSrcBinding.id = 'src';\r\nexports.default = SrcBinding;\r\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar StyleBinding = (function (_super) {\r\n    __extends(StyleBinding, _super);\r\n    function StyleBinding(node, expression, style) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.style = style;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    StyleBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.node.style[this.style] = this.expression.value;\r\n    };\r\n    return StyleBinding;\r\n}(Binding_1.OneWayBinding));\r\nStyleBinding.id = 'style';\r\nexports.default = StyleBinding;\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar SubmitBinding = (function (_super) {\r\n    __extends(SubmitBinding, _super);\r\n    function SubmitBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.domEvents = ['submit'];\r\n        _this.updateEvents();\r\n        return _this;\r\n    }\r\n    SubmitBinding.prototype.change = function (event) {\r\n        _super.prototype.change.call(this, event);\r\n        event.preventDefault();\r\n    };\r\n    return SubmitBinding;\r\n}(Binding_1.EventBinding));\r\nSubmitBinding.id = 'submit';\r\nexports.default = SubmitBinding;\r\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar TextBinding = (function (_super) {\r\n    __extends(TextBinding, _super);\r\n    function TextBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.oldText = _this.node.textContent;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    TextBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.node.innerText = this.expression.value;\r\n    };\r\n    TextBinding.prototype.unbind = function () {\r\n        _super.prototype.unbind.call(this);\r\n        this.node.textContent = this.oldText;\r\n    };\r\n    return TextBinding;\r\n}(Binding_1.OneWayBinding));\r\nTextBinding.id = 'text';\r\nexports.default = TextBinding;\r\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar ValueBinding = (function (_super) {\r\n    __extends(ValueBinding, _super);\r\n    function ValueBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.node = node;\r\n        _this.domEvents = ['change'];\r\n        _this.updateEvents();\r\n        return _this;\r\n    }\r\n    ValueBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        this.node.value = this.expression.value;\r\n    };\r\n    ValueBinding.prototype.change = function (event) {\r\n        _super.prototype.change.call(this, event);\r\n        var value = this.expression.runOnScope().value;\r\n        if (value instanceof Value_1.default) {\r\n            value.updateValue(this.node.value);\r\n        }\r\n    };\r\n    return ValueBinding;\r\n}(Binding_1.TwoWayBinding));\r\nValueBinding.id = 'value';\r\nexports.default = ValueBinding;\r\nvar Value_1 = __webpack_require__(3);\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar VisibleBinding = (function (_super) {\r\n    __extends(VisibleBinding, _super);\r\n    function VisibleBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    VisibleBinding.prototype.run = function () {\r\n        _super.prototype.run.call(this);\r\n        if (this.expression.value)\r\n            this.node.style.display = '';\r\n        else\r\n            this.node.style.display = 'none';\r\n    };\r\n    return VisibleBinding;\r\n}(Binding_1.OneWayBinding));\r\nVisibleBinding.id = 'visible';\r\nexports.default = VisibleBinding;\r\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Binding_1 = __webpack_require__(0);\r\nvar WithBinding = (function (_super) {\r\n    __extends(WithBinding, _super);\r\n    function WithBinding(node, expression) {\r\n        var _this = _super.call(this, node, expression) || this;\r\n        _this.run();\r\n        return _this;\r\n    }\r\n    WithBinding.prototype.run = function () {\r\n        // super.run(); dont run because we arnt going to use .run on are expression\r\n        var scope = this.expression.runOnScope().value;\r\n        if (scope instanceof Scope_1.default) {\r\n            for (var i = 0; i < this.node.childNodes.length; i++) {\r\n                var el = this.node.childNodes[i];\r\n                el.__scope__ = scope;\r\n            }\r\n        }\r\n        else {\r\n            throw new Error('bind-with requires a Object or Array');\r\n        }\r\n    };\r\n    return WithBinding;\r\n}(Binding_1.OneWayBinding));\r\nWithBinding.id = 'with';\r\nWithBinding.priority = 1;\r\nexports.default = WithBinding;\r\nvar Scope_1 = __webpack_require__(2);\r\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Modal_1 = __webpack_require__(6);\r\n__webpack_require__(5);\r\n/**\r\n * creates a {@link Modal} from a Object\r\n * @func createModal\r\n * @memberof bindings\r\n * @param {Object} modal - the object that this modal will use\r\n * @param {Object} options - a object that contains some options\r\n * @see {@link Modal}\r\n * @returns {@link Bindings.Modal}\r\n */\r\nfunction createModal(modalObject, options) {\r\n    if (modalObject === void 0) { modalObject = {}; }\r\n    if (options === void 0) { options = {}; }\r\n    var modal = new Modal_1.default(modalObject, options);\r\n    modalObject._bindings = modal;\r\n    return modal;\r\n}\r\nexports.createModal = createModal;\r\n/**\r\n * @func createModal\r\n * @memberof bindings\r\n * @param {Modal} modal - the modal to use when applying bindings to the html\r\n * @param {Node} node - the html element\r\n */\r\nfunction applyBindings(modal, node) {\r\n    if (modal === void 0) { modal = {}; }\r\n    if (node === void 0) { node = document; }\r\n    if (modal instanceof Modal_1.default) {\r\n        modal.applyBindings(node);\r\n    }\r\n    else if (modal._bindings instanceof Modal_1.default) {\r\n        modal._bindings.applyBindings(node);\r\n    }\r\n}\r\nexports.applyBindings = applyBindings;\r\n__export(__webpack_require__(4));\r\n__export(__webpack_require__(7));\r\n__export(__webpack_require__(0));\r\n__export(__webpack_require__(6));\r\n__export(__webpack_require__(2));\r\n__export(__webpack_require__(3));\r\nvar bindingTypes = __webpack_require__(8);\r\nexports.bindingTypes = bindingTypes;\r\nvar utils = __webpack_require__(1);\r\nexports.utils = utils;\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// bindings.bundle.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2c0d338dd48c2a22ab59","export class Binding {\r\n\tpublic static id: string = '';\r\n\tpublic expression: Expression;\r\n\tpublic node: Node;\r\n\tpublic static priority: number = 0;\r\n\r\n\tpublic get scope(): Scope{\r\n\t\treturn this.node.__scope__;\r\n\t}\r\n\r\n\tpublic run(){}\r\n\tpublic unbind(){}\r\n}\r\n\r\nexport class OneWayBinding extends Binding{\r\n\t/** a list of scopes or values this binding is listening to */\r\n\tprivate dependencies: any[] = [];\r\n\tprivate updateDependenciesOnChange: boolean = false;\r\n\r\n\tconstructor(public node: HTMLElement, expression: string){\r\n\t\tsuper();\r\n\t\tthis.expression = new Expression(node, expression, this.scope);\r\n\r\n\t\tthis.updateDependencies();\r\n\t}\r\n\r\n\t/** this is called when one of the dependencies change */\r\n\tpublic dependencyChange() {\r\n\t\tif(this.updateDependenciesOnChange){\r\n\t\t\tthis.updateDependencies();\r\n\t\t}\r\n\t\tthis.run();\r\n\t}\r\n\r\n\t/** this is called when the expresion changes */\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.expression.run();\r\n\r\n\t\tif(this.dependencies.length == 0 && !this.expression.success){ //if there are no depenencies and are expression failed then bind to are scope\r\n\t\t\tthis.dependencies.push(this.scope);\r\n\t\t\tthis.bindDependencies();\r\n\t\t\tthis.updateDependenciesOnChange = true; //when dependecies change update them\r\n\t\t}\r\n\t}\r\n\r\n\t/** unbinds the binding from the html node */\r\n\tpublic unbind(){\r\n\t\tthis.unbindDependencies();\r\n\t}\r\n\r\n\tpublic getDependencies(refresh: boolean = false): any[]{\r\n\t\tif(refresh || this.dependencies == undefined){\r\n\t\t\t//get dependencies\r\n\t\t\tthis.dependencies = this.expression.getDependencies().requires;\r\n\t\t}\r\n\t\treturn this.dependencies;\r\n\t}\r\n\r\n\tpublic updateDependencies(){\r\n\t\tthis.unbindDependencies();\r\n\t\tthis.getDependencies(true);\r\n\t\tthis.bindDependencies();\r\n\t}\r\n\r\n\tpublic bindDependencies(){\r\n\t\tfor (var i: number = 0; i < this.dependencies.length; i++){\r\n\t\t\tthis.dependencies[i].on('change', this.dependencyChange.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbindDependencies(){\r\n\t\tfor (var i: number = 0; i < this.dependencies.length; i++){\r\n\t\t\tthis.dependencies[i].off('change', this.dependencyChange.bind(this));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class TwoWayBinding extends OneWayBinding{\r\n\tpublic domEvents: string[] = []; //add events to this list to bind to them\r\n\tprivate dontUpdate: boolean = false;\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\r\n\t\t//update the node\r\n\t\tthis.run();\r\n\r\n\t\tthis.bindEvents();\r\n\t}\r\n\r\n\t/** this is called when the dom changes */\r\n\tpublic change(event:Event){\r\n\t\tthis.dontUpdate = true; //dont update (call this.run) the node\r\n\t}\r\n\r\n\tpublic dependencyChange(){\r\n\t\tif(!this.dontUpdate){\r\n\t\t\tsuper.dependencyChange();\r\n\t\t}\r\n\t\tthis.dontUpdate = false;\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\r\n\t\tthis.unbindEvents();\r\n\t}\r\n\r\n\tpublic updateEvents(){\r\n\t\tthis.unbindEvents();\r\n\t\tthis.bindEvents();\r\n\t}\r\n\r\n\tpublic bindEvents(){\r\n\t\tfor (var i = 0; i < this.domEvents.length; i++){\r\n\t\t\tthis.node.addEventListener(this.domEvents[i], this.change.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbindEvents(){\r\n\t\tfor (var i = 0; i < this.domEvents.length; i++){\r\n\t\t\tthis.node.removeEventListener(this.domEvents[i], this.change.bind(this));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class EventBinding extends Binding{\r\n\tpublic domEvents: string[] = [];\r\n\r\n\tconstructor(public node: HTMLElement, expression: string){\r\n\t\tsuper();\r\n\t\tthis.expression = new Expression(node, expression, this.scope);\r\n\r\n\t\tthis.bindEvents();\r\n\t}\r\n\r\n\tpublic change(event:Event){\r\n\t\tthis.expression.run();\r\n\r\n\t\tif(this.expression.value instanceof Function && this.scope){\r\n\t\t\t//run it on the scope\r\n\t\t\tthis.expression.value.call(this.scope.object, event);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\r\n\t\tthis.unbindEvents();\r\n\t}\r\n\r\n\tpublic updateEvents(){\r\n\t\tthis.unbindEvents();\r\n\t\tthis.bindEvents();\r\n\t}\r\n\r\n\tpublic bindEvents(){\r\n\t\tfor (var i = 0; i < this.domEvents.length; i++){\r\n\t\t\tthis.node.addEventListener(this.domEvents[i], this.change.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbindEvents(){\r\n\t\tfor (var i = 0; i < this.domEvents.length; i++){\r\n\t\t\tthis.node.removeEventListener(this.domEvents[i], this.change.bind(this));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class InlineBinding extends Binding{\r\n\tprivate dependencies: any[] = []; //a list of scopes and values this bindings uses\r\n\tprivate updateDependenciesOnChange: boolean = false;\r\n\tpublic expression: Expression;\r\n\r\n\tpublic get scope(): Scope{\r\n\t\treturn this.node.__scope__;\r\n\t}\r\n\r\n\tconstructor(public node: Node){\r\n\t\tsuper();\r\n\t\tthis.expression = new Expression(node, <string> node.nodeValue, this.scope);\r\n\t\tthis.updateDependencies();\r\n\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic dependencyChange(){\r\n\t\tif(this.updateDependenciesOnChange){\r\n\t\t\tthis.updateDependencies();\r\n\t\t}\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tthis.expression.run();\r\n\r\n\t\tthis.node.nodeValue = this.expression.value;\r\n\r\n\t\tif(this.dependencies.length == 0 && !this.expression.success){ //if there are no depenencies and are expression failed then bind to are scope\r\n\t\t\tthis.dependencies.push(this.scope);\r\n\t\t\tthis.bindDependencies();\r\n\t\t\tthis.updateDependenciesOnChange = true; //when dependecies change update them\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbind(){ //remove every thing\r\n\t\tthis.unbindDependencies();\r\n\t}\r\n\r\n\tpublic getDependencies(refresh: boolean = false): any[]{\r\n\t\tif(refresh || this.dependencies == undefined){\r\n\t\t\t//get dependencies\r\n\t\t\tthis.dependencies = this.expression.getDependencies().requires;\r\n\t\t}\r\n\t\treturn this.dependencies;\r\n\t}\r\n\r\n\tpublic updateDependencies(){\r\n\t\tthis.unbindDependencies();\r\n\t\tthis.getDependencies(true);\r\n\t\tthis.bindDependencies();\r\n\t}\r\n\r\n\tpublic bindDependencies(){\r\n\t\tfor (var i = 0; i < this.dependencies.length; i++){\r\n\t\t\tthis.dependencies[i].on('change', this.dependencyChange.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbindDependencies(){\r\n\t\tfor (var i = 0; i < this.dependencies.length; i++){\r\n\t\t\tthis.dependencies[i].off('change', this.dependencyChange.bind(this));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport {Binding as default};\r\n\r\nimport Scope from './Scope';\r\nimport Expression from './Expression';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Binding.ts","export function setAttr(el: HTMLElement, attr: string, value: any) {\r\n\tif (value != null)\r\n\t\tel.setAttribute(attr, value);\r\n\telse\r\n\t\tel.removeAttribute(attr);\r\n}\r\n\r\nexport function loadJSON(url: string, cb?: Function, defaultObject?: any) {\r\n\tlet func: any = loadJSON;\r\n\r\n\tfunc.callbacks = func.callbacks || {};\r\n\tfunc.cache = func.cache || {};\r\n\tfunc.loading = func.loading || {};\r\n\r\n\tif (!func.cache[url]) {\r\n\t\tfunc.cache[url] = defaultObject || {};\r\n\r\n\t\tthis.getJSON(url,'GET',(json)=>{ //done\r\n\t\t\tfunc.cache[url].__proto__ = json.__proto__;\r\n\t\t\tif (json instanceof Array) {\r\n\t\t\t\tfor (let i = 0; i < json.length; i++) {\r\n\t\t\t\t\tfunc.cache[url].push(json[i]);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfor (let i in json) {\r\n\t\t\t\t\tif (json[i] != null) func.cache[url][i] = json[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (cb) cb(json);\r\n\r\n\t\t\tif (func.callbacks[url]) {\r\n\t\t\t\tfor (let i = 0; i < func.callbacks[url].length; i++) {\r\n\t\t\t\t\tfunc.callbacks[url][i](json);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},(err) => { //fail\r\n\t\t\tif (cb) cb(false);\r\n\r\n\t\t\tif (func.callbacks[url]) {\r\n\t\t\t\tfor (let i = 0; i < func.callbacks[url].length; i++) {\r\n\t\t\t\t\tfunc.callbacks[url][i](false);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\telse if (func.loading[url]) {\r\n\t\tfunc.callbacks[url] = func.callbacks[url] || [];\r\n\t\tfunc.callbacks[url].push(cb);\r\n\t}\r\n\telse {\r\n\t\tif (cb) cb(func.cache[url]);\r\n\t}\r\n\treturn func.cache[url];\r\n}\r\n\r\nexport function getJSON(url: string, mode: string = 'GET', resolve?: Function, reject?: Function) {\r\n\tlet xhttp: XMLHttpRequest = new XMLHttpRequest();\r\n\txhttp.onloadend = function() {\r\n\t\tlet json: any;\r\n\r\n\t\ttry{\r\n\t\t\tjson = JSON.parse(xhttp.responseText);\r\n\t\t\tresolve && resolve(json);\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\treject && reject(e);\r\n\t\t}\r\n\t}\r\n\txhttp.open(mode.toUpperCase(), url, true);\r\n\txhttp.send();\r\n}\r\n\r\nexport function extend(obj: any,obj2: any){\r\n\tobj = obj || {};\r\n\tobj2 = obj2 || {};\r\n\tfor(let i in obj2){\r\n\t\tobj[i] = obj2[i];\r\n\t}\r\n\treturn obj;\r\n}\r\n\r\nexport function noop():void{}\r\n\r\nexport function clone(obj: any){\r\n\tif(typeof obj == 'object'){\r\n\t\treturn JSON.parse(JSON.stringify(obj));\r\n\t}\r\n}\r\n\r\nexport function extendNew(o1:any = {},o2:any = {},o3:any = {},o4:any = {}){\r\n\tlet o = {};\r\n\tfor(let i in arguments){\r\n\t\tthis.extend(o, arguments[i]);\r\n\t}\r\n\treturn o;\r\n}\r\n\r\nexport function duplicateObject(obj2: any, count: number = 20):any{\r\n\tif(obj2 instanceof Object && obj2 !== null){\r\n\t\t// count = (count !== undefined)? count : 20;\r\n\t\tlet obj: any = {};\r\n\t\tif(count > 0){\r\n\t\t\t// see if its an array\r\n\t\t\tif(obj2.hasOwnProperty('length')){\r\n\t\t\t\tobj = new Array(0);\r\n\t\t\t\tfor (let i: number = 0; i < obj2.length; i++) {\r\n\t\t\t\t\tif(typeof obj2[i] !== 'object'){\r\n\t\t\t\t\t\tobj[i] = obj2[i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tobj[i] = this.duplicateObject(obj2[i],count-1)\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfor (let k in obj2){\r\n\t\t\t\t\tif(!(obj2[k] instanceof Object)){\r\n\t\t\t\t\t\tobj[k] = obj2[k]\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tobj[k] = this.duplicateObject(obj2[k],count-1)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t}\r\n\telse{\r\n\t\treturn obj2\r\n\t}\r\n}\r\n\r\nexport function getBinding(type: string){\r\n\tvar binding: Binding;\r\n\tfor(var i in bindingTypes){\r\n\t\tif(bindingTypes[i].id == type){\r\n\t\t\treturn bindingTypes[i];\r\n\t\t}\r\n\t}\r\n\treturn binding;\r\n}\r\n\r\nexport function createBinding(type: any, node: HTMLElement, expression: string): Binding {\r\n\tif (!(type instanceof Array)) {\r\n\t\ttype = [type];\r\n\t}\r\n\tvar binding: Binding;\r\n\tvar id: string = type[0];\r\n\ttype.splice(0, 1); //remove first entry\r\n\tvar data: string = type.join('-');\r\n\tfor(var i in bindingTypes){\r\n\t\tif(bindingTypes[i].id == id){\r\n\t\t\tbinding = <Binding> new bindingTypes[i](node, expression, data);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn binding;\r\n}\r\n\r\nimport * as bindingTypes from './bindingTypes';\r\n\r\n// extend the object interface\r\ninterface ObjectConstructor{\r\n\tunobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\tobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n}\r\n\r\ninterface Object{\r\n\tunobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\tobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n}\r\n\r\nimport Scope from './Scope';\r\nimport Binding from './Binding';\r\nexport interface NodeWithScope extends Node{\r\n\t__scope__: Scope,\r\n\t__bindings__: Binding[],\r\n\t__addedScope__: any\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.ts","import EventEmiter from './EventEmiter';\r\nimport 'object.observe';\r\n\r\nexport default class Scope extends EventEmiter {\r\n\tpublic values: any;\r\n\tprivate observer: any;\r\n\r\n\tconstructor(public key: string, public object: Object, public modal: Modal, public parent:Scope = undefined) {\r\n\t\tsuper();\r\n\r\n\t\tthis.values = (object instanceof Array) ? [] : {};\r\n\t\tthis.setKeys(this.object);\r\n\r\n\t\t//watch for changes\r\n\t\tthis.observer = this.objectChange.bind(this);\r\n\t\tObject.observe(this.object, this.observer);\r\n\t}\r\n\r\n\tpublic dispose(){\r\n\t\tObject.unobserve(this.object, this.observer);\r\n\t}\r\n\r\n\tpublic getKey(value:any){\r\n\t\tfor (var i in this.values) {\r\n\t\t\tif(this.values[i].value == value){\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tpublic setKey(key:string,value:any,dontFire:boolean = false){\r\n\t\tif(this.values[key] == undefined){\r\n\t\t\t//add it\r\n\t\t\tif(typeof value == 'object'){\r\n\t\t\t\tthis.values[key] = new Scope(key,value,this.modal,this);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.values[key] = new Value(key,value,this);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(this.values[key] instanceof Value){\r\n\t\t\tthis.values[key].setValue(value);\r\n\t\t}\r\n\t\telse if(this.values[key] instanceof Scope){\r\n\t\t\tthis.values[key].setKeys(value);\r\n\t\t}\r\n\t\tif(!dontFire) this.update();\r\n\t}\r\n\r\n\tpublic setKeys(keys:any,dontFire:boolean = false){\r\n\t\tfor (var i in keys) {\r\n\t\t\tthis.setKey(i,keys[i],true);\r\n\t\t};\r\n\t\tif(!dontFire) this.update();\r\n\t}\r\n\r\n\tpublic removeKey(key:string,dontFire:boolean = false){\r\n\t\tthis.values[key].dispose();\r\n\t\tdelete this.values[key];\r\n\t\tif(!dontFire) this.emit('change',this);\r\n\t}\r\n\r\n\tpublic updateKey(key:string, value:any){ //update key on modal object\r\n\t\tthis.object[key] = value;\r\n\t}\r\n\tpublic updateKeys(keys:any){ //update key on modal object\r\n\t\tfor(var i in keys){\r\n\t\t\tthis.updateKey(i,keys[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic update(){\r\n\t\tthis.emit('change',this.object);\r\n\t}\r\n\r\n\tprivate objectChange(data:any){\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tif(data[i].name == '_bindings') continue;\r\n\r\n\t\t\tswitch(data[i].type){\r\n\t\t\t\tcase 'add':\r\n\t\t\t\t\tthis.setKey(data[i].name,data[i].object[data[i].name],true);\r\n\t\t\t\t\tthis.update();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'update':\r\n\t\t\t\t\tthis.setKey(data[i].name,data[i].object[data[i].name],true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'delete':\r\n\t\t\t\t\tthis.removeKey(data[i].name,true);\r\n\t\t\t\t\tthis.update();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// this.update(); dont update at end, only update if a key is delete/added\r\n\t}\r\n\r\n\tpublic emit(event: string, data: any = undefined,direction: string = ''){\r\n\t\tsuper.emit(event, data);\r\n\r\n\t\tswitch(direction){\r\n\t\t\tcase 'down':\r\n\t\t\t\tfor(var i in this.values){\r\n\t\t\t\t\tif(this.values[i] instanceof Scope){\r\n\t\t\t\t\t\tthis.values[i].emit(event, data, direction);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.values[i].emit(event, data);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'up':\r\n\t\t\t\tif(this.parent){\r\n\t\t\t\t\tthis.parent.emit(event, data, direction);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nimport Modal from './Modal';\r\nimport Value from './Value';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Scope.ts","import EventEmiter from './EventEmiter';\r\n\r\nexport default class Value extends EventEmiter {\r\n\tconstructor(public key: string = '', public value: any, public parent: Scope){\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic dispose(){\r\n\r\n\t}\r\n\r\n\tpublic setValue(value:any):any{\r\n\t\tthis.value = value;\r\n\t\tthis.update()\r\n\t\treturn this.value;\r\n\t}\r\n\r\n\tpublic updateValue(value:any){\r\n\t\tthis.parent.updateKey(this.key, value);\r\n\t}\r\n\r\n\t/**\r\n\t * fires the change evnet\r\n\t */\r\n\tpublic update(){\r\n\t\tthis.emit('change', this.value);\r\n\t}\r\n}\r\n\r\nimport Scope from './Scope';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Value.ts","export default class EventEmiter {\r\n\t/**\r\n\t\tan array of event listeners\\\r\n\t\t@member\r\n\t\t@private\r\n\t\t@type {Object[]}\r\n\t*/\r\n\tprivate events: Object = {};\r\n\r\n\t/**\r\n\t\t@constructs EventEmiter\r\n\t*/\r\n\tconstructor() {\r\n\t}\r\n\r\n\t/**\r\n\t\tbinds a listener to an event\r\n\t\t@public\r\n\t\t@param {string} event\r\n\t\t@param {function} listener\r\n\t\t@param {Object} [ctx] - the object to run the call back on\r\n\t*/\r\n\tpublic on(event: string, fn: Function, ctx: any = undefined) {\r\n\t\tif (!this.events[event]) {\r\n\t\t\tthis.events[event] = [];\r\n\t\t}\r\n\t\tif (ctx) fn = fn.bind(ctx);\r\n\t\tthis.events[event].push(fn);\r\n\t}\r\n\r\n\t/**\r\n\t\tunbinds a listener from an event\r\n\t\t@public\r\n\t\t@param {string} event\r\n\t\t@param {function} listener\r\n\t*/\r\n\tpublic off(event: string, fn: Function) {\r\n\t\tif (!this.events[event]) {\r\n\t\t\tthis.events[event] = [];\r\n\t\t}\r\n\t\tif (this.events[event].indexOf(fn) !== -1) {\r\n\t\t\tthis.events[event].splice(this.events[event].indexOf(fn), 1);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tbinds a listener that is only called once to an event\r\n\t\t@public\r\n\t\t@param {string} event\r\n\t\t@param {function} listener\r\n\t\t@param {Object} [ctx] - the object to run the call back on\r\n\t*/\r\n\tpublic once(event: string, fn: Function, ctx: any = undefined) {\r\n\t\tthis.on(event, function(event, _this) {\r\n\t\t\tif (fn) fn();\r\n\t\t\tthis.off(event, _this);\r\n\t\t}.bind(this), ctx);\r\n\t}\r\n\r\n\t/**\r\n\t\tfires an event\r\n\t\t@public\r\n\t\t@param {string} event\r\n\t\t@param {*} [data]\r\n\t*/\r\n\tpublic emit(event: string, data: any = undefined) {\r\n\t\tif (!this.events[event]) {\r\n\t\t\tthis.events[event] = [];\r\n\t\t}\r\n\t\tfor (var i = 0; i < this.events[event].length; i++) {\r\n\t\t\tthis.events[event][i](data);\r\n\t\t};\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/EventEmiter.ts","/*!\r\n * Object.observe polyfill - v0.2.4\r\n * by Massimo Artizzu (MaxArt2501)\r\n *\r\n * https://github.com/MaxArt2501/object-observe\r\n *\r\n * Licensed under the MIT License\r\n * See LICENSE for details\r\n */\r\n\r\n// Some type definitions\r\n/**\r\n * This represents the data relative to an observed object\r\n * @typedef  {Object}                     ObjectData\r\n * @property {Map<Handler, HandlerData>}  handlers\r\n * @property {String[]}                   properties\r\n * @property {*[]}                        values\r\n * @property {Descriptor[]}               descriptors\r\n * @property {Notifier}                   notifier\r\n * @property {Boolean}                    frozen\r\n * @property {Boolean}                    extensible\r\n * @property {Object}                     proto\r\n */\r\n/**\r\n * Function definition of a handler\r\n * @callback Handler\r\n * @param {ChangeRecord[]}                changes\r\n*/\r\n/**\r\n * This represents the data relative to an observed object and one of its\r\n * handlers\r\n * @typedef  {Object}                     HandlerData\r\n * @property {Map<Object, ObservedData>}  observed\r\n * @property {ChangeRecord[]}             changeRecords\r\n */\r\n/**\r\n * @typedef  {Object}                     ObservedData\r\n * @property {String[]}                   acceptList\r\n * @property {ObjectData}                 data\r\n*/\r\n/**\r\n * Type definition for a change. Any other property can be added using\r\n * the notify() or performChange() methods of the notifier.\r\n * @typedef  {Object}                     ChangeRecord\r\n * @property {String}                     type\r\n * @property {Object}                     object\r\n * @property {String}                     [name]\r\n * @property {*}                          [oldValue]\r\n * @property {Number}                     [index]\r\n */\r\n/**\r\n * Type definition for a notifier (what Object.getNotifier returns)\r\n * @typedef  {Object}                     Notifier\r\n * @property {Function}                   notify\r\n * @property {Function}                   performChange\r\n */\r\n/**\r\n * Function called with Notifier.performChange. It may optionally return a\r\n * ChangeRecord that gets automatically notified, but `type` and `object`\r\n * properties are overridden.\r\n * @callback Performer\r\n * @returns {ChangeRecord|undefined}\r\n */\r\n\r\nObject.observe || (function(O, A, root, _undefined) {\r\n    \"use strict\";\r\n\r\n        /**\r\n         * Relates observed objects and their data\r\n         * @type {Map<Object, ObjectData}\r\n         */\r\n    var observed,\r\n        /**\r\n         * List of handlers and their data\r\n         * @type {Map<Handler, Map<Object, HandlerData>>}\r\n         */\r\n        handlers,\r\n\r\n        defaultAcceptList = [ \"add\", \"update\", \"delete\", \"reconfigure\", \"setPrototype\", \"preventExtensions\" ];\r\n\r\n    // Functions for internal usage\r\n\r\n        /**\r\n         * Checks if the argument is an Array object. Polyfills Array.isArray.\r\n         * @function isArray\r\n         * @param {?*} object\r\n         * @returns {Boolean}\r\n         */\r\n    var isArray = A.isArray || (function(toString) {\r\n            return function (object) { return toString.call(object) === \"[object Array]\"; };\r\n        })(O.prototype.toString),\r\n\r\n        /**\r\n         * Returns the index of an item in a collection, or -1 if not found.\r\n         * Uses the generic Array.indexOf or Array.prototype.indexOf if available.\r\n         * @function inArray\r\n         * @param {Array} array\r\n         * @param {*} pivot           Item to look for\r\n         * @param {Number} [start=0]  Index to start from\r\n         * @returns {Number}\r\n         */\r\n        inArray = A.prototype.indexOf ? A.indexOf || function(array, pivot, start) {\r\n            return A.prototype.indexOf.call(array, pivot, start);\r\n        } : function(array, pivot, start) {\r\n            for (var i = start || 0; i < array.length; i++)\r\n                if (array[i] === pivot)\r\n                    return i;\r\n            return -1;\r\n        },\r\n\r\n        /**\r\n         * Returns an instance of Map, or a Map-like object is Map is not\r\n         * supported or doesn't support forEach()\r\n         * @function createMap\r\n         * @returns {Map}\r\n         */\r\n        createMap = root.Map === _undefined || !Map.prototype.forEach ? function() {\r\n            // Lightweight shim of Map. Lacks clear(), entries(), keys() and\r\n            // values() (the last 3 not supported by IE11, so can't use them),\r\n            // it doesn't handle the constructor's argument (like IE11) and of\r\n            // course it doesn't support for...of.\r\n            // Chrome 31-35 and Firefox 13-24 have a basic support of Map, but\r\n            // they lack forEach(), so their native implementation is bad for\r\n            // this polyfill. (Chrome 36+ supports Object.observe.)\r\n            var keys = [], values = [];\r\n\r\n            return {\r\n                size: 0,\r\n                has: function(key) { return inArray(keys, key) > -1; },\r\n                get: function(key) { return values[inArray(keys, key)]; },\r\n                set: function(key, value) {\r\n                    var i = inArray(keys, key);\r\n                    if (i === -1) {\r\n                        keys.push(key);\r\n                        values.push(value);\r\n                        this.size++;\r\n                    } else values[i] = value;\r\n                },\r\n                \"delete\": function(key) {\r\n                    var i = inArray(keys, key);\r\n                    if (i > -1) {\r\n                        keys.splice(i, 1);\r\n                        values.splice(i, 1);\r\n                        this.size--;\r\n                    }\r\n                },\r\n                forEach: function(callback/*, thisObj*/) {\r\n                    for (var i = 0; i < keys.length; i++)\r\n                        callback.call(arguments[1], values[i], keys[i], this);\r\n                }\r\n            };\r\n        } : function() { return new Map(); },\r\n\r\n        /**\r\n         * Simple shim for Object.getOwnPropertyNames when is not available\r\n         * Misses checks on object, don't use as a replacement of Object.keys/getOwnPropertyNames\r\n         * @function getProps\r\n         * @param {Object} object\r\n         * @returns {String[]}\r\n         */\r\n        getProps = O.getOwnPropertyNames ? (function() {\r\n            var func = O.getOwnPropertyNames;\r\n            try {\r\n                arguments.callee;\r\n            } catch (e) {\r\n                // Strict mode is supported\r\n\r\n                // In strict mode, we can't access to \"arguments\", \"caller\" and\r\n                // \"callee\" properties of functions. Object.getOwnPropertyNames\r\n                // returns [ \"prototype\", \"length\", \"name\" ] in Firefox; it returns\r\n                // \"caller\" and \"arguments\" too in Chrome and in Internet\r\n                // Explorer, so those values must be filtered.\r\n                var avoid = (func(inArray).join(\" \") + \" \").replace(/prototype |length |name /g, \"\").slice(0, -1).split(\" \");\r\n                if (avoid.length) func = function(object) {\r\n                    var props = O.getOwnPropertyNames(object);\r\n                    if (typeof object === \"function\")\r\n                        for (var i = 0, j; i < avoid.length;)\r\n                            if ((j = inArray(props, avoid[i++])) > -1)\r\n                                props.splice(j, 1);\r\n\r\n                    return props;\r\n                };\r\n            }\r\n            return func;\r\n        })() : function(object) {\r\n            // Poor-mouth version with for...in (IE8-)\r\n            var props = [], prop, hop;\r\n            if (\"hasOwnProperty\" in object) {\r\n                for (prop in object)\r\n                    if (object.hasOwnProperty(prop))\r\n                        props.push(prop);\r\n            } else {\r\n                hop = O.hasOwnProperty;\r\n                for (prop in object)\r\n                    if (hop.call(object, prop))\r\n                        props.push(prop);\r\n            }\r\n\r\n            // Inserting a common non-enumerable property of arrays\r\n            if (isArray(object))\r\n                props.push(\"length\");\r\n\r\n            return props;\r\n        },\r\n\r\n        /**\r\n         * Return the prototype of the object... if defined.\r\n         * @function getPrototype\r\n         * @param {Object} object\r\n         * @returns {Object}\r\n         */\r\n        getPrototype = O.getPrototypeOf,\r\n\r\n        /**\r\n         * Return the descriptor of the object... if defined.\r\n         * IE8 supports a (useless) Object.getOwnPropertyDescriptor for DOM\r\n         * nodes only, so defineProperties is checked instead.\r\n         * @function getDescriptor\r\n         * @param {Object} object\r\n         * @param {String} property\r\n         * @returns {Descriptor}\r\n         */\r\n        getDescriptor = O.defineProperties && O.getOwnPropertyDescriptor,\r\n\r\n        /**\r\n         * Sets up the next check and delivering iteration, using\r\n         * requestAnimationFrame or a (close) polyfill.\r\n         * @function nextFrame\r\n         * @param {function} func\r\n         * @returns {number}\r\n         */\r\n        nextFrame = root.requestAnimationFrame || root.webkitRequestAnimationFrame || (function() {\r\n            var initial = +new Date,\r\n                last = initial;\r\n            return function(func) {\r\n                return setTimeout(function() {\r\n                    func((last = +new Date) - initial);\r\n                }, 17);\r\n            };\r\n        })(),\r\n\r\n        /**\r\n         * Sets up the observation of an object\r\n         * @function doObserve\r\n         * @param {Object} object\r\n         * @param {Handler} handler\r\n         * @param {String[]} [acceptList]\r\n         */\r\n        doObserve = function(object, handler, acceptList) {\r\n            var data = observed.get(object);\r\n\r\n            if (data) {\r\n                performPropertyChecks(data, object);\r\n                setHandler(object, data, handler, acceptList);\r\n            } else {\r\n                data = createObjectData(object);\r\n                setHandler(object, data, handler, acceptList);\r\n\r\n                if (observed.size === 1)\r\n                    // Let the observation begin!\r\n                    nextFrame(runGlobalLoop);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates the initial data for an observed object\r\n         * @function createObjectData\r\n         * @param {Object} object\r\n         */\r\n        createObjectData = function(object, data) {\r\n            var props = getProps(object),\r\n                values = [], descs, i = 0,\r\n                data = {\r\n                    handlers: createMap(),\r\n                    frozen: O.isFrozen ? O.isFrozen(object) : false,\r\n                    extensible: O.isExtensible ? O.isExtensible(object) : true,\r\n                    proto: getPrototype && getPrototype(object),\r\n                    properties: props,\r\n                    values: values,\r\n                    notifier: retrieveNotifier(object, data)\r\n                };\r\n\r\n            if (getDescriptor) {\r\n                descs = data.descriptors = [];\r\n                while (i < props.length) {\r\n                    descs[i] = getDescriptor(object, props[i]);\r\n                    values[i] = object[props[i++]];\r\n                }\r\n            } else while (i < props.length)\r\n                values[i] = object[props[i++]];\r\n\r\n            observed.set(object, data);\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Performs basic property value change checks on an observed object\r\n         * @function performPropertyChecks\r\n         * @param {ObjectData} data\r\n         * @param {Object} object\r\n         * @param {String} [except]  Doesn't deliver the changes to the\r\n         *                           handlers that accept this type\r\n         */\r\n        performPropertyChecks = (function() {\r\n            var updateCheck = getDescriptor ? function(object, data, idx, except, descr) {\r\n                var key = data.properties[idx],\r\n                    value = object[key],\r\n                    ovalue = data.values[idx],\r\n                    odesc = data.descriptors[idx];\r\n\r\n                if (\"value\" in descr && (ovalue === value\r\n                        ? ovalue === 0 && 1/ovalue !== 1/value\r\n                        : ovalue === ovalue || value === value)) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"update\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.values[idx] = value;\r\n                }\r\n                if (odesc.configurable && (!descr.configurable\r\n                        || descr.writable !== odesc.writable\r\n                        || descr.enumerable !== odesc.enumerable\r\n                        || descr.get !== odesc.get\r\n                        || descr.set !== odesc.set)) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"reconfigure\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.descriptors[idx] = descr;\r\n                }\r\n            } : function(object, data, idx, except) {\r\n                var key = data.properties[idx],\r\n                    value = object[key],\r\n                    ovalue = data.values[idx];\r\n\r\n                if (ovalue === value ? ovalue === 0 && 1/ovalue !== 1/value\r\n                        : ovalue === ovalue || value === value) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"update\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.values[idx] = value;\r\n                }\r\n            };\r\n\r\n            // Checks if some property has been deleted\r\n            var deletionCheck = getDescriptor ? function(object, props, proplen, data, except) {\r\n                var i = props.length, descr;\r\n                while (proplen && i--) {\r\n                    if (props[i] !== null) {\r\n                        descr = getDescriptor(object, props[i]);\r\n                        proplen--;\r\n\r\n                        // If there's no descriptor, the property has really\r\n                        // been deleted; otherwise, it's been reconfigured so\r\n                        // that's not enumerable anymore\r\n                        if (descr) updateCheck(object, data, i, except, descr);\r\n                        else {\r\n                            addChangeRecord(object, data, {\r\n                                name: props[i],\r\n                                type: \"delete\",\r\n                                object: object,\r\n                                oldValue: data.values[i]\r\n                            }, except);\r\n                            data.properties.splice(i, 1);\r\n                            data.values.splice(i, 1);\r\n                            data.descriptors.splice(i, 1);\r\n                        }\r\n                    }\r\n                }\r\n            } : function(object, props, proplen, data, except) {\r\n                var i = props.length;\r\n                while (proplen && i--)\r\n                    if (props[i] !== null) {\r\n                        addChangeRecord(object, data, {\r\n                            name: props[i],\r\n                            type: \"delete\",\r\n                            object: object,\r\n                            oldValue: data.values[i]\r\n                        }, except);\r\n                        data.properties.splice(i, 1);\r\n                        data.values.splice(i, 1);\r\n                        proplen--;\r\n                    }\r\n            };\r\n\r\n            return function(data, object, except) {\r\n                if (!data.handlers.size || data.frozen) return;\r\n\r\n                var props, proplen, keys,\r\n                    values = data.values,\r\n                    descs = data.descriptors,\r\n                    i = 0, idx,\r\n                    key, value,\r\n                    proto, descr;\r\n\r\n                // If the object isn't extensible, we don't need to check for new\r\n                // or deleted properties\r\n                if (data.extensible) {\r\n\r\n                    props = data.properties.slice();\r\n                    proplen = props.length;\r\n                    keys = getProps(object);\r\n\r\n                    if (descs) {\r\n                        while (i < keys.length) {\r\n                            key = keys[i++];\r\n                            idx = inArray(props, key);\r\n                            descr = getDescriptor(object, key);\r\n\r\n                            if (idx === -1) {\r\n                                addChangeRecord(object, data, {\r\n                                    name: key,\r\n                                    type: \"add\",\r\n                                    object: object\r\n                                }, except);\r\n                                data.properties.push(key);\r\n                                values.push(object[key]);\r\n                                descs.push(descr);\r\n                            } else {\r\n                                props[idx] = null;\r\n                                proplen--;\r\n                                updateCheck(object, data, idx, except, descr);\r\n                            }\r\n                        }\r\n                        deletionCheck(object, props, proplen, data, except);\r\n\r\n                        if (!O.isExtensible(object)) {\r\n                            data.extensible = false;\r\n                            addChangeRecord(object, data, {\r\n                                type: \"preventExtensions\",\r\n                                object: object\r\n                            }, except);\r\n\r\n                            data.frozen = O.isFrozen(object);\r\n                        }\r\n                    } else {\r\n                        while (i < keys.length) {\r\n                            key = keys[i++];\r\n                            idx = inArray(props, key);\r\n                            value = object[key];\r\n\r\n                            if (idx === -1) {\r\n                                addChangeRecord(object, data, {\r\n                                    name: key,\r\n                                    type: \"add\",\r\n                                    object: object\r\n                                }, except);\r\n                                data.properties.push(key);\r\n                                values.push(value);\r\n                            } else {\r\n                                props[idx] = null;\r\n                                proplen--;\r\n                                updateCheck(object, data, idx, except);\r\n                            }\r\n                        }\r\n                        deletionCheck(object, props, proplen, data, except);\r\n                    }\r\n\r\n                } else if (!data.frozen) {\r\n\r\n                    // If the object is not extensible, but not frozen, we just have\r\n                    // to check for value changes\r\n                    for (; i < props.length; i++) {\r\n                        key = props[i];\r\n                        updateCheck(object, data, i, except, getDescriptor(object, key));\r\n                    }\r\n\r\n                    if (O.isFrozen(object))\r\n                        data.frozen = true;\r\n                }\r\n\r\n                if (getPrototype) {\r\n                    proto = getPrototype(object);\r\n                    if (proto !== data.proto) {\r\n                        addChangeRecord(object, data, {\r\n                            type: \"setPrototype\",\r\n                            name: \"__proto__\",\r\n                            object: object,\r\n                            oldValue: data.proto\r\n                        });\r\n                        data.proto = proto;\r\n                    }\r\n                }\r\n            };\r\n        })(),\r\n\r\n        /**\r\n         * Sets up the main loop for object observation and change notification\r\n         * It stops if no object is observed.\r\n         * @function runGlobalLoop\r\n         */\r\n        runGlobalLoop = function() {\r\n            if (observed.size) {\r\n                observed.forEach(performPropertyChecks);\r\n                handlers.forEach(deliverHandlerRecords);\r\n                nextFrame(runGlobalLoop);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Deliver the change records relative to a certain handler, and resets\r\n         * the record list.\r\n         * @param {HandlerData} hdata\r\n         * @param {Handler} handler\r\n         */\r\n        deliverHandlerRecords = function(hdata, handler) {\r\n            var records = hdata.changeRecords;\r\n            if (records.length) {\r\n                hdata.changeRecords = [];\r\n                handler(records);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns the notifier for an object - whether it's observed or not\r\n         * @function retrieveNotifier\r\n         * @param {Object} object\r\n         * @param {ObjectData} [data]\r\n         * @returns {Notifier}\r\n         */\r\n        retrieveNotifier = function(object, data) {\r\n            if (arguments.length < 2)\r\n                data = observed.get(object);\r\n\r\n            /** @type {Notifier} */\r\n            return data && data.notifier || {\r\n                /**\r\n                 * @method notify\r\n                 * @see http://arv.github.io/ecmascript-object-observe/#notifierprototype._notify\r\n                 * @memberof Notifier\r\n                 * @param {ChangeRecord} changeRecord\r\n                 */\r\n                notify: function(changeRecord) {\r\n                    changeRecord.type; // Just to check the property is there...\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    var data = observed.get(object);\r\n                    if (data) {\r\n                        var recordCopy = { object: object }, prop;\r\n                        for (prop in changeRecord)\r\n                            if (prop !== \"object\")\r\n                                recordCopy[prop] = changeRecord[prop];\r\n                        addChangeRecord(object, data, recordCopy);\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * @method performChange\r\n                 * @see http://arv.github.io/ecmascript-object-observe/#notifierprototype_.performchange\r\n                 * @memberof Notifier\r\n                 * @param {String} changeType\r\n                 * @param {Performer} func     The task performer\r\n                 * @param {*} [thisObj]        Used to set `this` when calling func\r\n                 */\r\n                performChange: function(changeType, func/*, thisObj*/) {\r\n                    if (typeof changeType !== \"string\")\r\n                        throw new TypeError(\"Invalid non-string changeType\");\r\n\r\n                    if (typeof func !== \"function\")\r\n                        throw new TypeError(\"Cannot perform non-function\");\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    var data = observed.get(object),\r\n                        prop, changeRecord,\r\n                        thisObj = arguments[2],\r\n                        result = thisObj === _undefined ? func() : func.call(thisObj);\r\n\r\n                    data && performPropertyChecks(data, object, changeType);\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    if (data && result && typeof result === \"object\") {\r\n                        changeRecord = { object: object, type: changeType };\r\n                        for (prop in result)\r\n                            if (prop !== \"object\" && prop !== \"type\")\r\n                                changeRecord[prop] = result[prop];\r\n                        addChangeRecord(object, data, changeRecord);\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Register (or redefines) an handler in the collection for a given\r\n         * object and a given type accept list.\r\n         * @function setHandler\r\n         * @param {Object} object\r\n         * @param {ObjectData} data\r\n         * @param {Handler} handler\r\n         * @param {String[]} acceptList\r\n         */\r\n        setHandler = function(object, data, handler, acceptList) {\r\n            var hdata = handlers.get(handler);\r\n            if (!hdata)\r\n                handlers.set(handler, hdata = {\r\n                    observed: createMap(),\r\n                    changeRecords: []\r\n                });\r\n            hdata.observed.set(object, {\r\n                acceptList: acceptList.slice(),\r\n                data: data\r\n            });\r\n            data.handlers.set(handler, hdata);\r\n        },\r\n\r\n        /**\r\n         * Adds a change record in a given ObjectData\r\n         * @function addChangeRecord\r\n         * @param {Object} object\r\n         * @param {ObjectData} data\r\n         * @param {ChangeRecord} changeRecord\r\n         * @param {String} [except]\r\n         */\r\n        addChangeRecord = function(object, data, changeRecord, except) {\r\n            data.handlers.forEach(function(hdata) {\r\n                var acceptList = hdata.observed.get(object).acceptList;\r\n                // If except is defined, Notifier.performChange has been\r\n                // called, with except as the type.\r\n                // All the handlers that accepts that type are skipped.\r\n                if ((typeof except !== \"string\"\r\n                        || inArray(acceptList, except) === -1)\r\n                        && inArray(acceptList, changeRecord.type) > -1)\r\n                    hdata.changeRecords.push(changeRecord);\r\n            });\r\n        };\r\n\r\n    observed = createMap();\r\n    handlers = createMap();\r\n\r\n    /**\r\n     * @function Object.observe\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.observe\r\n     * @param {Object} object\r\n     * @param {Handler} handler\r\n     * @param {String[]} [acceptList]\r\n     * @throws {TypeError}\r\n     * @returns {Object}               The observed object\r\n     */\r\n    O.observe = function observe(object, handler, acceptList) {\r\n        if (!object || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.observe cannot observe non-object\");\r\n\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.observe cannot deliver to non-function\");\r\n\r\n        if (O.isFrozen && O.isFrozen(handler))\r\n            throw new TypeError(\"Object.observe cannot deliver to a frozen function object\");\r\n\r\n        if (acceptList === _undefined)\r\n            acceptList = defaultAcceptList;\r\n        else if (!acceptList || typeof acceptList !== \"object\")\r\n            throw new TypeError(\"Third argument to Object.observe must be an array of strings.\");\r\n\r\n        doObserve(object, handler, acceptList);\r\n\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * @function Object.unobserve\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.unobserve\r\n     * @param {Object} object\r\n     * @param {Handler} handler\r\n     * @throws {TypeError}\r\n     * @returns {Object}         The given object\r\n     */\r\n    O.unobserve = function unobserve(object, handler) {\r\n        if (object === null || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.unobserve cannot unobserve non-object\");\r\n\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.unobserve cannot deliver to non-function\");\r\n\r\n        var hdata = handlers.get(handler), odata;\r\n\r\n        if (hdata && (odata = hdata.observed.get(object))) {\r\n            hdata.observed.forEach(function(odata, object) {\r\n                performPropertyChecks(odata.data, object);\r\n            });\r\n            nextFrame(function() {\r\n                deliverHandlerRecords(hdata, handler);\r\n            });\r\n\r\n            // In Firefox 13-18, size is a function, but createMap should fall\r\n            // back to the shim for those versions\r\n            if (hdata.observed.size === 1 && hdata.observed.has(object))\r\n                handlers[\"delete\"](handler);\r\n            else hdata.observed[\"delete\"](object);\r\n\r\n            if (odata.data.handlers.size === 1)\r\n                observed[\"delete\"](object);\r\n            else odata.data.handlers[\"delete\"](handler);\r\n        }\r\n\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * @function Object.getNotifier\r\n     * @see http://arv.github.io/ecmascript-object-observe/#GetNotifier\r\n     * @param {Object} object\r\n     * @throws {TypeError}\r\n     * @returns {Notifier}\r\n     */\r\n    O.getNotifier = function getNotifier(object) {\r\n        if (object === null || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.getNotifier cannot getNotifier non-object\");\r\n\r\n        if (O.isFrozen && O.isFrozen(object)) return null;\r\n\r\n        return retrieveNotifier(object);\r\n    };\r\n\r\n    /**\r\n     * @function Object.deliverChangeRecords\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.deliverChangeRecords\r\n     * @see http://arv.github.io/ecmascript-object-observe/#DeliverChangeRecords\r\n     * @param {Handler} handler\r\n     * @throws {TypeError}\r\n     */\r\n    O.deliverChangeRecords = function deliverChangeRecords(handler) {\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.deliverChangeRecords cannot deliver to non-function\");\r\n\r\n        var hdata = handlers.get(handler);\r\n        if (hdata) {\r\n            hdata.observed.forEach(function(odata, object) {\r\n                performPropertyChecks(odata.data, object);\r\n            });\r\n            deliverHandlerRecords(hdata, handler);\r\n        }\r\n    };\r\n\r\n})(Object, Array, this);\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/object.observe/dist/object-observe.js\n// module id = 5\n// module chunks = 0","import 'object.observe';\r\n\r\nexport default class Modal {\r\n\t/** ths scope for this modal */\r\n\tpublic scope: Scope;\r\n\t/** an array of bindings for this modal */\r\n\tpublic bindings: Binding[] = [];\r\n\tpublic node: Node;\r\n\r\n\tprivate observer:MutationObserver;\r\n\r\n\tpublic options: any = {\r\n\t\tprefix: 'bind',\r\n\t\tinlineDelimiters: ['{','}'],\r\n\t\texcludedElements: {\r\n\t\t\tscript: true,\r\n\t\t\tlink: true,\r\n\t\t\tmeta: true,\r\n\t\t\tstyle: true\r\n\t\t}\r\n\t};\r\n\r\n\tconstructor(public object: Object, options: any = {}, node: Node = document.body) {\r\n\t\tthis.scope = new Scope('', object, this);\r\n\t\tthis.node = node;\r\n\t\tfor (var i in options) {\r\n\t\t\tthis.options[i] = options[i];\r\n\t\t}\r\n\r\n\t\tthis.observer = new MutationObserver(this.ElementChange.bind(this));\r\n\t}\r\n\r\n\tpublic applyBindings(node: Node = undefined) {\r\n\t\t//remove old event\r\n\t\tthis.observer.disconnect();\r\n\r\n\t\tif (node) this.node = node;\r\n\r\n\t\tthis.bindings = this.buildBindings();\r\n\r\n\t\t// watch the new node\r\n\t\tthis.observer.observe(this.node, {\r\n\t\t\tchildList: true\r\n\t\t});\r\n\t}\r\n\r\n\t/** loop through this.nodes children and create the bindings */\r\n\tprivate buildBindings(node: Node = this.node, scope: Scope = node.__scope__ || this.scope) { //loop through this.nodes children and create the bindings\r\n\t\tvar bindingsCreated: Binding[] = [];\r\n\r\n\t\tif (node.nodeName.toLowerCase() in this.options.excludedElements) return;\r\n\r\n\t\t//remove old bindings\r\n\t\tif (node.__bindings__) {\r\n\t\t\tfor (var i = 0; i < node.__bindings__.length; i++) {\r\n\t\t\t\tnode.__bindings__[i].unbind();\r\n\t\t\t};\r\n\t\t\tnode.__bindings__ = [];\r\n\t\t}\r\n\r\n\t\t//set scope\r\n\t\tnode.__scope__ = node.__scope__ || scope;\r\n\t\tif(node.parentNode){\r\n\t\t\tnode.__addedScope__ = extendNew(<Node>node.parentNode.__addedScope__ || {}, node.__addedScope__ || {});\r\n\t\t}\r\n\r\n\t\tbindingsCreated = bindingsCreated.concat(this.createBindings(node)); //createBindings handles setting __bindings__\r\n\r\n\t\t//if node was a text node then it will not have any children even though createInlineBindings splits it into mutiple textNodes\r\n\r\n\t\t//loop through and bind children\r\n\t\tfor (var i = 0; i < node.childNodes.length; i++) {\r\n\t\t\tvar childNode: Node = node.childNodes[i];\r\n\r\n\t\t\tif (childNode.nodeName.toLowerCase() in this.options.excludedElements) continue;\r\n\r\n\t\t\tbindingsCreated = bindingsCreated.concat(this.buildBindings(childNode, childNode.__scope__ || scope));\r\n\t\t};\r\n\r\n\t\treturn bindingsCreated;\r\n\t}\r\n\r\n\tprivate createBindings(node: Node): Binding[]{\r\n\t\tvar bindingsCreated: Binding[] = [];\r\n\t\tswitch(node.nodeType){\r\n\t\t\tcase node.ELEMENT_NODE:\r\n\t\t\t\tbindingsCreated = this.createAttrBindings(<HTMLElement> node);\r\n\t\t\t\tbreak;\r\n\t\t\tcase node.TEXT_NODE:\r\n\t\t\t\tbindingsCreated = this.createInlineBindings(<Text> node);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn bindingsCreated;\r\n\t}\r\n\r\n\tprivate createAttrBindings(node: HTMLElement): Binding[] {\r\n\t\tvar bindingsCreated = [];\r\n\t\tvar attrs: NodeList = node.attributes;\r\n\t\tvar types: any[] = [];\r\n\r\n\t\t//find the bindings\r\n\t\tfor (var i = 0; i < attrs.length; i++) {\r\n\t\t\tvar attr: Attr = <Attr>attrs.item(i);\r\n\t\t\tvar _types: string[] = attr.name.split('-');\r\n\r\n\t\t\tif (_types[0] == this.options.prefix) {\r\n\t\t\t\t_types.splice(0,1); //remove the prefix\r\n\t\t\t\tvar fn = getBinding(_types[0]);\r\n\t\t\t\tif(fn){\r\n\t\t\t\t\ttypes.push({\r\n\t\t\t\t\t\ttypes: _types,\r\n\t\t\t\t\t\tattr: attr,\r\n\t\t\t\t\t\tconstructor: fn\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tconsole.error('cant find binding: ' + attr.name);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t//sort by priority\r\n\t\ttypes.sort(function(a,b){\r\n\t\t\tif(a.constructor.priority < b.constructor.priority){\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\telse if(a.constructor.priority > b.constructor.priority){\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t//create the bindings\r\n\t\tfor (var i = 0; i < types.length; i++){\r\n\t\t\tvar t: any = types[i];\r\n\r\n\t\t\ttry{\r\n\t\t\t\tbindingsCreated.push(createBinding(t.types, node, t.attr.value));\r\n\t\t\t}\r\n\t\t\tcatch(e){\r\n\t\t\t\tconsole.error('failed to create binding: ' + t.attr.name);\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tnode.__bindings__ = bindingsCreated;\r\n\t\treturn bindingsCreated;\r\n\t}\r\n\r\n\tprivate createInlineBindings(node: Node): Binding[] {\r\n\t\tvar bindingsCreated = [];\r\n\t\tvar tokens: any[] = this.parseInlineBindings(node.nodeValue, this.options.inlineDelimiters);\r\n\r\n\t\tif (!(tokens.length === 1 && tokens[0].type === 'text')) {\r\n            for (var i = 0; i < tokens.length; i++) {\r\n                var token: any = tokens[i];\r\n                var textNode: Text = document.createTextNode(token.value);\r\n\r\n                //copy scopes\r\n                // textNode.__bindings__ = clone(node.__bindings__); dont clone the bindings array because no two nodes should have the same bindigns\r\n                textNode.__bindings__ = [];\r\n                textNode.__scope__ = node.__scope__;\r\n                textNode.__addedScope__ = clone(node.__addedScope__)\r\n\r\n                node.parentNode.insertBefore(textNode, node);\r\n                if (token.type === 'binding') {\r\n\t\t\t\t\tvar b: Binding = new InlineBinding(textNode);\r\n\t\t\t\t\ttextNode.__bindings__ = [b];\r\n                \tbindingsCreated.push(b)\r\n                }\r\n            }\r\n            node.parentNode.removeChild(node);\r\n        }\r\n\t\treturn bindingsCreated;\r\n\t}\r\n\r\n\tprivate parseInlineBindings(template: string, delimiters: string[]): any[]{\r\n\t\tvar index: number = 0,\r\n\t\t\tlastIndex: number = 0,\r\n\t\t\tlastToken,\r\n\t\t\tlength: number = template.length,\r\n\t\t\tsubstring: string,\r\n\t\t\ttokens: any = [],\r\n\t\t\tvalue;\r\n\t\twhile (lastIndex < length) {\r\n\t\t    index = template.indexOf(delimiters[0], lastIndex);\r\n\t\t    if (index < 0) {\r\n\t\t      \ttokens.push({\r\n\t\t        \ttype: 'text',\r\n\t\t        \tvalue: template.slice(lastIndex)\r\n\t\t      \t});\r\n\t\t      \tbreak;\r\n\t\t    }\r\n\t\t    else {\r\n\t\t      \tif (index > 0 && lastIndex < index) {\r\n\t\t        \ttokens.push({\r\n\t\t          \t\ttype: 'text',\r\n\t\t          \t\tvalue: template.slice(lastIndex, index)\r\n\t\t        \t});\r\n\t\t      \t}\r\n\t\t      \tlastIndex = index + delimiters[0].length;\r\n\t\t      \tindex = template.indexOf(delimiters[1], lastIndex);\r\n\t\t      \tif (index < 0) {\r\n\t\t        \tsubstring = template.slice(lastIndex - delimiters[1].length);\r\n\t\t        \tlastToken = tokens[tokens.length - 1];\r\n\t\t        \tif ((lastToken != null ? lastToken.type : void 0) === 'text') {\r\n\t\t          \t\tlastToken.value += substring;\r\n\t\t        \t}\r\n\t\t        \telse {\r\n\t\t          \t\ttokens.push({\r\n\t\t            \t\ttype: 'text',\r\n\t\t            \t\tvalue: substring\r\n\t\t          \t\t});\r\n\t\t        \t}\r\n\t\t        \tbreak;\r\n\t\t      \t}\r\n\t\t      \tvalue = template.slice(lastIndex, index).trim();\r\n\t\t      \ttokens.push({\r\n\t\t        \ttype: 'binding',\r\n\t\t        \tvalue: value\r\n\t\t      \t});\r\n\t\t      \tlastIndex = index + delimiters[1].length;\r\n\t\t    }\r\n\t\t}\r\n\t\treturn tokens;\r\n\t}\r\n\r\n\tprivate ElementChange(event:Event){\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tvar el: Node = <Node> event.target;\r\n\t\tif(el.nodeType !== 3){\r\n\t\t\tthis.buildBindings(el);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nimport Scope from './Scope';\r\nimport Binding from './Binding';\r\nimport {InlineBinding} from './Binding';\r\nimport * as bindingTypes from './bindingTypes';\r\nimport {extendNew, clone, createBinding, getBinding} from './utils';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Modal.ts","export default class Expression{\r\n\tpublic success: boolean = true;\r\n\tpublic value: any = undefined;\r\n\tpublic dependencies: any[] = [];\r\n\r\n\t/**\r\n\t\t@constructs Expression\r\n\t\t@param {node} node - the node to use for this expression\r\n\t\t@param {string} expression\r\n\t\t@param {Scope} scope\r\n\t*/\r\n\tconstructor(public node: Node, public expression:any, public scope:Scope){\r\n\r\n\t}\r\n\r\n\t/**\r\n\t\t@public\r\n\t*/\r\n\tpublic run():any{\r\n\t\tvar data: any = {\r\n\t\t\tvalue: undefined,\r\n\t\t\tsuccess: true,\r\n\t\t\terror: undefined\r\n\t\t}\r\n\t\tvar variables: any = {\r\n\t\t\t$node: this.node\r\n\t\t};\r\n\r\n\t\tvar funcString: string = 'new Function(\"variables\",\"addedScope\",\"', args = [];\r\n\t\tvar context = this.buildContext(this.scope).context;\r\n\t\targs.push(variables);\r\n\t\targs.push(this.node.__addedScope__ || {});\r\n\r\n\t\tfuncString += 'with(this){';\r\n\t\tfuncString += 'with(variables){';\r\n\t\tfuncString += 'with(addedScope){';\r\n\t\tfuncString += 'return ';\r\n\t\tfuncString += this.expression;\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '\")';\r\n\t\tvar func: Function = eval(funcString);\r\n\r\n\t\ttry{\r\n\t\t\tdata.value = func.apply(context,args);\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tdata.success = false;\r\n\t\t\tdata.error = e;\r\n\t\t}\r\n\r\n\t\tthis.value = data.value;\r\n\t\tthis.success = data.success;\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tpublic runOnScope(){\r\n\t\tvar data:any = {\r\n\t\t\tvalue: undefined,\r\n\t\t\tsuccess: false\r\n\t\t}\r\n\t\tvar _data = this.getDependencies();\r\n\t\tdata.value = _data.gets[_data.gets.length-1];\r\n\t\tdata.success = !!data.value;\r\n\t\treturn data;\r\n\t}\r\n\r\n\tpublic getDependencies(){\r\n\t\tvar data: any = {\r\n\t\t\tsuccess: true,\r\n\t\t\terror: undefined,\r\n\t\t\trequires: [],\r\n\t\t\tgets: [],\r\n\t\t\tsets: []\r\n\t\t}\r\n\t\tvar hidden: any = {\r\n\t\t\tconsole: {},\r\n\t\t\twindow: {},\r\n\t\t\tnavigator:{},\r\n\t\t\tlocalStorage: {},\r\n\t\t\tlocation: {},\r\n\t\t\talert: noop,\r\n\t\t\teval: noop\r\n\t\t}\r\n\r\n\t\tvar variables:any = {\r\n\t\t\t$node: this.node\r\n\t\t};\r\n\r\n\t\tvar funcString: string = 'new Function(\"hidden\",\"variables\",\"addedScope\",', args: any[] = [];\r\n\r\n\t\targs.push(hidden);\r\n\t\targs.push(variables);\r\n\t\targs.push(this.node.__addedScope__ || {});\r\n\r\n\t\t//build context\r\n\t\tvar context = this.buildContext(this.scope,data,true);\r\n\r\n\t\tfuncString += '\"';\r\n\t\tfuncString += 'with(this){';\r\n\t\tfuncString += 'with(hidden){';\r\n\t\tfuncString += 'with(variables){';\r\n\t\tfuncString += 'with(addedScope){';\r\n\t\tfuncString += 'return ';\r\n\t\tfuncString += this.expression;\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '}';\r\n\t\tfuncString += '\")';\r\n\t\tvar func: Function = eval(funcString);\r\n\r\n\t\ttry{\r\n\t\t\tfunc.apply(context.context,args);\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tdata.success = false;\r\n\t\t\tdata.error = e;\r\n\t\t}\r\n\r\n\t\tthis.dependencies = data.requires;\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tprivate buildContext(scope: Scope, requires: any = { requires: [], gets: [], sets: [] }, dontSet: boolean = false): any {\r\n\t\tvar object: any = (scope.object instanceof Array) ? [] : {};\r\n\t\tvar get: Function = function(scope, object, index, requires) {\r\n\t\t\tif (requires.gets.indexOf(scope.values[index]) == -1) {\r\n\t\t\t\trequires.requires.push(scope.values[index]);\r\n\t\t\t\trequires.gets.push(scope.values[index]);\r\n\t\t\t}\r\n\r\n\t\t\tif (scope.values[index] instanceof Scope) {\r\n\t\t\t\treturn this.buildContext(scope.values[index], requires, dontSet).context;\r\n\t\t\t}\r\n\t\t\telse if (scope.values[index] instanceof Value) {\r\n\t\t\t\tif (!(scope.values[index].value instanceof Function) || !dontSet) {\r\n\t\t\t\t\treturn scope.values[index].value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar set: Function = function(scope, object, index, requires, val) { //val is from the setter\r\n\t\t\trequires.requires.push(scope.values[index]);\r\n\t\t\trequires.sets.push(scope.values[index]);\r\n\r\n\t\t\tif (!dontSet) {\r\n\t\t\t\tscope.object[index] = val;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfor (var i in scope.values) {\r\n\t\t\tobject.__defineGetter__(i,get.bind(this,scope,object,i,requires))\r\n\t\t\tobject.__defineSetter__(i,set.bind(this,scope,object,i,requires))\r\n\t\t};\r\n\r\n\t\t//$parent\r\n\t\tif(scope.parent){\r\n\t\t\tobject.__defineGetter__('$parent',function(scope, object, requires, dontSet){\r\n\t\t\t\tif (!scope.parent) return;\r\n\r\n\t\t\t\tif(requires.gets.indexOf(scope.parent) == -1){\r\n\t\t\t\t\trequires.requires.push(scope.parent);\r\n\t\t\t\t\trequires.gets.push(scope.parent);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this.buildContext(scope.parent,requires,dontSet).context;\r\n\t\t\t}.bind(this,scope,object,requires,dontSet))\r\n\t\t}\r\n\t\telse{\r\n\t\t\tobject.$parent = undefined;\r\n\t\t}\r\n\r\n\t\t// $Modal\r\n\t\tif(scope.modal){\r\n\t\t\tobject.__defineGetter__('$modal',function(scope, object, requires, dontSet){\r\n\t\t\t\tif (!scope.modal) return;\r\n\r\n\t\t\t\tif(requires.gets.indexOf(scope.modal.scope) == -1){\r\n\t\t\t\t\trequires.requires.push(scope.modal.scope);\r\n\t\t\t\t\trequires.gets.push(scope.modal.scope);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this.buildContext(scope.modal.scope,requires,dontSet).context;\r\n\t\t\t}.bind(this,scope,object,requires,dontSet))\r\n\t\t}\r\n\t\telse{\r\n\t\t\tobject.$modal = undefined\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tcontext: object,\r\n\t\t\trequires: requires\r\n\t\t};\r\n\t}\r\n}\r\n\r\nimport Scope from './Scope';\r\nimport Value from './Value';\r\nimport {noop} from './utils';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Expression.ts","import AttrBinding from './bindings/attr';\r\nimport ClassBinding from './bindings/class';\r\nimport ClickBinding from './bindings/click';\r\nimport DisabledBinding from './bindings/disabled';\r\nimport EnabledBinding from './bindings/enabled';\r\nimport EventBinding from './bindings/event';\r\nimport ForeachBinding from './bindings/foreach';\r\nimport HiddenBinding from './bindings/hidden';\r\nimport HrefBinding from './bindings/href';\r\nimport HtmlBinding from './bindings/html';\r\nimport IfBinding from './bindings/if';\r\nimport IfnotBinding from './bindings/ifnot';\r\nimport InputBinding from './bindings/input';\r\nimport RepeatBinding from './bindings/repeat';\r\nimport SrcBinding from './bindings/src';\r\nimport StyleBinding from './bindings/style';\r\nimport SubmitBinding from './bindings/submit';\r\nimport TextBinding from './bindings/text';\r\nimport ValueBinding from './bindings/value';\r\nimport VisibleBinding from './bindings/visible';\r\nimport WithBinding from './bindings/with';\r\n\r\nexport {\r\n\tAttrBinding as attr,\r\n\tClassBinding as class,\r\n\tClickBinding as click,\r\n\tDisabledBinding as disabled,\r\n\tEnabledBinding as enabled,\r\n\tEventBinding as event,\r\n\tForeachBinding as foreach,\r\n\tHiddenBinding as hidden,\r\n\tHrefBinding as href,\r\n\tHtmlBinding as html,\r\n\tIfBinding as if,\r\n\tIfnotBinding as ifnot,\r\n\tInputBinding as input,\r\n\tRepeatBinding as repeat,\r\n\tSrcBinding as src,\r\n\tStyleBinding as style,\r\n\tSubmitBinding as submit,\r\n\tTextBinding as text,\r\n\tValueBinding as value,\r\n\tVisibleBinding as visible,\r\n\tWithBinding as with\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindingTypes.ts","import {OneWayBinding} from '../Binding';\r\nimport {setAttr} from '../utils';\r\n\r\nexport default class AttrBinding extends OneWayBinding{\r\n\tpublic static id: string = 'attr';\r\n\r\n\tconstructor(node: HTMLElement, expression: string, public attr: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tsetAttr(this.node, this.attr, this.expression.value);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/attr.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class ClassBinding extends OneWayBinding {\r\n\tpublic static id: string = 'class';\r\n\r\n\tconstructor(node: HTMLElement, expression: string, public bindClass: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(this.expression.value && !this.hasClass()){\r\n\t\t\tthis.addClass();\r\n\t\t}\r\n\t\telse if(this.hasClass()){\r\n\t\t\tthis.removeClass()\r\n\t\t}\r\n\t}\r\n\r\n\tprivate addClass(){\r\n\t\tthis.node.className += ' '+this.bindClass;\r\n\t\tthis.node.className = this.node.className.trim()\r\n\t}\r\n\r\n\tprivate removeClass(){\r\n\t\tthis.node.className = this.node.className.replace(new RegExp('(?:^|\\s)'+this.bindClass+'(?!\\S)','g'), '' )\r\n\t\tthis.node.className = this.node.className.trim()\r\n\t}\r\n\r\n\tprivate hasClass(): boolean{\r\n\t\treturn this.node.className.indexOf(this.bindClass) !== -1;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/class.ts","import {EventBinding} from '../Binding';\r\n\r\nexport default class ClickBinding extends EventBinding{\r\n\tpublic static id: string = 'event';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\r\n\t\tthis.domEvents = ['click'];\r\n\t\tthis.updateEvents();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/click.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class DisabledBinding extends OneWayBinding{\r\n\tpublic static id: string = 'disabled';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(!this.expression.value){\r\n\t\t\tthis.node.removeAttribute('disabled')\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.node.setAttribute('disabled','disabled')\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/disabled.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class EnabledBinding extends OneWayBinding{\r\n\tpublic static id: string = 'enabled';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(this.expression.value){\r\n\t\t\tthis.node.removeAttribute('disabled')\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.node.setAttribute('disabled','disabled')\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/enabled.ts","import {EventBinding as _EventBinding} from '../Binding';\r\n\r\nexport default class EventBinding extends _EventBinding{\r\n\tpublic static id: string = 'event';\r\n\r\n\tconstructor(node: HTMLElement, expression: string, bindEvent: string){\r\n\t\tsuper(node, expression);\r\n\r\n\t\tthis.domEvents = [bindEvent];\r\n\t\tthis.updateEvents();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/event.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class ForEachBinding extends OneWayBinding{\r\n\tpublic static id: string = 'foreach';\r\n\tpublic static priority: number = 3;\r\n\tprivate children: Node[] = [];\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tfor (var i = 0; i < this.node.childNodes.length; i++){\r\n\t\t\tthis.children.push(this.node.childNodes[i]);\r\n\t\t}\r\n\t\tthis.removeAllChildren();\r\n\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tprivate restoreChildren(){\r\n\t\tfor(var i in this.children){\r\n\t\t\tthis.node.appendChild(this.children[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate removeAllChildren(){\r\n\t\twhile (this.node.childNodes.length !== 0) {\r\n\t\t    this.node.removeChild(this.node.childNodes[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\t// super.run(); dont run because we arnt going to use .run on are expression\r\n\t\tvar scope: Scope = this.expression.runOnScope().value;\r\n\r\n\t\tthis.removeAllChildren();\r\n\r\n\t\tif(scope instanceof Scope){\r\n\t\t\tfor (var i = 0; i < scope.values.length; i++) {\r\n\t\t\t\tfor (var k = 0; k < this.children.length; k++) {\r\n\t\t\t\t\tvar el: Node = this.children[k].cloneNode(true);\r\n\t\t\t\t\tel.__scope__ = scope.values[i];\r\n\t\t\t\t\tel.__addedScope__ = extend(el.__addedScope__,{\r\n\t\t\t\t\t\t$index: i,\r\n\t\t\t\t\t\t$isFirst: i==0,\r\n\t\t\t\t\t\t$isLast: i==scope.values.length-1\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.node.appendChild(el)\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthrow new Error('bind-foreach requires a Object or Array');\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tthis.removeAllChildren();\r\n\t\tsuper.unbind();\r\n\t\tthis.restoreChildren();\r\n\t}\r\n}\r\n\r\nimport {extend} from '../utils';\r\nimport Scope from '../Scope';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/foreach.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class HiddenBinding extends OneWayBinding{\r\n\tpublic static id: string = 'hidden';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(this.expression.value){\r\n\t\t\tthis.node.style.display = 'none'\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.node.style.display = ''\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/hidden.ts","import {OneWayBinding} from '../Binding';\r\nimport {setAttr} from '../utils';\r\n\r\nexport default class HrefBinding extends OneWayBinding{\r\n\tpublic static id: string = 'href';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tsetAttr(this.node, 'href', this.expression.value);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/href.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class HTMLBinding extends OneWayBinding{\r\n\tpublic static id: string = 'html';\r\n\tprivate oldText: string;\r\n\r\n\tconstructor(node:HTMLBRElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\r\n\t\tthis.oldText = this.node.textContent;\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.node.innerHTML = this.expression.value;\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\t\tthis.node.textContent = this.oldText;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/html.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class IfBinding extends OneWayBinding{\r\n\tpublic static id: string = 'if';\r\n\tprivate children: HTMLElement[] = [];\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tfor (var i = 0; i < this.node.children.length; i++){\r\n\t\t\tthis.children.push(<HTMLElement> this.node.children[i]);\r\n\t\t}\r\n\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tprivate restoreChildren(){\r\n\t\tfor(var i in this.children){\r\n\t\t\tthis.node.appendChild(this.children[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate removeChildren(){\r\n\t\twhile (this.node.children.length !== 0) {\r\n\t\t    this.node.removeChild(this.node.children[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(this.expression.value){\r\n\t\t\tthis.restoreChildren();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.removeChildren();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\t\tthis.removeChildren();\r\n\t\tthis.restoreChildren();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/if.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class IfNotBinding extends OneWayBinding{\r\n\tpublic static id: string = 'ifnot';\r\n\tprivate children: HTMLElement[] = [];\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tfor (var i = 0; i < this.node.children.length; i++){\r\n\t\t\tthis.children.push(<HTMLElement> this.node.children[i]);\r\n\t\t}\r\n\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tprivate restoreChildren(){\r\n\t\tfor(var i in this.children){\r\n\t\t\tthis.node.appendChild(this.children[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate removeChildren(){\r\n\t\twhile (this.node.children.length !== 0) {\r\n\t\t    this.node.removeChild(this.node.children[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(!this.expression.value){\r\n\t\t\tthis.restoreChildren();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.removeChildren();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\t\tthis.removeChildren();\r\n\t\tthis.restoreChildren();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/ifnot.ts","import {TwoWayBinding} from '../Binding';\r\n\r\nexport default class InputBinding extends TwoWayBinding{\r\n\tpublic static id: string = 'input';\r\n\r\n\tconstructor(public node: HTMLInputElement, expression: string){\r\n\t\tsuper(<HTMLElement> node, expression);\r\n\r\n\t\tthis.domEvents = ['input'];\r\n\t\tthis.updateEvents();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.node.value = this.expression.value;\r\n\t}\r\n\r\n\tpublic change(event:Event){\r\n\t\tsuper.change(event);\r\n\t\tvar value = this.expression.runOnScope().value;\r\n\t\tif(value instanceof Value)\r\n\t\t\tvalue.updateValue(this.node.value);\r\n\t}\r\n}\r\n\r\nimport Value from '../Value';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/input.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class RepeatBinding extends OneWayBinding{\r\n\tpublic static id: string = 'repeat';\r\n\tpublic static priority: number = 1;\r\n\tprivate children: Node[] = [];\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tfor (var i = 0; i < this.node.childNodes.length; i++){\r\n\t\t\tthis.children.push(this.node.childNodes[i]);\r\n\t\t}\r\n\t\tthis.removeChildren();\r\n\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tprivate restoreChildren(){\r\n\t\tfor(var i in this.children){\r\n\t\t\tthis.node.appendChild(this.children[i]);\r\n\t\t}\r\n\t}\r\n\tprivate removeChildren(){\r\n\t\twhile (this.node.childNodes.length !== 0) {\r\n\t\t    this.node.removeChild(this.node.childNodes[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.removeChildren();\r\n\r\n\t\tvar times = this.expression.value;\r\n\t\tfor (var i = 0; i < times; i++) {\r\n\t\t\tfor (var k = 0; k < this.children.length; k++) {\r\n\t\t\t\tvar el: Node = this.children[k].cloneNode(true);\r\n\t\t\t\tel.__addedScope__ = extend(el.__addedScope__,{\r\n\t\t\t\t\t$index: i,\r\n\t\t\t\t\t$isFirst: i == 0,\r\n\t\t\t\t\t$isLast: i == times - 1\r\n\t\t\t\t});\r\n\t\t\t\tthis.node.appendChild(el)\r\n\t\t\t};\r\n\t\t};\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tthis.removeChildren();\r\n\t\tsuper.unbind();\r\n\t\tthis.restoreChildren();\r\n\t}\r\n}\r\n\r\nimport {extend} from '../utils';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/repeat.ts","import {OneWayBinding} from '../Binding';\r\nimport {setAttr} from '../utils';\r\n\r\nexport default class SrcBinding extends OneWayBinding{\r\n\tpublic static id: string = 'src';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tsetAttr(this.node, 'src', this.expression.value);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/src.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class StyleBinding extends OneWayBinding{\r\n\tpublic static id: string = 'style';\r\n\r\n\tconstructor(node: HTMLElement, expression: string, public style: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tthis.node.style[this.style] = this.expression.value;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/style.ts","import {EventBinding} from '../Binding';\r\n\r\nexport default class SubmitBinding extends EventBinding{\r\n\tpublic static id: string = 'submit';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.domEvents = ['submit'];\r\n\t\tthis.updateEvents();\r\n\t}\r\n\r\n\tpublic change(event:Event){\r\n\t\tsuper.change(event);\r\n\t\tevent.preventDefault();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/submit.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class TextBinding extends OneWayBinding{\r\n\tpublic static id: string = 'text';\r\n\tprivate oldText: string;\r\n\r\n\tconstructor(node:HTMLBRElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\r\n\t\tthis.oldText = this.node.textContent;\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.node.innerText = this.expression.value;\r\n\t}\r\n\r\n\tpublic unbind(){\r\n\t\tsuper.unbind();\r\n\t\tthis.node.textContent = this.oldText;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/text.ts","import {TwoWayBinding} from '../Binding';\r\n\r\nexport default class ValueBinding extends TwoWayBinding{\r\n\tpublic static id: string = 'value';\r\n\r\n\tconstructor(public node: HTMLInputElement, expression: string){\r\n\t\tsuper(<HTMLElement> node, expression);\r\n\r\n\t\tthis.domEvents = ['change'];\r\n\t\tthis.updateEvents();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\t\tthis.node.value = this.expression.value;\r\n\t}\r\n\r\n\tpublic change(event:Event){\r\n\t\tsuper.change(event);\r\n\r\n\t\tvar value = this.expression.runOnScope().value;\r\n\t\tif(value instanceof Value){\r\n\t\t\tvalue.updateValue(this.node.value);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nimport Value from '../Value';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/value.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class VisibleBinding extends OneWayBinding{\r\n\tpublic static id: string = 'visible';\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\tsuper.run();\r\n\r\n\t\tif(this.expression.value)\r\n\t\t\tthis.node.style.display = ''\r\n\t\telse\r\n\t\t\tthis.node.style.display = 'none'\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/visible.ts","import {OneWayBinding} from '../Binding';\r\n\r\nexport default class WithBinding extends OneWayBinding{\r\n\tpublic static id: string = 'with';\r\n\tpublic static priority: number = 1;\r\n\r\n\tconstructor(node: HTMLElement, expression: string){\r\n\t\tsuper(node, expression);\r\n\t\tthis.run();\r\n\t}\r\n\r\n\tpublic run(){\r\n\t\t// super.run(); dont run because we arnt going to use .run on are expression\r\n\t\tvar scope: Scope = this.expression.runOnScope().value;\r\n\r\n\t\tif(scope instanceof Scope){\r\n\t\t\tfor (var i = 0; i < this.node.childNodes.length; i++){\r\n\t\t\t\tvar el: Node = this.node.childNodes[i];\r\n\t\t\t\tel.__scope__ = scope;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthrow new Error('bind-with requires a Object or Array');\r\n\t\t}\r\n\t}\r\n}\r\n\r\nimport Scope from '../Scope';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bindings/with.ts","import Modal from './Modal';\r\nimport 'object.observe';\r\n\r\n/**\r\n * creates a {@link Modal} from a Object\r\n * @func createModal\r\n * @memberof bindings\r\n * @param {Object} modal - the object that this modal will use\r\n * @param {Object} options - a object that contains some options\r\n * @see {@link Modal}\r\n * @returns {@link Bindings.Modal}\r\n */\r\nexport function createModal(modalObject:any = {},options:any = {}){\r\n\tvar modal: Modal = new Modal(modalObject, options);\r\n\r\n\tmodalObject._bindings = modal;\r\n\r\n\treturn modal;\r\n}\r\n/**\r\n * @func createModal\r\n * @memberof bindings\r\n * @param {Modal} modal - the modal to use when applying bindings to the html\r\n * @param {Node} node - the html element\r\n */\r\nexport function applyBindings(modal:any = {},node:any = document): void{\r\n\tif(modal instanceof Modal){\r\n\t\tmodal.applyBindings(node)\r\n\t}\r\n\telse if(modal._bindings instanceof Modal){\r\n\t\tmodal._bindings.applyBindings(node)\r\n\t}\r\n}\r\n\r\nexport * from './EventEmiter';\r\nexport * from './Expression';\r\nexport * from './Binding';\r\nexport * from './Modal';\r\nexport * from './Scope';\r\nexport * from './Value';\r\n\r\nimport * as bindingTypes from './bindingTypes';\r\nimport * as utils from './utils';\r\nexport {\r\n\tutils,\r\n\tbindingTypes\r\n}\r\n\r\nimport Binding from './Binding';\r\nimport Scope from './Scope';\r\ndeclare global {\r\n\tinterface Node {\r\n\t\t__scope__: Scope,\r\n\t\t__bindings__: Binding[],\r\n\t\t__addedScope__: any\r\n\t}\r\n\r\n\tinterface ObjectConstructor{\r\n\t\tunobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\t\tobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\t}\r\n\r\n\tinterface Object{\r\n\t\tunobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\t\tobserve(beingObserved: any, callback: (update: any) => any) : void;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}